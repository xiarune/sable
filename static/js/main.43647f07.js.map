{"version":3,"file":"static/js/main.43647f07.js","mappings":"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AC1B,MAAQt9C,EAAQjkE,KAAO,KAAOikE,EAAQjkE,OACzCipH,EAAgB1H,aAAa,eAC1B,MAAQt9C,EAAQtM,SACb,KACAsM,EAAQtM,WACdsxD,EAAgB1H,aAAa,iBAC1B,MAAQt9C,EAAQqlD,UACb,KACArlD,EAAQqlD,YACdL,EAAgB1H,aAAa,cAC1B,MAAQt9C,EAAQslD,QACb,KACAtlD,EAAQslD,SAChB,CACAH,EAAWxqH,OAAO7V,EAAG,GACrB,MAAMqI,CACR,CAEJ+vH,GADA8H,EAAkBD,EAAcrgI,cAAc85F,GACRA,EAAOxe,GAC7C+kD,EAAcE,KAAKhrH,YAAY+qH,GAC/B,MACF,QACE,MAAM7pH,MAAMogF,EAAuB,IAAKiD,IAE5CwmC,EAAgB99B,IAAuB04B,EACvCp3B,GAAoBw8B,GACpBxmC,EAAQwmC,CACV,CACApF,EAAa13B,UAAY1J,CAC3B,MACE+mC,GACER,EACAnF,EAAan7H,KACbm7H,EAAa13B,gBAGjB03B,EAAa13B,UAAYs9B,GACvBT,EACAvmC,EACAohC,EAAatiB,oBAGjB0nB,IAAoBxmC,GACf,OAASwmC,EACN,OAAShlD,EAAQkoB,YACfloB,EAAUA,EAAQkoB,WACZr1D,WAAWkF,YAAYioC,GAC/BglD,EAAgBpzF,QACpB,OAAS4sD,EACL+mC,GACER,EACAnF,EAAan7H,KACbm7H,EAAa13B,WAEfs9B,GACET,EACAvmC,EACAohC,EAAatiB,gBAEnB,OAAS9e,GACT,OAASohC,EAAa13B,WACtB44B,GACElB,EACAA,EAAatiB,cACbt9B,EAAQs9B,cAElB,CACA,MACF,KAAK,GACHmnB,GAAmCxzF,EAAM2uF,GACzCkF,GAA4BlF,GACpB,IAARphC,IACG6jC,IACC,OAASriD,GACTwgD,GAAgBxgD,EAASA,EAAQue,SACrC,OAASve,GACC,EAARwe,GACAsiC,GACElB,EACAA,EAAatiB,cACbt9B,EAAQs9B,eAEZ,MACF,KAAK,EAOH,GANAmnB,GAAmCxzF,EAAM2uF,GACzCkF,GAA4BlF,GACpB,IAARphC,IACG6jC,IACC,OAASriD,GACTwgD,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ASgzC,GAC7CiC,GACE31F,EACA0zF,EACA+B,EACAC,GAEChC,EAAcA,EAAYzlC,OACnC,CACA,SAAS0nC,GACPjE,EACA/C,EACA8G,EACAC,GAEA,IAAInoC,EAAQohC,EAAaphC,MACzB,OAAQohC,EAAanhC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACHgoC,GACE9D,EACA/C,EACA8G,EACAC,GAEM,KAARnoC,GAAgBmhC,GAA0B,EAAGC,GAC7C,MACF,KAAK,EAuDL,KAAK,GAQL,KAAK,GAiDL,QACE6G,GACE9D,EACA/C,EACA8G,EACAC,SA7GJ,KAAK,EACHF,GACE9D,EACA/C,EACA8G,EACAC,GAEM,KAARnoC,IACImkC,EAAe,KACjB,OAAS/C,EAAathC,YACnBqkC,EAAe/C,EAAathC,UAAUM,cAAcroD,QACtDqpF,EAAeA,EAAahhC,cAAcroD,SAC1BosF,IACd/C,EAAaxb,WACd,MAAQue,GAAgBte,GAAase,KACzC,MACF,KAAK,GACH,GAAY,KAARnkC,EAAc,CAChBioC,GACE9D,EACA/C,EACA8G,EACAC,GAEFhE,EAAe/C,EAAa13B,UAC5B,IACE,IAAI2+B,EAAyBjH,EAAatiB,cACxC5rG,EAAKm1H,EAAuBn1H,GAC5Bo1H,EAAeD,EAAuBC,aACxC,oBAAsBA,GACpBA,EACEp1H,EACA,OAASkuH,EAAathC,UAAY,QAAU,SAC5CqkC,EAAaoE,uBACZ,EAEP,CAAE,MAAOpxH,GACPmqH,GAAwBF,EAAcA,EAAarhC,OAAQ5oF,EAC7D,CACF,MACE8wH,GACE9D,EACA/C,EACA8G,EACAC,GAEJ,MAiBF,KAAK,GACH,MACF,KAAK,GACHE,EAAyBjH,EAAa13B,UACtCx2F,EAAKkuH,EAAathC,UAClB,OAASshC,EAAahhC,cACmB,EAArCioC,EAAuBjqB,YACrB6pB,GACE9D,EACA/C,EACA8G,EACAC,GAEFK,GAAwCrE,EAAc/C,GACnB,EAArCiH,EAAuBjqB,YACrB6pB,GACE9D,EACA/C,EACA8G,EACAC,IAEAE,EAAuBjqB,aAAe,EACxCqqB,GACEtE,EACA/C,EACA8G,EACAC,EACA,KAAmC,MAA5B/G,EAAariB,gBAAyB,IAE7C,KAAR/e,GAAgB8nC,GAAmC50H,EAAIkuH,GACvD,MACF,KAAK,GACH6G,GACE9D,EACA/C,EACA8G,EACAC,GAEM,KAARnoC,GACEgoC,GAA8B5G,EAAathC,UAAWshC,GAU9D,CACA,SAASqH,GACPb,EACAzB,EACAuC,EACAC,EACAd,GAKA,IAHAA,EACEA,IACC,KAAkC,MAA3B1B,EAAYpnB,gBAAyB,GAC1ConB,EAAcA,EAAYhzC,MAAO,OAASgzC,GAAe,CAC5D,IAAIhC,EAAeyD,EACjBxG,EAAe+E,EACf+B,EAAiBQ,EACjBP,EAAuBQ,EACvB3oC,EAAQohC,EAAaphC,MACvB,OAAQohC,EAAanhC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACHwoC,GACEtE,EACA/C,EACA8G,EACAC,EACAN,GAEF1G,GAA0B,EAAGC,GAC7B,MACF,KAAK,GACH,MACF,KAAK,GACH,IAAIhf,EAAWgf,EAAa13B,UAC5B,OAAS03B,EAAahhC,cACK,EAAvBgiB,EAAShE,YACPqqB,GACEtE,EACA/C,EACA8G,EACAC,EACAN,GAEFW,GACErE,EACA/C,IAEFhf,EAAShE,aAAe,EAC1BqqB,GACEtE,EACA/C,EACA8G,EACAC,EACAN,IAENA,GACU,KAAR7nC,GACA8nC,GACE1G,EAAathC,UACbshC,GAEJ,MACF,KAAK,GACHqH,GACEtE,EACA/C,EACA8G,EACAC,EACAN,GAEFA,GACU,KAAR7nC,GACAgoC,GAA8B5G,EAAathC,UAAWshC,GACxD,MACF,QACEqH,GACEtE,EACA/C,EACA8G,EACAC,EACAN,GAGN1B,EAAcA,EAAYzlC,OAC5B,CACF,CACA,SAAS8nC,GACPZ,EACAzB,GAEA,GAA+B,MAA3BA,EAAYpnB,aACd,IAAKonB,EAAcA,EAAYhzC,MAAO,OAASgzC,GAAe,CAC5D,IAAIhC,EAAeyD,EACjBxG,EAAe+E,EACfnmC,EAAQohC,EAAaphC,MACvB,OAAQohC,EAAanhC,KACnB,KAAK,GACHuoC,GAAwCrE,EAAc/C,GAC9C,KA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K8B,MACvC65G,GACA8pB,GAEV,CACAjB,EAAa9pC,CACf,CAEA,GADA+qC,GAAsB,EAClB,IAAMjB,EAAY,QACxB,CACF,CACA,GAAI,IAAMA,EAAY,CACpBP,GAAkB7F,EAAe,GACjC8F,GAAkB9F,EAAehgC,EAAO,GAAG,GAC3C,KACF,CACAnxF,EAAG,CAGD,OAFAq3H,EAAkBlG,EAClBqH,EAAsBjB,GAEpB,KAAK,EACL,KAAK,EACH,MAAM3vH,MAAMogF,EAAuB,MACrC,KAAK,EACH,IAAa,QAARmJ,KAAqBA,EAAO,MACnC,KAAK,EACH8lC,GACEI,EACAlmC,EACAs2B,IACCsO,IAEH,MAAM/1H,EACR,KAAK,EACH0uG,GAAsC,KACtC,MACF,KAAK,EACL,KAAK,EACH,MACF,QACE,MAAM9mG,MAAMogF,EAAuB,MAEvC,IACW,SAARmJ,KAAsBA,GAEvB,IADEomC,EAAalF,GAA+B,IAAM1wF,MAFtD,CAWE,GANAs1F,GACEI,EACAlmC,EACAs2B,IACCsO,IAEC,IAAM1kC,GAAagmC,EAAiB,GAAG,GAAK,MAAMr3H,EACtD22H,GAAsBxlC,EACtBkmC,EAAgBuB,cAAgBC,GAC9BC,GAAoB3zH,KAClB,KACAkyH,EACAD,EACA1oB,GACA6nB,GACAF,GACAllC,EACAs2B,GACAyO,GACApL,GACAiL,GACAyC,EACA,aACC,EACD,GAEFjB,EAGJ,MACAuB,GACEzB,EACAD,EACA1oB,GACA6nB,GACAF,GACAllC,EACAs2B,GACAyO,GACApL,GACAiL,GACAyC,EACA,MACC,EACD,EAEJ,CAEF,KAzIE,CAHEjB,EAAagB,GAAepH,EAAehgC,GAAO,GAClDqnC,GAAsB,CA4I5B,CACAtB,GAAsB/F,EACxB,CACA,SAAS2H,GACPp7F,EACA2uF,EACA0M,EACAC,EACAC,EACA9nC,EACAsB,EACAymC,EACAC,EACAC,EACA7B,EACA8B,EACAC,EACAC,GAIA,GAFA77F,EAAKk7F,eAAiB,EAGI,MAF1BS,EAAwBhN,EAAariB,eAGnC,YAAsC,SAAxBqvB,GACd,CAWArF,GACE3H,EACAl7B,EAZFk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K,WACL,IAAK,UACL,IAAK,QACL,IAAK,WACL,IAAK,0BACL,IAAK,wBACL,IAAK,iBACL,IAAK,SACL,IAAK,OACL,IAAK,WACL,IAAK,aACL,IAAK,OACL,IAAK,cACL,IAAK,WACL,IAAK,WACL,IAAK,WACL,IAAK,SACL,IAAK,WACL,IAAK,YACHrY,GAAS,oBAAsBA,GAAS,kBAAoBA,EACxDy8H,EAAW36G,aAAazJ,EAAK,IAC7BokH,EAAW17C,gBAAgB1oE,GAC/B,MACF,IAAK,UACL,IAAK,YACH,IAAOrY,EACHy8H,EAAW36G,aAAazJ,EAAK,KAC7B,IAAOrY,GACL,MAAQA,GACR,oBAAsBA,GACtB,kBAAoBA,EACpBy8H,EAAW36G,aAAazJ,EAAKrY,GAC7By8H,EAAW17C,gBAAgB1oE,GACjC,MACF,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACH,MAAQrY,GACR,oBAAsBA,GACtB,kBAAoBA,IACnBse,MAAMte,IACP,GAAKA,EACDy8H,EAAW36G,aAAazJ,EAAKrY,GAC7By8H,EAAW17C,gBAAgB1oE,GAC/B,MACF,IAAK,UACL,IAAK,QACH,MAAQrY,GACR,oBAAsBA,GACtB,kBAAoBA,GACpBse,MAAMte,GACFy8H,EAAW17C,gBAAgB1oE,GAC3BokH,EAAW36G,aAAazJ,EAAKrY,GACjC,MACF,IAAK,UACHu8G,GAA0B,eAAgBkgB,GAC1ClgB,GAA0B,SAAUkgB,GACpC33B,GAAqB23B,EAAY,UAAWz8H,GAC5C,MACF,IAAK,eACHklG,GACEu3B,EACA,+BACA,gBACAz8H,GAEF,MACF,IAAK,eACHklG,GACEu3B,EACA,+BACA,gBACAz8H,GAEF,MACF,IAAK,YACHklG,GACEu3B,EACA,+BACA,aACAz8H,GAEF,MACF,IAAK,YACHklG,GACEu3B,EACA,+BACA,aACAz8H,GAEF,MACF,IAAK,aACHklG,GACEu3B,EACA,+BACA,cACAz8H,GAEF,MACF,IAAK,YACHklG,GACEu3B,EACA,+BACA,aACAz8H,GAEF,MACF,IAAK,UACHklG,GACEu3B,EACA,uCACA,WACAz8H,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","sources":["../node_modules/react/jsx-runtime.js","../node_modules/lottie-web/build/player/lottie.js","../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/lottie-react/compiled/hooks/useLottie.js","../node_modules/lottie-react/compiled/hooks/useLottieInteractivity.js","../node_modules/lottie-react/compiled/components/Lottie.js","../node_modules/react/cjs/react.production.js","../node_modules/react-dom/client.js","../node_modules/react/index.js","../node_modules/scheduler/cjs/scheduler.production.js","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/react-dom/index.js","../node_modules/scheduler/index.js","../webpack/bootstrap","../webpack/runtime/amd options","../webpack/runtime/compat get default export","../webpack/runtime/create fake namespace object","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/react-router/dist/development/chunk-EPOLDU6W.mjs","api/config.js","api/client.js","api/auth.js","api/drafts.js","api/works.js","api/uploads.js","api/notifications.js","../node_modules/engine.io-parser/build/esm/commons.js","../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../node_modules/engine.io-parser/build/esm/index.js","../node_modules/@socket.io/component-emitter/lib/esm/index.js","../node_modules/engine.io-client/build/esm/globals.js","../node_modules/engine.io-client/build/esm/util.js","../node_modules/engine.io-client/build/esm/transport.js","../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../node_modules/engine.io-client/build/esm/transports/polling.js","../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../node_modules/engine.io-client/build/esm/transports/polling-xhr.js","../node_modules/engine.io-client/build/esm/transports/websocket.js","../node_modules/engine.io-client/build/esm/transports/index.js","../node_modules/engine.io-client/build/esm/transports/webtransport.js","../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../node_modules/engine.io-client/build/esm/socket.js","../node_modules/socket.io-parser/build/esm/is-binary.js","../node_modules/socket.io-parser/build/esm/binary.js","../node_modules/socket.io-parser/build/esm/index.js","../node_modules/socket.io-client/build/esm/on.js","../node_modules/socket.io-client/build/esm/socket.js","../node_modules/socket.io-client/build/esm/contrib/backo2.js","../node_modules/socket.io-client/build/esm/manager.js","../node_modules/socket.io-client/build/esm/index.js","../node_modules/socket.io-client/build/esm/url.js","api/socket.js","api/settings.js","api/users.js","api/discovery.js","api/bookmarks.js","api/likes.js","api/comments.js","api/import.js","api/contact.js","api/community.js","api/follows.js","api/messages.js","api/posts.js","api/skins.js","assets/images/draft_nav.svg","assets/images/inbox_nav.svg","assets/images/notifications_nav.svg","assets/images/search_nav.svg","components/Navbar.js","components/Footer.js","components/WorkCarousel.js","components/SableLoader.js","components/DropCapTitle.js","components/BrowseOrnament.js","pages/HomeLoggedIn.js","pages/HomeLoggedOut.js","pages/Browse.js","data/libraryWorks.js","pages/Communities.js","pages/About.js","pages/Search.js","pages/Inbox.js","pages/Notifications.js","pages/Profile.js","pages/Settings.js","pages/Bookmarks.js","pages/NewDraft.js","pages/YourCommunityPage.js","pages/PublicCommunityPage.js","pages/GenreIndex.js","pages/GenreDetail.js","pages/FandomIndex.js","pages/FandomDetail.js","pages/TagsIndex.js","pages/TagDetail.js","pages/YourWorks.js","pages/WorkEditor.js","pages/WorkView.js","pages/Drafts.js","pages/DraftEditor.js","pages/SupportSable.js","pages/OnboardingUsername.js","pages/VerifyEmail.js","pages/ForgotPassword.js","pages/ResetPassword.js","pages/TwoFactorSetup.js","pages/FAQ.js","pages/ErrorPage.js","App.js","index.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","(typeof document !== \"undefined\") && (typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n        default:\n          value = 1.1;\n          break;\n      }\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n      return arr;\n    }\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n      return createRegularArray(type, len);\n    }\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n    return createRegularArray;\n  }();\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(o) { \"@babel/helpers - typeof\"; return _typeof$6 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof$6(o); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var expressionsInterfaces = null;\n  var idPrefix$1 = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n  function ProjectInterface$1() {\n    return {};\n  }\n  BMMath.random = Math.random;\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n      return absArr;\n    }\n    return Math.abs(val);\n  };\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n    return value;\n  }\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix$1 + '__lottie_element_' + _count;\n    };\n  }();\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n      default:\n        break;\n    }\n    return [r, g, b];\n  }\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n      default:\n        break;\n    }\n    return [h, s, v];\n  }\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n      if (g < 0) {\n        g = 0;\n      }\n      if (b < 0) {\n        b = 0;\n      }\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n  var setExpressionInterfaces = function setExpressionInterfaces(value) {\n    expressionsInterfaces = value;\n  };\n  var getExpressionInterfaces = function getExpressionInterfaces() {\n    return expressionsInterfaces;\n  };\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix$1 = value;\n  };\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix$1;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(o) { \"@babel/helpers - typeof\"; return _typeof$5 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof$5(o); }\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        });\n        // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n      workerFn = fn;\n      return workerProxy;\n    }\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets);\n                    // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n                i += 1;\n              }\n              return null;\n            }\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n              return null;\n            }\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n              return null;\n            }\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {\n                // data.singleShape = true;\n              }\n            }\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n                return null;\n              }\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest();\n                // set responseType after calling open or IE will break.\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n                try {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), path, true);\n                } catch (error) {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), fullPath + '/' + path, true);\n                }\n                xhr.send();\n              }\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n            _workerSelf.dataManager.completeData(animation);\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n    function imageLoaded() {\n      this.loadedAssets += 1;\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n      return path;\n    }\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n          clearInterval(intervalId);\n        }\n        _count += 1;\n      }.bind(this), 50);\n    }\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n    function setPath(path) {\n      this.path = path || '';\n    }\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n        i += 1;\n      }\n      return null;\n    }\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n      this._cbs[eventName].push(callback);\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n            i -= 1;\n            len -= 1;\n          }\n          i += 1;\n        }\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n      if (keysCount === 0) {\n        throw new Error();\n      }\n      return keys;\n    }\n    return function (_markers) {\n      var markers = [];\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i].cm\n            };\n          }\n        }\n        markers.push(markerData);\n      }\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n            return this.compositions[i].compInterface;\n          }\n          i += 1;\n        }\n        return null;\n      }\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n  function getRenderer(key) {\n    return renderers[key];\n  }\n  function getRegisteredRenderer() {\n    // Returns canvas by default for compatibility\n    if (renderers.canvas) {\n      return 'canvas';\n    }\n    // Returns any renderer that is registered\n    for (var key in renderers) {\n      if (renderers[key]) {\n        return key;\n      }\n    }\n    return '';\n  }\n\n  function _typeof$4(o) { \"@babel/helpers - typeof\"; return _typeof$4 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof$4(o); }\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\n    this.expressionsPlugin = getExpressionsPlugin();\n  };\n  extendPrototype([BaseEvent], AnimationItem);\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n    var animType = 'svg';\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : getRegisteredRenderer() || 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n    if (!params.path) {\n      this.trigger('destroy');\n    } else {\n      this.setParams(params);\n    }\n  };\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n        i += 1;\n      }\n    }\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n    if (data.assets) {\n      len = data.assets.length;\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n    this.loadNextSegment();\n  };\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n    this.loadNextSegment();\n  };\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n    try {\n      this.animationData = animData;\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n      this.renderer.configAnimation(animData);\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n  AnimationItem.prototype.resize = function (width, height) {\n    // Adding this validation for backwards compatibility in case an event object was being passed down\n    var _width = typeof width === 'number' ? width : undefined;\n    var _height = typeof height === 'number' ? height : undefined;\n    this.renderer.updateContainerSize(_width, _height);\n  };\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n    try {\n      if (this.expressionsPlugin) {\n        this.expressionsPlugin.resetFrame();\n      }\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.trigger('_play');\n      this.audioController.resume();\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this.trigger('_pause');\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n      if (marker.payload && marker.payload.name === markerName) {\n        return marker;\n      }\n    }\n    return null;\n  };\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n    var numValue = Number(value);\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n    this.pause();\n  };\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n    var numValue = Number(value);\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n    this.play();\n  };\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false;\n    // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n    this.trigger('segmentStart');\n  };\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n    return false;\n  };\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.expressionsPlugin = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n  AnimationItem.prototype.setLoop = function (isLooping) {\n    this.loop = isLooping;\n  };\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n    this.audioController.setVolume(val);\n  };\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n    this.audioController.mute();\n  };\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n    this.audioController.unmute();\n  };\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n    return path;\n  };\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n      i += 1;\n    }\n    return null;\n  };\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\n    try {\n      var element = this.renderer.getElementByPath(path);\n      element.updateDocumentData(documentData, index);\n    } catch (error) {\n      // TODO: decide how to handle catch case\n    }\n  };\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n        case 'drawnFrame':\n          this.drawnFrameEvent.currentTime = this.currentFrame;\n          this.drawnFrameEvent.totalTime = this.totalFrames;\n          this.drawnFrameEvent.direction = this.frameModifier;\n          this.triggerEvent(name, this.drawnFrameEvent);\n          break;\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n        default:\n          this.triggerEvent(name);\n      }\n    }\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n        i += 1;\n      }\n    }\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n      var i = 0;\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n        i += 1;\n      }\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n      return animations;\n    }\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n    function setSpeed(val, animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n    function setDirection(val, animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n    function play(animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n      initTime = nowTime;\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n    function pause(animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n    function stop(animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n    function togglePause(animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n    function destroy(animation) {\n      var i;\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n        registerAnimation(animElements[i], animationData);\n      }\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n    function resize() {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n    function freeze() {\n      _isFrozen = true;\n    }\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n    function setVolume(val, animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n    function mute(animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n    function unmute(animation) {\n      var i;\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize;\n    // moduleOb.start = start;\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\n       * BezierEasing - use bezier curve for transition easing function\n       * by Gatan Renaudeau 2014 - 2015  MIT License\n       *\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\n       * Usage:\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\n       *\n       */\n\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n      if (beziers[str]) {\n        return beziers[str];\n      }\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    }\n\n    // These values are established by empiricism with tests (tradeoff: performance VS precision)\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n    function C(aA1) {\n      return 3.0 * aA1;\n    }\n\n    // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    }\n\n    // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n        currentT,\n        i = 0;\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n      return currentT;\n    }\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n      return aGuessT;\n    }\n\n    /**\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\n       */\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n          mY1 = this._p[1],\n          mX2 = this._p[2],\n          mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n          mY1 = this._p[1],\n          mX2 = this._p[2],\n          mY2 = this._p[3];\n        this._precomputed = true;\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n          mX2 = this._p[2];\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n      /**\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n          mX2 = this._p[2],\n          mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n        --currentSample;\n\n        // Interpolate to provide an initial guess for t\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n      function newElement() {\n        var element;\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n        return element;\n      }\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n        if (_release) {\n          _release(element);\n        }\n        pool[_length] = element;\n        _length += 1;\n      }\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n      element.lengths.length = 0;\n    }\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n            lastPoint[i] = point[i];\n          }\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n        return storedData[bezierName];\n      };\n    }();\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n          flag = false;\n        }\n      }\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n      var t0t0t0 = t0 * t0 * t0;\n      //\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n      var t0t0t1 = t0 * t0 * t1;\n      //\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n      var t0t1t1 = t0 * t1 * t1;\n      //\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n      var t1t1t1 = t1 * t1 * t1;\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n      return bezierSegmentPoints;\n    }\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n  var bez = bezFunction();\n\n  var initFrame = initialDefaultFrame;\n  var mathAbs = Math.abs;\n  function interpolateValue(frameNum, caching) {\n    var offsetTime = this.offsetTime;\n    var newValue;\n    if (this.propType === 'multidimensional') {\n      newValue = createTypedArray('float32', this.pv.length);\n    }\n    var iterationIndex = caching.lastIndex;\n    var i = iterationIndex;\n    var len = this.keyframes.length - 1;\n    var flag = true;\n    var keyData;\n    var nextKeyData;\n    var keyframeMetadata;\n    while (flag) {\n      keyData = this.keyframes[i];\n      nextKeyData = this.keyframes[i + 1];\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n        if (keyData.h) {\n          keyData = nextKeyData;\n        }\n        iterationIndex = 0;\n        break;\n      }\n      if (nextKeyData.t - offsetTime > frameNum) {\n        iterationIndex = i;\n        break;\n      }\n      if (i < len - 1) {\n        i += 1;\n      } else {\n        iterationIndex = 0;\n        flag = false;\n      }\n    }\n    keyframeMetadata = this.keyframesMetadata[i] || {};\n    var k;\n    var kLen;\n    var perc;\n    var jLen;\n    var j;\n    var fnc;\n    var nextKeyTime = nextKeyData.t - offsetTime;\n    var keyTime = keyData.t - offsetTime;\n    var endValue;\n    if (keyData.to) {\n      if (!keyframeMetadata.bezierData) {\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n      }\n      var bezierData = keyframeMetadata.bezierData;\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n        kLen = bezierData.points[ind].point.length;\n        for (k = 0; k < kLen; k += 1) {\n          newValue[k] = bezierData.points[ind].point[k];\n        }\n        // caching._lastKeyframeIndex = -1;\n      } else {\n        if (keyframeMetadata.__fnct) {\n          fnc = keyframeMetadata.__fnct;\n        } else {\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n          keyframeMetadata.__fnct = fnc;\n        }\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n        var distanceInLine = bezierData.segmentLength * perc;\n        var segmentPerc;\n        var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n        j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n        flag = true;\n        jLen = bezierData.points.length;\n        while (flag) {\n          addedLength += bezierData.points[j].partialLength;\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n            kLen = bezierData.points[j].point.length;\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k];\n            }\n            break;\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n            kLen = bezierData.points[j].point.length;\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n            }\n            break;\n          }\n          if (j < jLen - 1) {\n            j += 1;\n          } else {\n            flag = false;\n          }\n        }\n        caching._lastPoint = j;\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n        caching._lastKeyframeIndex = i;\n      }\n    } else {\n      var outX;\n      var outY;\n      var inX;\n      var inY;\n      var keyValue;\n      len = keyData.s.length;\n      endValue = nextKeyData.s || keyData.e;\n      if (this.sh && keyData.h !== 1) {\n        if (frameNum >= nextKeyTime) {\n          newValue[0] = endValue[0];\n          newValue[1] = endValue[1];\n          newValue[2] = endValue[2];\n        } else if (frameNum <= keyTime) {\n          newValue[0] = keyData.s[0];\n          newValue[1] = keyData.s[1];\n          newValue[2] = keyData.s[2];\n        } else {\n          var quatStart = createQuaternion(keyData.s);\n          var quatEnd = createQuaternion(endValue);\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n        }\n      } else {\n        for (i = 0; i < len; i += 1) {\n          if (keyData.h !== 1) {\n            if (frameNum >= nextKeyTime) {\n              perc = 1;\n            } else if (frameNum < keyTime) {\n              perc = 0;\n            } else {\n              if (keyData.o.x.constructor === Array) {\n                if (!keyframeMetadata.__fnct) {\n                  keyframeMetadata.__fnct = [];\n                }\n                if (!keyframeMetadata.__fnct[i]) {\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyframeMetadata.__fnct[i] = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct[i];\n                }\n              } else if (!keyframeMetadata.__fnct) {\n                outX = keyData.o.x;\n                outY = keyData.o.y;\n                inX = keyData.i.x;\n                inY = keyData.i.y;\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                keyData.keyframeMetadata = fnc;\n              } else {\n                fnc = keyframeMetadata.__fnct;\n              }\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n            }\n          }\n          endValue = nextKeyData.s || keyData.e;\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n          if (this.propType === 'multidimensional') {\n            newValue[i] = keyValue;\n          } else {\n            newValue = keyValue;\n          }\n        }\n      }\n    }\n    caching.lastIndex = iterationIndex;\n    return newValue;\n  }\n\n  // based on @Toji's https://github.com/toji/gl-matrix/\n  function slerp(a, b, t) {\n    var out = [];\n    var ax = a[0];\n    var ay = a[1];\n    var az = a[2];\n    var aw = a[3];\n    var bx = b[0];\n    var by = b[1];\n    var bz = b[2];\n    var bw = b[3];\n    var omega;\n    var cosom;\n    var sinom;\n    var scale0;\n    var scale1;\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    if (cosom < 0.0) {\n      cosom = -cosom;\n      bx = -bx;\n      by = -by;\n      bz = -bz;\n      bw = -bw;\n    }\n    if (1.0 - cosom > 0.000001) {\n      omega = Math.acos(cosom);\n      sinom = Math.sin(omega);\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\n      scale1 = Math.sin(t * omega) / sinom;\n    } else {\n      scale0 = 1.0 - t;\n      scale1 = t;\n    }\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n    return out;\n  }\n  function quaternionToEuler(out, quat) {\n    var qx = quat[0];\n    var qy = quat[1];\n    var qz = quat[2];\n    var qw = quat[3];\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n    out[0] = heading / degToRads;\n    out[1] = attitude / degToRads;\n    out[2] = bank / degToRads;\n  }\n  function createQuaternion(values) {\n    var heading = values[0] * degToRads;\n    var attitude = values[1] * degToRads;\n    var bank = values[2] * degToRads;\n    var c1 = Math.cos(heading / 2);\n    var c2 = Math.cos(attitude / 2);\n    var c3 = Math.cos(bank / 2);\n    var s1 = Math.sin(heading / 2);\n    var s2 = Math.sin(attitude / 2);\n    var s3 = Math.sin(bank / 2);\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\n    return [x, y, z, w];\n  }\n  function getValueAtCurrentTime() {\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\n    var initTime = this.keyframes[0].t - this.offsetTime;\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n    if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n      if (this._caching.lastFrame >= frameNum) {\n        this._caching._lastKeyframeIndex = -1;\n        this._caching.lastIndex = 0;\n      }\n      var renderResult = this.interpolateValue(frameNum, this._caching);\n      this.pv = renderResult;\n    }\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n  function setVValue(val) {\n    var multipliedValue;\n    if (this.propType === 'unidimensional') {\n      multipliedValue = val * this.mult;\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\n        this.v = multipliedValue;\n        this._mdf = true;\n      }\n    } else {\n      var i = 0;\n      var len = this.v.length;\n      while (i < len) {\n        multipliedValue = val[i] * this.mult;\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n          this.v[i] = multipliedValue;\n          this._mdf = true;\n        }\n        i += 1;\n      }\n    }\n  }\n  function processEffectsSequence() {\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n      return;\n    }\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n    this.lock = true;\n    this._mdf = this._isFirstFrame;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = this.kf ? this.pv : this.data.k;\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](finalValue);\n    }\n    this.setVValue(finalValue);\n    this._isFirstFrame = false;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  }\n  function addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n  function ValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this.v = mult ? data.k * mult : data.k;\n    this.pv = data.k;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.vel = 0;\n    this.effectsSequence = [];\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n  function MultiDimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.frameId = -1;\n    var i;\n    var len = data.k.length;\n    this.v = createTypedArray('float32', len);\n    this.pv = createTypedArray('float32', len);\n    this.vel = createTypedArray('float32', len);\n    for (i = 0; i < len; i += 1) {\n      this.v[i] = data.k[i] * this.mult;\n      this.pv[i] = data.k[i];\n    }\n    this._isFirstFrame = true;\n    this.effectsSequence = [];\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n  function KeyframedValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.frameId = -1;\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: 0,\n      _lastKeyframeIndex: -1\n    };\n    this.k = true;\n    this.kf = true;\n    this.data = data;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.v = initFrame;\n    this.pv = initFrame;\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.addEffect = addEffect;\n  }\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    var i;\n    var len = data.k.length;\n    var s;\n    var e;\n    var to;\n    var ti;\n    for (i = 0; i < len - 1; i += 1) {\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n        s = data.k[i].s;\n        e = data.k[i + 1].s;\n        to = data.k[i].to;\n        ti = data.k[i].ti;\n        if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n          data.k[i].to = null;\n          data.k[i].ti = null;\n        }\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n          if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n        }\n      }\n    }\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.data = data;\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.k = true;\n    this.kf = true;\n    this._isFirstFrame = true;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.frameId = -1;\n    var arrLen = data.k[0].s.length;\n    this.v = createTypedArray('float32', arrLen);\n    this.pv = createTypedArray('float32', arrLen);\n    for (i = 0; i < arrLen; i += 1) {\n      this.v[i] = initFrame;\n      this.pv[i] = initFrame;\n    }\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: createTypedArray('float32', arrLen)\n    };\n    this.addEffect = addEffect;\n  }\n  var PropertyFactory = function () {\n    function getProp(elem, data, type, mult, container) {\n      if (data.sid) {\n        data = elem.globalData.slotManager.getProp(data);\n      }\n      var p;\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n          default:\n            break;\n        }\n      }\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n      return p;\n    }\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n    this._length = len;\n  };\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n      case 'i':\n        arr = this.i;\n        break;\n      case 'o':\n        arr = this.o;\n        break;\n      default:\n        arr = [];\n        break;\n    }\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n    return newPath;\n  };\n  ShapePath.prototype.length = function () {\n    return this._length;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n      return cloned;\n    }\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n    function newShapeCollection() {\n      var shapeCollection;\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n      return shapeCollection;\n    }\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n      shapeCollection._length = 0;\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\n                  keyPropS = kf[kf.length - 1].s[0];\n              }else{\n                  keyPropS = kf[kf.length - 2].e[0];\n              } */\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n        keyPropS = keyData.s[0];\n      }\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching);\n        /// /\n      }\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n      var i;\n      var len = shape1._length;\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n      return true;\n    }\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n      var i;\n      var len = this.effectsSequence.length;\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n          var _cw = this.d !== 3;\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\n                  this.v.i.length = numPts;\n                  this.v.o.length = numPts; */\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n\n            /* this.v.v[i] = [x,y];\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\n                      this.v._length = numPts; */\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n    function getShapeProp(elem, data, type) {\n      var prop;\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n      return prop;\n    }\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\n   Transformation Matrix v2.0\n   (c) Epistemex 2014-2015\n   www.epistemex.com\n   By Ken Fyrstenberg\n   Contributions by leeoniya.\n   License: MIT, header required.\n   */\n\n  /**\n   * 2D transformation matrix object initialized with identity matrix.\n   *\n   * The matrix can synchronize a canvas context by supplying the context\n   * as an argument, or later apply current absolute transform to an\n   * existing context.\n   *\n   * All values are handled as floating point values.\n   *\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\n   * @prop {number} a - scale x\n   * @prop {number} b - shear y\n   * @prop {number} c - shear x\n   * @prop {number} d - scale y\n   * @prop {number} e - translate x\n   * @prop {number} f - translate y\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\n   * @constructor\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n      var mCos = _cos(angle);\n      var mSin = _sin(angle);\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n      var mCos = _cos(angle);\n      var mSin = _sin(angle);\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n      var mCos = _cos(angle);\n      var mSin = _sin(angle);\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n      var mCos = _cos(angle);\n      var mSin = _sin(angle);\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n      var mSin = _sin(angle);\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n      // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n      return this;\n    }\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2;\n        // }\n        this._identityCalculated = false;\n        return this;\n      }\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n\n      /* matrix order (canvas compatible):\n           * ace\n           * bdf\n           * 001\n           */\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n    function multiply(matrix) {\n      var matrixProps = matrix.props;\n      return this.transform(matrixProps[0], matrixProps[1], matrixProps[2], matrixProps[3], matrixProps[4], matrixProps[5], matrixProps[6], matrixProps[7], matrixProps[8], matrixProps[9], matrixProps[10], matrixProps[11], matrixProps[12], matrixProps[13], matrixProps[14], matrixProps[15]);\n    }\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n      return this._identity;\n    }\n    function equals(matr) {\n      var i = 0;\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n        i += 1;\n      }\n      return true;\n    }\n    function clone(matr) {\n      var i;\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n      return matr;\n    }\n    function cloneFromProps(props) {\n      var i;\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\n           x: x * me.a + y * me.c + me.e,\n           y: x * me.b + y * me.d + me.f\n           }; */\n    }\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n      return retPts;\n    }\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n      return arr;\n    }\n    function applyToPointArray(x, y, z) {\n      var arr;\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n      return arr;\n    }\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n      /* if(this.isIdentity()) {\n              return '';\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n      return cssValue;\n    }\n    function roundMatrixProperty(val) {\n      var v = 10000;\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n      return val;\n    }\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n      /* if(this.isIdentity()) {\n              return '';\n          } */\n      var props = this.props;\n      var _a = roundMatrixProperty(props[0]);\n      var _b = roundMatrixProperty(props[1]);\n      var _c = roundMatrixProperty(props[4]);\n      var _d = roundMatrixProperty(props[5]);\n      var _e = roundMatrixProperty(props[12]);\n      var _f = roundMatrixProperty(props[13]);\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.multiply = multiply;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(o) { \"@babel/helpers - typeof\"; return _typeof$3 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof$3(o); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n    return animationManager.loadAnimation(params);\n  }\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n      case 'matrix':\n        return Matrix;\n      default:\n        return null;\n    }\n  }\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize;\n  // lottie.start = start;\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.13.0';\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n    return null;\n  }\n  var queryString = '';\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\n    renderer = getQueryVariable('renderer');\n  }\n  var readyStateCheckInterval = setInterval(checkReady, 100);\n\n  // this adds bodymovin to the window object for backwards compatibility\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {\n    //\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n    return ob;\n  }();\n  function ShapeModifier() {}\n  ShapeModifier.prototype.initModifierProperties = function () {};\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n  extendPrototype([ShapeModifier], TrimModifier);\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n    return shapeSegments;\n  };\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n    pathsData.length = 0;\n    return pathsData;\n  };\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n      if (o < 0) {\n        o += 1;\n      }\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes();\n          // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n          jLen = edges.length;\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n    shapes.push(shapePath);\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\n            // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n            newShape = false;\n            shapePath.c = false;\n          }\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\n            // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n    return clonedPath;\n  };\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n      this.iterateDynamicProperties();\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n      this.frameId = this.elem.globalData.frameId;\n    }\n    function precalculateMatrix() {\n      this.appliedTransformations = 0;\n      this.pre.reset();\n      if (!this.a.effectsSequence.length) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n    function autoOrient() {\n      //\n      // var prevP = this.getValueAtTime();\n    }\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix();\n      // Precalculated matrix with non animated properties\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\n        // sh Indicates it needs to be capped between -180 and 180\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this);\n      // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n      this._isDirty = true;\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n  extendPrototype([ShapeModifier], RepeaterModifier);\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n    while (pos > 0) {\n      pos -= 1;\n      // this._elements.unshift(arr.splice(pos,1)[0]);\n      this._elements.unshift(arr[pos]);\n    }\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n          this._groups.splice(0, 0, group);\n          this._currentCopies += 1;\n        }\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n      cont = 0;\n      var renderFlag;\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n        cont += 1;\n      }\n      this._currentCopies = copies;\n      /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n    return hasReloaded;\n  };\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\n                  clonedPath.o[index] = currentO;\n                  clonedPath.i[index] = currentI; */\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n    return clonedPath;\n  };\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function floatEqual(a, b) {\n    return Math.abs(a - b) * 100000 <= Math.min(Math.abs(a), Math.abs(b));\n  }\n  function floatZero(f) {\n    return Math.abs(f) <= 0.00001;\n  }\n  function lerp(p0, p1, amount) {\n    return p0 * (1 - amount) + p1 * amount;\n  }\n  function lerpPoint(p0, p1, amount) {\n    return [lerp(p0[0], p1[0], amount), lerp(p0[1], p1[1], amount)];\n  }\n  function quadRoots(a, b, c) {\n    // no root\n    if (a === 0) return [];\n    var s = b * b - 4 * a * c;\n    // Complex roots\n    if (s < 0) return [];\n    var singleRoot = -b / (2 * a);\n    // 1 root\n    if (s === 0) return [singleRoot];\n    var delta = Math.sqrt(s) / (2 * a);\n    // 2 roots\n    return [singleRoot - delta, singleRoot + delta];\n  }\n  function polynomialCoefficients(p0, p1, p2, p3) {\n    return [-p0 + 3 * p1 - 3 * p2 + p3, 3 * p0 - 6 * p1 + 3 * p2, -3 * p0 + 3 * p1, p0];\n  }\n  function singlePoint(p) {\n    return new PolynomialBezier(p, p, p, p, false);\n  }\n  function PolynomialBezier(p0, p1, p2, p3, linearize) {\n    if (linearize && pointEqual(p0, p1)) {\n      p1 = lerpPoint(p0, p3, 1 / 3);\n    }\n    if (linearize && pointEqual(p2, p3)) {\n      p2 = lerpPoint(p0, p3, 2 / 3);\n    }\n    var coeffx = polynomialCoefficients(p0[0], p1[0], p2[0], p3[0]);\n    var coeffy = polynomialCoefficients(p0[1], p1[1], p2[1], p3[1]);\n    this.a = [coeffx[0], coeffy[0]];\n    this.b = [coeffx[1], coeffy[1]];\n    this.c = [coeffx[2], coeffy[2]];\n    this.d = [coeffx[3], coeffy[3]];\n    this.points = [p0, p1, p2, p3];\n  }\n  PolynomialBezier.prototype.point = function (t) {\n    return [((this.a[0] * t + this.b[0]) * t + this.c[0]) * t + this.d[0], ((this.a[1] * t + this.b[1]) * t + this.c[1]) * t + this.d[1]];\n  };\n  PolynomialBezier.prototype.derivative = function (t) {\n    return [(3 * t * this.a[0] + 2 * this.b[0]) * t + this.c[0], (3 * t * this.a[1] + 2 * this.b[1]) * t + this.c[1]];\n  };\n  PolynomialBezier.prototype.tangentAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[1], p[0]);\n  };\n  PolynomialBezier.prototype.normalAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[0], p[1]);\n  };\n  PolynomialBezier.prototype.inflectionPoints = function () {\n    var denom = this.a[1] * this.b[0] - this.a[0] * this.b[1];\n    if (floatZero(denom)) return [];\n    var tcusp = -0.5 * (this.a[1] * this.c[0] - this.a[0] * this.c[1]) / denom;\n    var square = tcusp * tcusp - 1 / 3 * (this.b[1] * this.c[0] - this.b[0] * this.c[1]) / denom;\n    if (square < 0) return [];\n    var root = Math.sqrt(square);\n    if (floatZero(root)) {\n      if (root > 0 && root < 1) return [tcusp];\n      return [];\n    }\n    return [tcusp - root, tcusp + root].filter(function (r) {\n      return r > 0 && r < 1;\n    });\n  };\n  PolynomialBezier.prototype.split = function (t) {\n    if (t <= 0) return [singlePoint(this.points[0]), this];\n    if (t >= 1) return [this, singlePoint(this.points[this.points.length - 1])];\n    var p10 = lerpPoint(this.points[0], this.points[1], t);\n    var p11 = lerpPoint(this.points[1], this.points[2], t);\n    var p12 = lerpPoint(this.points[2], this.points[3], t);\n    var p20 = lerpPoint(p10, p11, t);\n    var p21 = lerpPoint(p11, p12, t);\n    var p3 = lerpPoint(p20, p21, t);\n    return [new PolynomialBezier(this.points[0], p10, p20, p3, true), new PolynomialBezier(p3, p21, p12, this.points[3], true)];\n  };\n  function extrema(bez, comp) {\n    var min = bez.points[0][comp];\n    var max = bez.points[bez.points.length - 1][comp];\n    if (min > max) {\n      var e = max;\n      max = min;\n      min = e;\n    }\n    // Derivative roots to find min/max\n    var f = quadRoots(3 * bez.a[comp], 2 * bez.b[comp], bez.c[comp]);\n    for (var i = 0; i < f.length; i += 1) {\n      if (f[i] > 0 && f[i] < 1) {\n        var val = bez.point(f[i])[comp];\n        if (val < min) min = val;else if (val > max) max = val;\n      }\n    }\n    return {\n      min: min,\n      max: max\n    };\n  }\n  PolynomialBezier.prototype.bounds = function () {\n    return {\n      x: extrema(this, 0),\n      y: extrema(this, 1)\n    };\n  };\n  PolynomialBezier.prototype.boundingBox = function () {\n    var bounds = this.bounds();\n    return {\n      left: bounds.x.min,\n      right: bounds.x.max,\n      top: bounds.y.min,\n      bottom: bounds.y.max,\n      width: bounds.x.max - bounds.x.min,\n      height: bounds.y.max - bounds.y.min,\n      cx: (bounds.x.max + bounds.x.min) / 2,\n      cy: (bounds.y.max + bounds.y.min) / 2\n    };\n  };\n  function intersectData(bez, t1, t2) {\n    var box = bez.boundingBox();\n    return {\n      cx: box.cx,\n      cy: box.cy,\n      width: box.width,\n      height: box.height,\n      bez: bez,\n      t: (t1 + t2) / 2,\n      t1: t1,\n      t2: t2\n    };\n  }\n  function splitData(data) {\n    var split = data.bez.split(0.5);\n    return [intersectData(split[0], data.t1, data.t), intersectData(split[1], data.t, data.t2)];\n  }\n  function boxIntersect(b1, b2) {\n    return Math.abs(b1.cx - b2.cx) * 2 < b1.width + b2.width && Math.abs(b1.cy - b2.cy) * 2 < b1.height + b2.height;\n  }\n  function intersectsImpl(d1, d2, depth, tolerance, intersections, maxRecursion) {\n    if (!boxIntersect(d1, d2)) return;\n    if (depth >= maxRecursion || d1.width <= tolerance && d1.height <= tolerance && d2.width <= tolerance && d2.height <= tolerance) {\n      intersections.push([d1.t, d2.t]);\n      return;\n    }\n    var d1s = splitData(d1);\n    var d2s = splitData(d2);\n    intersectsImpl(d1s[0], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[0], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n  }\n  PolynomialBezier.prototype.intersections = function (other, tolerance, maxRecursion) {\n    if (tolerance === undefined) tolerance = 2;\n    if (maxRecursion === undefined) maxRecursion = 7;\n    var intersections = [];\n    intersectsImpl(intersectData(this, 0, 1), intersectData(other, 0, 1), 0, tolerance, intersections, maxRecursion);\n    return intersections;\n  };\n  PolynomialBezier.shapeSegment = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[index], shapePath.o[index], shapePath.i[nextIndex], shapePath.v[nextIndex], true);\n  };\n  PolynomialBezier.shapeSegmentInverted = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[nextIndex], shapePath.i[nextIndex], shapePath.o[index], shapePath.v[index], true);\n  };\n  function crossProduct(a, b) {\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n  }\n  function lineIntersection(start1, end1, start2, end2) {\n    var v1 = [start1[0], start1[1], 1];\n    var v2 = [end1[0], end1[1], 1];\n    var v3 = [start2[0], start2[1], 1];\n    var v4 = [end2[0], end2[1], 1];\n    var r = crossProduct(crossProduct(v1, v2), crossProduct(v3, v4));\n    if (floatZero(r[2])) return null;\n    return [r[0] / r[2], r[1] / r[2]];\n  }\n  function polarOffset(p, angle, length) {\n    return [p[0] + Math.cos(angle) * length, p[1] - Math.sin(angle) * length];\n  }\n  function pointDistance(p1, p2) {\n    return Math.hypot(p1[0] - p2[0], p1[1] - p2[1]);\n  }\n  function pointEqual(p1, p2) {\n    return floatEqual(p1[0], p2[0]) && floatEqual(p1[1], p2[1]);\n  }\n\n  function ZigZagModifier() {}\n  extendPrototype([ShapeModifier], ZigZagModifier);\n  ZigZagModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amplitude = PropertyFactory.getProp(elem, data.s, 0, null, this);\n    this.frequency = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this.pointsType = PropertyFactory.getProp(elem, data.pt, 0, null, this);\n    this._isAnimated = this.amplitude.effectsSequence.length !== 0 || this.frequency.effectsSequence.length !== 0 || this.pointsType.effectsSequence.length !== 0;\n  };\n  function setPoint(outputBezier, point, angle, direction, amplitude, outAmplitude, inAmplitude) {\n    var angO = angle - Math.PI / 2;\n    var angI = angle + Math.PI / 2;\n    var px = point[0] + Math.cos(angle) * direction * amplitude;\n    var py = point[1] - Math.sin(angle) * direction * amplitude;\n    outputBezier.setTripleAt(px, py, px + Math.cos(angO) * outAmplitude, py - Math.sin(angO) * outAmplitude, px + Math.cos(angI) * inAmplitude, py - Math.sin(angI) * inAmplitude, outputBezier.length());\n  }\n  function getPerpendicularVector(pt1, pt2) {\n    var vector = [pt2[0] - pt1[0], pt2[1] - pt1[1]];\n    var rot = -Math.PI * 0.5;\n    var rotatedVector = [Math.cos(rot) * vector[0] - Math.sin(rot) * vector[1], Math.sin(rot) * vector[0] + Math.cos(rot) * vector[1]];\n    return rotatedVector;\n  }\n  function getProjectingAngle(path, cur) {\n    var prevIndex = cur === 0 ? path.length() - 1 : cur - 1;\n    var nextIndex = (cur + 1) % path.length();\n    var prevPoint = path.v[prevIndex];\n    var nextPoint = path.v[nextIndex];\n    var pVector = getPerpendicularVector(prevPoint, nextPoint);\n    return Math.atan2(0, 1) - Math.atan2(pVector[1], pVector[0]);\n  }\n  function zigZagCorner(outputBezier, path, cur, amplitude, frequency, pointType, direction) {\n    var angle = getProjectingAngle(path, cur);\n    var point = path.v[cur % path._length];\n    var prevPoint = path.v[cur === 0 ? path._length - 1 : cur - 1];\n    var nextPoint = path.v[(cur + 1) % path._length];\n    var prevDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - prevPoint[0], 2) + Math.pow(point[1] - prevPoint[1], 2)) : 0;\n    var nextDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2)) : 0;\n    setPoint(outputBezier, path.v[cur % path._length], angle, direction, amplitude, nextDist / ((frequency + 1) * 2), prevDist / ((frequency + 1) * 2), pointType);\n  }\n  function zigZagSegment(outputBezier, segment, amplitude, frequency, pointType, direction) {\n    for (var i = 0; i < frequency; i += 1) {\n      var t = (i + 1) / (frequency + 1);\n      var dist = pointType === 2 ? Math.sqrt(Math.pow(segment.points[3][0] - segment.points[0][0], 2) + Math.pow(segment.points[3][1] - segment.points[0][1], 2)) : 0;\n      var angle = segment.normalAngle(t);\n      var point = segment.point(t);\n      setPoint(outputBezier, point, angle, direction, amplitude, dist / ((frequency + 1) * 2), dist / ((frequency + 1) * 2), pointType);\n      direction = -direction;\n    }\n    return direction;\n  }\n  ZigZagModifier.prototype.processPath = function (path, amplitude, frequency, pointType) {\n    var count = path._length;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    if (!path.c) {\n      count -= 1;\n    }\n    if (count === 0) return clonedPath;\n    var direction = -1;\n    var segment = PolynomialBezier.shapeSegment(path, 0);\n    zigZagCorner(clonedPath, path, 0, amplitude, frequency, pointType, direction);\n    for (var i = 0; i < count; i += 1) {\n      direction = zigZagSegment(clonedPath, segment, amplitude, frequency, pointType, -direction);\n      if (i === count - 1 && !path.c) {\n        segment = null;\n      } else {\n        segment = PolynomialBezier.shapeSegment(path, (i + 1) % count);\n      }\n      zigZagCorner(clonedPath, path, i + 1, amplitude, frequency, pointType, direction);\n    }\n    return clonedPath;\n  };\n  ZigZagModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amplitude = this.amplitude.v;\n    var frequency = Math.max(0, Math.round(this.frequency.v));\n    var pointType = this.pointsType.v;\n    if (amplitude !== 0) {\n      var shapeData;\n      var localShapeCollection;\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amplitude, frequency, pointType));\n          }\n        }\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function linearOffset(p1, p2, amount) {\n    var angle = Math.atan2(p2[0] - p1[0], p2[1] - p1[1]);\n    return [polarOffset(p1, angle, amount), polarOffset(p2, angle, amount)];\n  }\n  function offsetSegment(segment, amount) {\n    var p0;\n    var p1a;\n    var p1b;\n    var p2b;\n    var p2a;\n    var p3;\n    var e;\n    e = linearOffset(segment.points[0], segment.points[1], amount);\n    p0 = e[0];\n    p1a = e[1];\n    e = linearOffset(segment.points[1], segment.points[2], amount);\n    p1b = e[0];\n    p2b = e[1];\n    e = linearOffset(segment.points[2], segment.points[3], amount);\n    p2a = e[0];\n    p3 = e[1];\n    var p1 = lineIntersection(p0, p1a, p1b, p2b);\n    if (p1 === null) p1 = p1a;\n    var p2 = lineIntersection(p2a, p3, p1b, p2b);\n    if (p2 === null) p2 = p2a;\n    return new PolynomialBezier(p0, p1, p2, p3);\n  }\n  function joinLines(outputBezier, seg1, seg2, lineJoin, miterLimit) {\n    var p0 = seg1.points[3];\n    var p1 = seg2.points[0];\n\n    // Bevel\n    if (lineJoin === 3) return p0;\n\n    // Connected, they don't need a joint\n    if (pointEqual(p0, p1)) return p0;\n\n    // Round\n    if (lineJoin === 2) {\n      var angleOut = -seg1.tangentAngle(1);\n      var angleIn = -seg2.tangentAngle(0) + Math.PI;\n      var center = lineIntersection(p0, polarOffset(p0, angleOut + Math.PI / 2, 100), p1, polarOffset(p1, angleOut + Math.PI / 2, 100));\n      var radius = center ? pointDistance(center, p0) : pointDistance(p0, p1) / 2;\n      var tan = polarOffset(p0, angleOut, 2 * radius * roundCorner);\n      outputBezier.setXYAt(tan[0], tan[1], 'o', outputBezier.length() - 1);\n      tan = polarOffset(p1, angleIn, 2 * radius * roundCorner);\n      outputBezier.setTripleAt(p1[0], p1[1], p1[0], p1[1], tan[0], tan[1], outputBezier.length());\n      return p1;\n    }\n\n    // Miter\n    var t0 = pointEqual(p0, seg1.points[2]) ? seg1.points[0] : seg1.points[2];\n    var t1 = pointEqual(p1, seg2.points[1]) ? seg2.points[3] : seg2.points[1];\n    var intersection = lineIntersection(t0, p0, p1, t1);\n    if (intersection && pointDistance(intersection, p0) < miterLimit) {\n      outputBezier.setTripleAt(intersection[0], intersection[1], intersection[0], intersection[1], intersection[0], intersection[1], outputBezier.length());\n      return intersection;\n    }\n    return p0;\n  }\n  function getIntersection(a, b) {\n    var intersect = a.intersections(b);\n    if (intersect.length && floatEqual(intersect[0][0], 1)) intersect.shift();\n    if (intersect.length) return intersect[0];\n    return null;\n  }\n  function pruneSegmentIntersection(a, b) {\n    var outa = a.slice();\n    var outb = b.slice();\n    var intersect = getIntersection(a[a.length - 1], b[0]);\n    if (intersect) {\n      outa[a.length - 1] = a[a.length - 1].split(intersect[0])[0];\n      outb[0] = b[0].split(intersect[1])[1];\n    }\n    if (a.length > 1 && b.length > 1) {\n      intersect = getIntersection(a[0], b[b.length - 1]);\n      if (intersect) {\n        return [[a[0].split(intersect[0])[0]], [b[b.length - 1].split(intersect[1])[1]]];\n      }\n    }\n    return [outa, outb];\n  }\n  function pruneIntersections(segments) {\n    var e;\n    for (var i = 1; i < segments.length; i += 1) {\n      e = pruneSegmentIntersection(segments[i - 1], segments[i]);\n      segments[i - 1] = e[0];\n      segments[i] = e[1];\n    }\n    if (segments.length > 1) {\n      e = pruneSegmentIntersection(segments[segments.length - 1], segments[0]);\n      segments[segments.length - 1] = e[0];\n      segments[0] = e[1];\n    }\n    return segments;\n  }\n  function offsetSegmentSplit(segment, amount) {\n    /*\n      We split each bezier segment into smaller pieces based\n      on inflection points, this ensures the control point\n      polygon is convex.\n       (A cubic bezier can have none, one, or two inflection points)\n    */\n    var flex = segment.inflectionPoints();\n    var left;\n    var right;\n    var split;\n    var mid;\n    if (flex.length === 0) {\n      return [offsetSegment(segment, amount)];\n    }\n    if (flex.length === 1 || floatEqual(flex[1], 1)) {\n      split = segment.split(flex[0]);\n      left = split[0];\n      right = split[1];\n      return [offsetSegment(left, amount), offsetSegment(right, amount)];\n    }\n    split = segment.split(flex[0]);\n    left = split[0];\n    var t = (flex[1] - flex[0]) / (1 - flex[0]);\n    split = split[1].split(t);\n    mid = split[0];\n    right = split[1];\n    return [offsetSegment(left, amount), offsetSegment(mid, amount), offsetSegment(right, amount)];\n  }\n  function OffsetPathModifier() {}\n  extendPrototype([ShapeModifier], OffsetPathModifier);\n  OffsetPathModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this.miterLimit = PropertyFactory.getProp(elem, data.ml, 0, null, this);\n    this.lineJoin = data.lj;\n    this._isAnimated = this.amount.effectsSequence.length !== 0;\n  };\n  OffsetPathModifier.prototype.processPath = function (inputBezier, amount, lineJoin, miterLimit) {\n    var outputBezier = shapePool.newElement();\n    outputBezier.c = inputBezier.c;\n    var count = inputBezier.length();\n    if (!inputBezier.c) {\n      count -= 1;\n    }\n    var i;\n    var j;\n    var segment;\n    var multiSegments = [];\n    for (i = 0; i < count; i += 1) {\n      segment = PolynomialBezier.shapeSegment(inputBezier, i);\n      multiSegments.push(offsetSegmentSplit(segment, amount));\n    }\n    if (!inputBezier.c) {\n      for (i = count - 1; i >= 0; i -= 1) {\n        segment = PolynomialBezier.shapeSegmentInverted(inputBezier, i);\n        multiSegments.push(offsetSegmentSplit(segment, amount));\n      }\n    }\n    multiSegments = pruneIntersections(multiSegments);\n\n    // Add bezier segments to the output and apply line joints\n    var lastPoint = null;\n    var lastSeg = null;\n    for (i = 0; i < multiSegments.length; i += 1) {\n      var multiSegment = multiSegments[i];\n      if (lastSeg) lastPoint = joinLines(outputBezier, lastSeg, multiSegment[0], lineJoin, miterLimit);\n      lastSeg = multiSegment[multiSegment.length - 1];\n      for (j = 0; j < multiSegment.length; j += 1) {\n        segment = multiSegment[j];\n        if (lastPoint && pointEqual(segment.points[0], lastPoint)) {\n          outputBezier.setXYAt(segment.points[1][0], segment.points[1][1], 'o', outputBezier.length() - 1);\n        } else {\n          outputBezier.setTripleAt(segment.points[0][0], segment.points[0][1], segment.points[1][0], segment.points[1][1], segment.points[0][0], segment.points[0][1], outputBezier.length());\n        }\n        outputBezier.setTripleAt(segment.points[3][0], segment.points[3][1], segment.points[3][0], segment.points[3][1], segment.points[2][0], segment.points[2][1], outputBezier.length());\n        lastPoint = segment.points[3];\n      }\n    }\n    if (multiSegments.length) joinLines(outputBezier, lastSeg, multiSegments[0][0], lineJoin, miterLimit);\n    return outputBezier;\n  };\n  OffsetPathModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n    var miterLimit = this.miterLimit.v;\n    var lineJoin = this.lineJoin;\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount, lineJoin, miterLimit));\n          }\n        }\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n        case 'bold':\n          fWeight = '700';\n          break;\n        case 'black':\n          fWeight = '900';\n          break;\n        case 'medium':\n          fWeight = '500';\n          break;\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n        default:\n          break;\n      }\n    }\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = [];\n    // Hindi characters\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var BLACK_FLAG_CODE_POINT = 127988;\n    var CANCEL_TAG_CODE_POINT = 917631;\n    var A_TAG_CODE_POINT = 917601;\n    var Z_TAG_CODE_POINT = 917626;\n    var VARIATION_SELECTOR_16_CODE_POINT = 65039;\n    var ZERO_WIDTH_JOINER_CODE_POINT = 8205;\n    var REGIONAL_CHARACTER_A_CODE_POINT = 127462;\n    var REGIONAL_CHARACTER_Z_CODE_POINT = 127487;\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n      return enabledFamilies.join(',');\n    }\n    function setUpNode(font, family) {\n      var parentNode = createTag('span');\n      // Node is invisible to screen readers.\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span');\n      // Characters that vary significantly among different fonts\n      node.innerText = 'giItT1WQy@!-/#';\n      // Visible - so we can measure it - but not on the screen\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px';\n      // Large font size makes even subtle changes obvious\n      parentNode.style.fontSize = '300px';\n      // Reset any font properties\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode);\n\n      // Remember width with no applied web font\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n    function createHelper(fontData, def) {\n      var engine = document.body && def ? 'svg' : 'canvas';\n      var helper;\n      var fontProps = getFontProperties(fontData);\n      if (engine === 'svg') {\n        var tHelper = createNS('text');\n        tHelper.style.fontSize = '100px';\n        // tHelper.style.fontFamily = fontData.fFamily;\n        tHelper.setAttribute('font-family', fontData.fFamily);\n        tHelper.setAttribute('font-style', fontProps.style);\n        tHelper.setAttribute('font-weight', fontProps.weight);\n        tHelper.textContent = '1';\n        if (fontData.fClass) {\n          tHelper.style.fontFamily = 'inherit';\n          tHelper.setAttribute('class', fontData.fClass);\n        } else {\n          tHelper.style.fontFamily = fontData.fFamily;\n        }\n        def.appendChild(tHelper);\n        helper = tHelper;\n      } else {\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\n        helper = tCanvasHelper;\n      }\n      function measure(text) {\n        if (engine === 'svg') {\n          helper.textContent = text;\n          return helper.getComputedTextLength();\n        }\n        return helper.measureText(text).width;\n      }\n      return {\n        measureText: measure\n      };\n    }\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n      if (!document.body) {\n        this.isLoaded = true;\n        fontData.list.forEach(function (data) {\n          data.helper = createHelper(data);\n          data.cache = {};\n        });\n        this.fonts = fontData.list;\n        return;\n      }\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n        fontArr[i].helper = createHelper(fontArr[i], defs);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n      if (!this.chars) {\n        this.chars = [];\n      }\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n          j += 1;\n        }\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n        i += 1;\n      }\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n      return emptyChar;\n    }\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName);\n      // Using the char instead of char.charCodeAt(0)\n      // to avoid collisions between equal chars\n      var index = _char2;\n      if (!fontData.cache[index]) {\n        var tHelper = fontData.helper;\n        if (_char2 === ' ') {\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\n          var singleSize = tHelper.measureText('||');\n          fontData.cache[index] = (doubleSize - singleSize) / 100;\n        } else {\n          fontData.cache[index] = tHelper.measureText(_char2) / 100;\n        }\n      }\n      return fontData.cache[index] * size;\n    }\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n        i += 1;\n      }\n      return this.fonts[0];\n    }\n    function getCodePoint(string) {\n      var codePoint = 0;\n      var first = string.charCodeAt(0);\n      if (first >= 0xD800 && first <= 0xDBFF) {\n        var second = string.charCodeAt(1);\n        if (second >= 0xDC00 && second <= 0xDFFF) {\n          codePoint = (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        }\n      }\n      return codePoint;\n    }\n\n    // Skin tone modifiers\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n    function isZeroWidthJoiner(charCode) {\n      return charCode === ZERO_WIDTH_JOINER_CODE_POINT;\n    }\n\n    // This codepoint may change the appearance of the preceding character.\n    // If that is a symbol, dingbat or emoji, U+FE0F forces it to be rendered\n    // as a colorful image as compared to a monochrome text variant.\n    function isVariationSelector(charCode) {\n      return charCode === VARIATION_SELECTOR_16_CODE_POINT;\n    }\n\n    // The regional indicator symbols are a set of 26 alphabetic Unicode\n    /// characters (AZ) intended to be used to encode ISO 3166-1 alpha-2\n    // two-letter country codes in a way that allows optional special treatment.\n    function isRegionalCode(string) {\n      var codePoint = getCodePoint(string);\n      if (codePoint >= REGIONAL_CHARACTER_A_CODE_POINT && codePoint <= REGIONAL_CHARACTER_Z_CODE_POINT) {\n        return true;\n      }\n      return false;\n    }\n\n    // Some Emoji implementations represent combinations of\n    // two regional indicator letters as a single flag symbol.\n    function isFlagEmoji(string) {\n      return isRegionalCode(string.substr(0, 2)) && isRegionalCode(string.substr(2, 2));\n    }\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    }\n\n    // Regional flags start with a BLACK_FLAG_CODE_POINT\n    // folowed by 5 chars in the TAG range\n    // and end with a CANCEL_TAG_CODE_POINT\n    function isRegionalFlag(text, index) {\n      var codePoint = getCodePoint(text.substr(index, 2));\n      if (codePoint !== BLACK_FLAG_CODE_POINT) {\n        return false;\n      }\n      var count = 0;\n      index += 2;\n      while (count < 5) {\n        codePoint = getCodePoint(text.substr(index, 2));\n        if (codePoint < A_TAG_CODE_POINT || codePoint > Z_TAG_CODE_POINT) {\n          return false;\n        }\n        count += 1;\n        index += 2;\n      }\n      return getCodePoint(text.substr(index, 2)) === CANCEL_TAG_CODE_POINT;\n    }\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isFlagEmoji = isFlagEmoji;\n    Font.isRegionalCode = isRegionalCode;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    Font.isRegionalFlag = isRegionalFlag;\n    Font.isVariationSelector = isVariationSelector;\n    Font.BLACK_FLAG_CODE_POINT = BLACK_FLAG_CODE_POINT;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function SlotManager(animationData) {\n    this.animationData = animationData;\n  }\n  SlotManager.prototype.getProp = function (data) {\n    if (this.animationData.slots && this.animationData.slots[data.sid]) {\n      return Object.assign(data, this.animationData.slots[data.sid].p);\n    }\n    return data;\n  };\n  function slotFactory(animationData) {\n    return new SlotManager(animationData);\n  }\n\n  function RenderableElement() {}\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false;\n      // layer's display state\n      this.hidden = false;\n      // If layer's transparency equals 0, it can be hidden\n      this.isTransparent = false;\n      // list of animated components\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n    /**\n       * @function\n       * Initializes frame related properties.\n       *\n       * @param {number} num\n       * current frame number in Layer's time\n       *\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n      var i = 0;\n      var len = this.data.masksProperties.length;\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n        i += 1;\n      }\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      var expressionsInterfaces = getExpressionInterfaces();\n      if (!expressionsInterfaces) {\n        return;\n      }\n      var LayerExpressionInterface = expressionsInterfaces('layer');\n      var EffectsExpressionInterface = expressionsInterfaces('effects');\n      var ShapeExpressionInterface = expressionsInterfaces('shape');\n      var TextExpressionInterface = expressionsInterfaces('text');\n      var CompExpressionInterface = expressionsInterfaces('comp');\n      this.layerInterface = LayerExpressionInterface(this);\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID();\n\n      // Stretch factor for old animations missing this property.\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      }\n      // effects manager\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\n   * @file\n   * Handles element's layer frame update.\n   * Checks layer in point and out point\n   *\n   */\n\n  function FrameElement() {}\n  FrameElement.prototype = {\n    /**\n       * @function\n       * Initializes frame related properties.\n       *\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false;\n      // list of animated properties\n      this.dynamicProperties = [];\n      // If layer has been modified in current tick this will be true\n      this._mdf = false;\n    },\n    /**\n       * @function\n       * Calculates all dynamic values\n       *\n       * @param {number} num\n       * current frame number in Layer's time\n       * @param {boolean} isVisible\n       * if layers is currently in range\n       *\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n  FootageElement.prototype.prepareFrame = function () {};\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n  FootageElement.prototype.renderFrame = function () {};\n  FootageElement.prototype.destroy = function () {};\n  FootageElement.prototype.initExpressions = function () {\n    var expressionsInterfaces = getExpressionInterfaces();\n    if (!expressionsInterfaces) {\n      return;\n    }\n    var FootageInterface = expressionsInterfaces('footage');\n    this.layerInterface = FootageInterface(this);\n  };\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this._volumeMultiplier = 1;\n    this._volume = 1;\n    this._previousVolume = null;\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\n      k: [100]\n    }, 1, 0.01, this);\n  }\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n    this._volume = this.lv.v[0];\n    var totalVolume = this._volume * this._volumeMultiplier;\n    if (this._previousVolume !== totalVolume) {\n      this._previousVolume = totalVolume;\n      this.audio.volume(totalVolume);\n    }\n  };\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n  AudioElement.prototype.show = function () {\n    // this.audio.play()\n  };\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n  AudioElement.prototype.volume = function (volumeValue) {\n    this._volumeMultiplier = volumeValue;\n    this._previousVolume = volumeValue * this._volume;\n    this.audio.volume(this._previousVolume);\n  };\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n  AudioElement.prototype.destroy = function () {};\n  AudioElement.prototype.sourceRectAtTime = function () {};\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n    this.checkPendingElements();\n  };\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n      case 0:\n        return this.createComp(layer);\n      case 1:\n        return this.createSolid(layer);\n      case 3:\n        return this.createNull(layer);\n      case 4:\n        return this.createShape(layer);\n      case 5:\n        return this.createText(layer);\n      case 6:\n        return this.createAudio(layer);\n      case 13:\n        return this.createCamera(layer);\n      case 15:\n        return this.createFootage(layer);\n      default:\n        return this.createNull(layer);\n    }\n  };\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n    this.checkPendingElements();\n  };\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n        j += 1;\n      }\n    }\n  };\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n      i += 1;\n    }\n  };\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n  BaseRenderer.prototype.getElementById = function (ind) {\n    var i;\n    var len = this.elements.length;\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i].data.ind === ind) {\n        return this.elements[i];\n      }\n    }\n    return null;\n  };\n  BaseRenderer.prototype.getElementByPath = function (path) {\n    var pathValue = path.shift();\n    var element;\n    if (typeof pathValue === 'number') {\n      element = this.elements[pathValue];\n    } else {\n      var i;\n      var len = this.elements.length;\n      for (i = 0; i < len; i += 1) {\n        if (this.elements[i].data.nm === pathValue) {\n          element = this.elements[i];\n          break;\n        }\n      }\n    }\n    if (path.length === 0) {\n      return element;\n    }\n    return element.getElementByPath(path);\n  };\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.slotManager = slotFactory(animData);\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  var effectTypes = {\n    TRANSFORM_EFFECT: 'transformEFfect'\n  };\n\n  function TransformElement() {}\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      var mat = new Matrix();\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _localMatMdf: false,\n        _opMdf: false,\n        mat: mat,\n        localMat: mat,\n        localOpacity: 1\n      };\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      }\n\n      // TODO: check TYPE 11: Guided elements\n      if (this.data.ty !== 11) {\n        // this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length;\n        // Checking if any of the transformation matrices in the hierarchy chain has changed.\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n            i += 1;\n          }\n        }\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n          for (i = 0; i < len; i += 1) {\n            finalMat.multiply(this.hierarchy[i].finalTransform.mProp.v);\n          }\n        }\n      }\n      if (!this.localTransforms || this.finalTransform._matMdf) {\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n      }\n      if (this.finalTransform._opMdf) {\n        this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderLocalTransform: function renderLocalTransform() {\n      if (this.localTransforms) {\n        var i = 0;\n        var len = this.localTransforms.length;\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n        if (!this.finalTransform._localMatMdf || !this.finalTransform._opMdf) {\n          while (i < len) {\n            if (this.localTransforms[i]._mdf) {\n              this.finalTransform._localMatMdf = true;\n            }\n            if (this.localTransforms[i]._opMdf && !this.finalTransform._opMdf) {\n              this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n              this.finalTransform._opMdf = true;\n            }\n            i += 1;\n          }\n        }\n        if (this.finalTransform._localMatMdf) {\n          var localMat = this.finalTransform.localMat;\n          this.localTransforms[0].matrix.clone(localMat);\n          for (i = 1; i < len; i += 1) {\n            var lmat = this.localTransforms[i].matrix;\n            localMat.multiply(lmat);\n          }\n          localMat.multiply(this.finalTransform.mat);\n        }\n        if (this.finalTransform._opMdf) {\n          var localOp = this.finalTransform.localOpacity;\n          for (i = 0; i < len; i += 1) {\n            localOp *= this.localTransforms[i].opacity * 0.01;\n          }\n          this.finalTransform.localOpacity = localOp;\n        }\n      }\n    },\n    searchEffectTransforms: function searchEffectTransforms() {\n      if (this.renderableEffectsManager) {\n        var transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n        if (transformEffects.length) {\n          this.localTransforms = [];\n          this.finalTransform.localMat = new Matrix();\n          var i = 0;\n          var len = transformEffects.length;\n          for (i = 0; i < len; i += 1) {\n            this.localTransforms.push(transformEffects[i]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n      var i;\n      var len = transforms.length;\n      var ptNew;\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\n        // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n      path = createNS('path');\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        }\n\n        // TODO move this to a factory or to a constructor\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        }\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    }\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    }\n    // pathNodes.__renderedString = pathString;\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n      viewData.lastPath = pathString;\n    }\n  };\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n      return fil;\n    }\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true,\n      svgLumaHidden: true,\n      offscreenCanvas: typeof OffscreenCanvas !== 'undefined'\n    };\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n    if (/firefox/i.test(navigator.userAgent)) {\n      ob.svgLumaHidden = false;\n    }\n    return ob;\n  }();\n\n  var registeredEffects$1 = {};\n  var idPrefix = 'filter_result_';\n  function SVGEffects(elem) {\n    var i;\n    var source = 'SourceGraphic';\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n      if (registeredEffects$1[type]) {\n        var Effect = registeredEffects$1[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\n        source = idPrefix + count;\n        if (registeredEffects$1[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n  SVGEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n    return effects;\n  };\n  function registerEffect$1(id, effect, countsAsEffect) {\n    registeredEffects$1[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null;\n      // If this layer acts as a mask for the following layer\n      if (this.data.td) {\n        this.matteMasks = {};\n        var gg = createNS('g');\n        gg.setAttribute('id', this.layerId);\n        gg.appendChild(this.layerElement);\n        layerElementParent = gg;\n        this.globalData.defs.appendChild(gg);\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n      // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._localMatMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.localMat.to2dCSS());\n      }\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.localOpacity);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n      this.searchEffectTransforms();\n    },\n    getMatte: function getMatte(matteType) {\n      // This should not be a common case. But for backward compatibility, we'll create the matte object.\n      // It solves animations that have two consecutive layers marked as matte masks.\n      // Which is an undefined behavior in AE.\n      if (!this.matteMasks) {\n        this.matteMasks = {};\n      }\n      if (!this.matteMasks[matteType]) {\n        var id = this.layerId + '_' + matteType;\n        var filId;\n        var fil;\n        var useElement;\n        var gg;\n        if (matteType === 1 || matteType === 3) {\n          var masker = createNS('mask');\n          masker.setAttribute('id', id);\n          masker.setAttribute('mask-type', matteType === 3 ? 'luminance' : 'alpha');\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          masker.appendChild(useElement);\n          this.globalData.defs.appendChild(masker);\n          if (!featureSupport.maskType && matteType === 1) {\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(useElement);\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (matteType === 2) {\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', id);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId);\n          /// /\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc);\n          /// /\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          maskGrouper.appendChild(useElement);\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            maskGrouper.appendChild(gg);\n          }\n          this.globalData.defs.appendChild(maskGroup);\n        }\n        this.matteMasks[matteType] = id;\n      }\n      return this.matteMasks[matteType];\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\n   * @file\n   * Handles AE's layer parenting property.\n   *\n   */\n\n  function HierarchyElement() {}\n  HierarchyElement.prototype = {\n    /**\n       * @function\n       * Initializes hierarchy properties\n       *\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = [];\n      // if element is parent of another layer _isParent will be true\n      this._isParent = false;\n      this.checkParenting();\n    },\n    /**\n       * @function\n       * Sets layer's hierarchy.\n       * @param {array} hierarch\n       * layer's parent list\n       *\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n    /**\n       * @function\n       * Sets layer as parent.\n       *\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n    /**\n       * @function\n       * Searches layer's parenting chain\n       *\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderLocalTransform();\n        this.renderElement();\n        this.renderInnerContent();\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    if (this.assetData && this.assetData.sid) {\n      this.assetData = globalData.slotManager.getProp(this.assetData);\n    }\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n      var i;\n      var len = this.shapes.length;\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame);\n        // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n        i += 1;\n      }\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n      while (i) {\n        i -= 1;\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level;\n    // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n    this._isAnimated = !!shape.k;\n    // TODO: commenting this for now since all shapes are animated\n    var i = 0;\n    var len = transformers.length;\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n      i += 1;\n    }\n  }\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n    if (!this.k) {\n      this.getValue(true);\n    }\n    this._isAnimated = this.k;\n  }\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n      if (diff > 0.01) {\n        return false;\n      }\n      i += 1;\n    }\n    return true;\n  };\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n    return true;\n  };\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n      if (this.o.length) {\n        len = this.prop.v.length;\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n      this._mdf = !forceRender;\n    }\n  };\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n    var _matrixHelper = new Matrix();\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n        case 'gf':\n          return renderGradient;\n        case 'gs':\n          return renderGradientStroke;\n        case 'st':\n          return renderStroke;\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n        case 'tr':\n          return renderContentTransform;\n        case 'no':\n          return renderNoop;\n        default:\n          return null;\n      }\n    }\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n    function renderNoop() {}\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var iterations;\n      var k;\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n            while (iterations > 0) {\n              mat.multiply(itemData.transformers[k].mProps.v);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n        if (redraw) {\n          pathStringTransformed = '';\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n      var stops;\n      var i;\n      var len;\n      var stop;\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n        len = stops.length;\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n        if (itemData.s._mdf || itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        }\n        // gfill.setAttribute('fy','200');\n      }\n    }\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = [];\n    // Full shape data\n    this.shapesData = data.shapes;\n    // List of styles that will be applied to shapes\n    this.stylesList = [];\n    // List of modifiers that will be applied to shapes\n    this.shapeModifiers = [];\n    // List of items in shape tree\n    this.itemsData = [];\n    // List of items in previous shape tree\n    this.processedElements = [];\n    // List of animated components\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp);\n    // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n    this.prevViewData = [];\n    // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n\n  /*\n  This method searches for multiple shapes that affect a single element and one of them is animated\n  */\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n    return elementData;\n  };\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n      i += 1;\n    }\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n    for (j = 0; j < jLen; j += 1) {\n      if (arr.indexOf(this.stylesList[j]) === -1 && !this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n    this.renderModifiers();\n  };\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = arr[i].hd;\n        }\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n        ownModifiers.push(modifier);\n      }\n      this.addProcessedElement(arr[i], i + 1);\n    }\n    len = ownStyles.length;\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n    len = ownModifiers.length;\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n    this.renderShape();\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\n          // Adding M0 0 fixes same mask bug on all browsers\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n    if (data.d && data.d.sid) {\n      data.d = elem.globalData.slotManager.getProp(data.d);\n    }\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n    return obj;\n  };\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n    return this.kf;\n  };\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n      i += 1;\n    }\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n    return this.data.d.k[this.keysIndex].s;\n  };\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n    var shouldCombineNext = false;\n    var currentChars = '';\n    while (i < len) {\n      shouldCombine = shouldCombineNext;\n      shouldCombineNext = false;\n      charCode = text.charCodeAt(i);\n      currentChars = text.charAt(i);\n      if (FontManager.isCombinedCharacter(charCode)) {\n        shouldCombine = true;\n        // It's a potential surrogate pair (this is the High surrogate)\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        if (FontManager.isRegionalFlag(text, i)) {\n          currentChars = text.substr(i, 14);\n        } else {\n          secondCharCode = text.charCodeAt(i + 1);\n          // It's a surrogate pair (this is the Low surrogate)\n          if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n            if (FontManager.isModifier(charCode, secondCharCode)) {\n              currentChars = text.substr(i, 2);\n              shouldCombine = true;\n            } else if (FontManager.isFlagEmoji(text.substr(i, 4))) {\n              currentChars = text.substr(i, 4);\n            } else {\n              currentChars = text.substr(i, 2);\n            }\n          }\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n        if (FontManager.isVariationSelector(charCode)) {\n          shouldCombine = true;\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        shouldCombine = true;\n        shouldCombineNext = true;\n      }\n      if (shouldCombine) {\n        charactersArray[charactersArray.length - 1] += currentChars;\n        shouldCombine = false;\n      } else {\n        charactersArray.push(currentChars);\n      }\n      i += currentChars.length;\n    }\n    return charactersArray;\n  };\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\n            // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      }\n\n      //\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n      ind = 0;\n      based = animatorData.s.b;\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n          ind += 1;\n        }\n      }\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.setCurrentData(dData);\n    this.elem.addDynamicProperty(this);\n  };\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n          mult = easer(mult);\n        }\n        // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n          var threshold = 0.5 - smoothness * 0.5;\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        }\n        // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n        i = len;\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n        this._pathData.pi = pathInfo;\n      }\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO;\n\n    //\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n          isNewLine = false;\n        }\n      }\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    }\n    //\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n              default:\n                break;\n            }\n            currentLine = letters[i].line;\n          }\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n          flag = true;\n          // Force alignment only works with a single line for now\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n\n          // Grouping alignment\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n            // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n            default:\n              break;\n          }\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n        letterO = elemOpacity;\n      }\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n  };\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n    return shapeStr;\n  };\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n    matrixHelper.translate(0, -documentData.ls, 0);\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n      default:\n        break;\n    }\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n  ITextElement.prototype.emptyProp = new LetterProps();\n  ITextElement.prototype.destroy = function () {};\n  ITextElement.prototype.validateText = function () {\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  var emptyShapeData = {\n    shapes: []\n  };\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n      i += 1;\n    }\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\n    // but since text internal content gets only rendered once and then it's never rerendered,\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\n    if (data.shapes && data.shapes.length) {\n      var shape = data.shapes[0];\n      if (shape.it) {\n        var shapeItem = shape.it[shape.it.length - 1];\n        if (shapeItem.s) {\n          shapeItem.s.k[0] = scale;\n          shapeItem.s.k[1] = scale;\n        }\n      }\n    }\n    return data;\n  };\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n        case 2:\n          justify = 'middle';\n          break;\n        default:\n          justify = 'start';\n          break;\n      }\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n          tSpan.style.display = 'inherit';\n        }\n        matrixHelper.reset();\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0;\n          // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n          xPos += trackingOffset;\n        }\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement;\n          // t === 1 means the character has been replaced with an animated shaped\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n            if (charData.data && charData.data.shapes) {\n              data = this.buildShapeData(charData.data, documentData.finalSize);\n            }\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n          if (this.textSpans[i].glyph) {\n            var glyph = this.textSpans[i].glyph;\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n            glyph.destroy();\n          }\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement);\n          // when using animated shapes, the layer will be scaled instead of replacing the internal scale\n          // this might have issues with strokes and might need a different solution\n          if (charData.t === 1) {\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n          }\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        }\n        //\n      }\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n    this._sizeChanged = true;\n  };\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n    return this.bbox;\n  };\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n  extendPrototype([IImageElement], ISolidElement);\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect');\n    /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n  NullElement.prototype.renderFrame = function () {};\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n  NullElement.prototype.destroy = function () {};\n  NullElement.prototype.sourceRectAtTime = function () {};\n  NullElement.prototype.hide = function () {};\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n  extendPrototype([BaseRenderer], SVGRendererBase);\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    this.svgElement.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n    if (this.renderConfig.width) {\n      this.svgElement.setAttribute('width', this.renderConfig.width);\n    }\n    if (this.renderConfig.height) {\n      this.svgElement.setAttribute('height', this.renderConfig.height);\n    }\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\n    // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n    this.animationItem.wrapper.appendChild(this.svgElement);\n    // Mask animation\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n  SVGRendererBase.prototype.findIndexByInd = function (ind) {\n    var i = 0;\n    var len = this.layers.length;\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ind === ind) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n      element.initExpressions();\n    }\n    this.appendElementInPos(element, pos);\n    if (this.layers[pos].tt) {\n      var elementIndex = 'tp' in this.layers[pos] ? this.findIndexByInd(this.layers[pos].tp) : pos - 1;\n      if (elementIndex === -1) {\n        return;\n      }\n      if (!this.elements[elementIndex] || this.elements[elementIndex] === true) {\n        this.buildItem(elementIndex);\n        this.addPendingElement(element);\n      } else {\n        var matteElement = elements[elementIndex];\n        var matteMask = matteElement.getMatte(this.layers[pos].tt);\n        element.setMatte(matteMask);\n      }\n    }\n  };\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n        while (i < len) {\n          if (this.elements[i] === element) {\n            var elementIndex = 'tp' in element.data ? this.findIndexByInd(element.data.tp) : i - 1;\n            var matteElement = this.elements[elementIndex];\n            var matteMask = matteElement.getMatte(this.layers[i].tt);\n            element.setMatte(matteMask);\n            break;\n          }\n          i += 1;\n        }\n      }\n    }\n  };\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    }\n    // console.log('-------');\n    // console.log('FRAME ',num);\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n    if (!newElement) {\n      return;\n    }\n    var i = 0;\n    var nextElement;\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n      i += 1;\n    }\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n    this.hide();\n  };\n\n  /* ICompElement.prototype.hide = function(){\n      if(!this.hidden){\n          this.hideElement();\n          var i,len = this.elements.length;\n          for( i = 0; i < len; i+=1 ){\n              if(this.elements[i]){\n                  this.elements[i].hide();\n              }\n          }\n      }\n  }; */\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n    var i;\n    var len = this.elements.length;\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    }\n    // This iteration needs to be backwards because of how expressions connect between each other\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      },\n      width: config && config.width,\n      height: config && config.height,\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n  extendPrototype([SVGRendererBase], SVGRenderer);\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n      var sequence = this.sequences[key];\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n        i += 1;\n      }\n      if (_mdf) {\n        sequence.finalTransform.reset();\n        for (i = len - 1; i >= 0; i -= 1) {\n          sequence.finalTransform.multiply(sequence.transforms[i].transform.mProps.v);\n        }\n      }\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  var lumaLoader = function lumaLoader() {\n    var id = '__lottie_element_luma_buffer';\n    var lumaBuffer = null;\n    var lumaBufferCtx = null;\n    var svg = null;\n\n    // This alternate solution has a slight delay before the filter is applied, resulting in a flicker on the first frame.\n    // Keeping this here for reference, and in the future, if offscreen canvas supports url filters, this can be used.\n    // For now, neither of them work for offscreen canvas, so canvas workers can't support the luma track matte mask.\n    // Naming it solution 2 to mark the extra comment lines.\n    /*\n    var svgString = [\n      '<svg xmlns=\"http://www.w3.org/2000/svg\">',\n      '<filter id=\"' + id + '\">',\n      '<feColorMatrix type=\"matrix\" color-interpolation-filters=\"sRGB\" values=\"',\n      '0.3, 0.3, 0.3, 0, 0, ',\n      '0.3, 0.3, 0.3, 0, 0, ',\n      '0.3, 0.3, 0.3, 0, 0, ',\n      '0.3, 0.3, 0.3, 0, 0',\n      '\"/>',\n      '</filter>',\n      '</svg>',\n    ].join('');\n    var blob = new Blob([svgString], { type: 'image/svg+xml' });\n    var url = URL.createObjectURL(blob);\n    */\n\n    function createLumaSvgFilter() {\n      var _svg = createNS('svg');\n      var fil = createNS('filter');\n      var matrix = createNS('feColorMatrix');\n      fil.setAttribute('id', id);\n      matrix.setAttribute('type', 'matrix');\n      matrix.setAttribute('color-interpolation-filters', 'sRGB');\n      matrix.setAttribute('values', '0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0');\n      fil.appendChild(matrix);\n      _svg.appendChild(fil);\n      _svg.setAttribute('id', id + '_svg');\n      if (featureSupport.svgLumaHidden) {\n        _svg.style.display = 'none';\n      }\n      return _svg;\n    }\n    function loadLuma() {\n      if (!lumaBuffer) {\n        svg = createLumaSvgFilter();\n        document.body.appendChild(svg);\n        lumaBuffer = createTag('canvas');\n        lumaBufferCtx = lumaBuffer.getContext('2d');\n        // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n        lumaBufferCtx.filter = 'url(#' + id + ')';\n        lumaBufferCtx.fillStyle = 'rgba(0,0,0,0)';\n        lumaBufferCtx.fillRect(0, 0, 1, 1);\n      }\n    }\n    function getLuma(canvas) {\n      if (!lumaBuffer) {\n        loadLuma();\n      }\n      lumaBuffer.width = canvas.width;\n      lumaBuffer.height = canvas.height;\n      // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n      lumaBufferCtx.filter = 'url(#' + id + ')';\n      return lumaBuffer;\n    }\n    return {\n      load: loadLuma,\n      get: getLuma\n    };\n  };\n  function createCanvas(width, height) {\n    if (featureSupport.offscreenCanvas) {\n      return new OffscreenCanvas(width, height);\n    }\n    var canvas = createTag('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n  var assetLoader = function () {\n    return {\n      loadLumaCanvas: lumaLoader.load,\n      getLumaCanvas: lumaLoader.get,\n      createCanvas: createCanvas\n    };\n  }();\n\n  var registeredEffects = {};\n  function CVEffects(elem) {\n    var i;\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    this.filters = [];\n    var filterManager;\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(elem.effectsManager.effectElements[i], elem);\n      }\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n  CVEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n  CVEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n    return effects;\n  };\n  function registerEffect(id, effect) {\n    registeredEffects[id] = {\n      effect: effect\n    };\n  }\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n    this.hasMasks = hasMasks;\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n  var operationsMap = {\n    1: 'source-in',\n    2: 'source-out',\n    3: 'source-in',\n    4: 'source-out'\n  };\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      // If the layer is masked we will use two buffers to store each different states of the drawing\n      // This solution is not ideal for several reason. But unfortunately, because of the recursive\n      // nature of the render tree, it's the only simple way to make sure one inner mask doesn't override an outer mask.\n      // TODO: try to reduce the size of these buffers to the size of the composition contaning the layer\n      // It might be challenging because the layer most likely is transformed in some way\n      if (this.data.tt >= 1) {\n        this.buffers = [];\n        var canvasContext = this.globalData.canvasContext;\n        var bufferCanvas = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas);\n        var bufferCanvas2 = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas2);\n        if (this.data.tt >= 3 && !document._isProxy) {\n          assetLoader.loadLumaCanvas();\n        }\n      }\n      this.canvasContext = this.globalData.canvasContext;\n      this.transformCanvas = this.globalData.transformCanvas;\n      this.renderableEffectsManager = new CVEffects(this);\n      this.searchEffectTransforms();\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n      this.transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    clearCanvas: function clearCanvas(canvasContext) {\n      canvasContext.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w * this.transformCanvas.sx, this.transformCanvas.h * this.transformCanvas.sy);\n    },\n    prepareLayer: function prepareLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[0];\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx);\n        // on the first buffer we store the current state of the global drawing\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0);\n        // The next four lines are to clear the canvas\n        // TODO: Check if there is a way to clear the canvas without resetting the transform\n        this.currentTransform = this.canvasContext.getTransform();\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform);\n      }\n    },\n    exitLayer: function exitLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[1];\n        // On the second buffer we store the current state of the global drawing\n        // that only contains the content of this layer\n        // (if it is a composition, it also includes the nested layers)\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx);\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0);\n        // We clear the canvas again\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform);\n        // We draw the mask\n        var mask = this.comp.getElementById('tp' in this.data ? this.data.tp : this.data.ind - 1);\n        mask.renderFrame(true);\n        // We draw the second buffer (that contains the content of this layer)\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n\n        // If the mask is a Luma matte, we need to do two extra painting operations\n        // the _isProxy check is to avoid drawing a fake canvas in workers that will throw an error\n        if (this.data.tt >= 3 && !document._isProxy) {\n          // We copy the painted mask to a buffer that has a color matrix filter applied to it\n          // that applies the rgb values to the alpha channel\n          var lumaBuffer = assetLoader.getLumaCanvas(this.canvasContext.canvas);\n          var lumaBufferCtx = lumaBuffer.getContext('2d');\n          lumaBufferCtx.drawImage(this.canvasContext.canvas, 0, 0);\n          this.clearCanvas(this.canvasContext);\n          // we repaint the context with the mask applied to it\n          this.canvasContext.drawImage(lumaBuffer, 0, 0);\n        }\n        this.canvasContext.globalCompositeOperation = operationsMap[this.data.tt];\n        this.canvasContext.drawImage(buffer, 0, 0);\n        // We finally draw the first buffer (that contains the content of the global drawing)\n        // We use destination-over to draw the global drawing below the current layer\n        this.canvasContext.globalCompositeOperation = 'destination-over';\n        this.canvasContext.drawImage(this.buffers[0], 0, 0);\n        this.canvasContext.setTransform(this.currentTransform);\n        // We reset the globalCompositeOperation to source-over, the standard type of operation\n        this.canvasContext.globalCompositeOperation = 'source-over';\n      }\n    },\n    renderFrame: function renderFrame(forceRender) {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n      if (this.data.td === 1 && !forceRender) {\n        return;\n      }\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderLocalTransform();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.prepareLayer();\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n      this.exitLayer();\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n        ownModifiers.push(modifier);\n      }\n      this.addProcessedElement(arr[i], i + 1);\n    }\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type;\n\n      // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n        if (type === 'st' || type === 'gs') {\n          renderer.ctxStrokeStyle(type === 'st' ? currentStyle.co : currentStyle.grd);\n          // ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n          renderer.ctxLineWidth(currentStyle.wi);\n          // ctx.lineWidth = currentStyle.wi;\n          renderer.ctxLineCap(currentStyle.lc);\n          // ctx.lineCap = currentStyle.lc;\n          renderer.ctxLineJoin(currentStyle.lj);\n          // ctx.lineJoin = currentStyle.lj;\n          renderer.ctxMiterLimit(currentStyle.ml || 0);\n          // ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          renderer.ctxFillStyle(type === 'fl' ? currentStyle.co : currentStyle.grd);\n          // ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n        renderer.ctxOpacity(currentStyle.coOp);\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n          if (type === 'st' || type === 'gs') {\n            // ctx.stroke();\n            renderer.ctxStroke();\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n        if (type !== 'st' && type !== 'gs') {\n          // ctx.fill(currentStyle.r);\n          this.globalData.renderer.ctxFill(currentStyle.r);\n        }\n        renderer.restore();\n      }\n    }\n  };\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {\n        //\n      }\n    }\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n      styleElem.grd = grd;\n    }\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n    this.fill = hasFill;\n    var hasStroke = false;\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length;\n    // this.tHelper.font = this.values.fValue;\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n      cnt += 1;\n    }\n  };\n  CVTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    this.globalData.renderer.ctxLineCap('butt');\n    // ctx.lineCap = 'butt';\n    this.globalData.renderer.ctxLineJoin('miter');\n    // ctx.lineJoin = 'miter';\n    this.globalData.renderer.ctxMiterLimit(4);\n    // ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n    var renderer = this.globalData.renderer;\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n        if (renderedLetter) {\n          renderer.save();\n          renderer.ctxTransform(renderedLetter.p);\n          renderer.ctxOpacity(renderedLetter.o);\n        }\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              renderer.ctxFillStyle(renderedLetter.fc);\n              lastFill = renderedLetter.fc;\n              // ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            renderer.ctxFillStyle(this.values.fill);\n            // ctx.fillStyle = this.values.fill;\n          }\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n          this.globalData.canvasContext.closePath();\n          renderer.ctxFill();\n          // this.globalData.canvasContext.fill();\n          /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              renderer.ctxLineWidth(renderedLetter.sw);\n              // ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            renderer.ctxLineWidth(this.values.sWidth);\n            // ctx.lineWidth = this.values.sWidth;\n          }\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              renderer.ctxStrokeStyle(renderedLetter.sc);\n              // ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            renderer.ctxStrokeStyle(this.values.stroke);\n            // ctx.strokeStyle = this.values.stroke;\n          }\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n          this.globalData.canvasContext.closePath();\n          renderer.ctxStroke();\n          // this.globalData.canvasContext.stroke();\n          /// ctx.strokeText(letters[i].val,0,0);\n        }\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n  CVSolidElement.prototype.renderInnerContent = function () {\n    // var ctx = this.canvasContext;\n    this.globalData.renderer.ctxFillStyle(this.data.sc);\n    // ctx.fillStyle = this.data.sc;\n    this.globalData.renderer.ctxFillRect(0, 0, this.data.sw, this.data.sh);\n    // ctx.fillRect(0, 0, this.data.sw, this.data.sh);\n    //\n  };\n\n  function CanvasRendererBase() {}\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n  };\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n  };\n  CanvasRendererBase.prototype.ctxFillStyle = function (value) {\n    this.canvasContext.fillStyle = value;\n  };\n  CanvasRendererBase.prototype.ctxStrokeStyle = function (value) {\n    this.canvasContext.strokeStyle = value;\n  };\n  CanvasRendererBase.prototype.ctxLineWidth = function (value) {\n    this.canvasContext.lineWidth = value;\n  };\n  CanvasRendererBase.prototype.ctxLineCap = function (value) {\n    this.canvasContext.lineCap = value;\n  };\n  CanvasRendererBase.prototype.ctxLineJoin = function (value) {\n    this.canvasContext.lineJoin = value;\n  };\n  CanvasRendererBase.prototype.ctxMiterLimit = function (value) {\n    this.canvasContext.miterLimit = value;\n  };\n  CanvasRendererBase.prototype.ctxFill = function (rule) {\n    this.canvasContext.fill(rule);\n  };\n  CanvasRendererBase.prototype.ctxFillRect = function (x, y, w, h) {\n    this.canvasContext.fillRect(x, y, w, h);\n  };\n  CanvasRendererBase.prototype.ctxStroke = function () {\n    this.canvasContext.stroke();\n  };\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n    this.contextData.reset();\n  };\n  CanvasRendererBase.prototype.save = function () {\n    this.canvasContext.save();\n  };\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n    if (actionFlag) {\n      this.globalData.blendMode = 'source-over';\n    }\n    this.contextData.restore(actionFlag);\n  };\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n    this.contextData.setContext(this.canvasContext);\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n  CanvasRendererBase.prototype.updateContainerSize = function (width, height) {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n    if (width) {\n      elementWidth = width;\n      elementHeight = height;\n      this.canvasContext.canvas.width = elementWidth;\n      this.canvasContext.canvas.height = elementHeight;\n    } else {\n      if (this.animationItem.wrapper && this.animationItem.container) {\n        elementWidth = this.animationItem.wrapper.offsetWidth;\n        elementHeight = this.animationItem.wrapper.offsetHeight;\n      } else {\n        elementWidth = this.canvasContext.canvas.width;\n        elementHeight = this.canvasContext.canvas.height;\n      }\n      this.canvasContext.canvas.width = elementWidth * this.renderConfig.dpr;\n      this.canvasContext.canvas.height = elementHeight * this.renderConfig.dpr;\n    }\n    var elementRel;\n    var animationRel;\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\n      for(i=0;i<len;i+=1){\n          if(this.elements[i] && this.elements[i].data.ty === 0){\n              this.elements[i].resize(this.globalData.transformCanvas);\n          }\n      } */\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num;\n\n    // console.log('--------');\n    // console.log('NEW: ',num);\n    var i;\n    var len = this.layers.length;\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\n          element.resize(this.globalData.transformCanvas);\n      } */\n  };\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CanvasContext() {\n    this.opacity = -1;\n    this.transform = createTypedArray('float32', 16);\n    this.fillStyle = '';\n    this.strokeStyle = '';\n    this.lineWidth = '';\n    this.lineCap = '';\n    this.lineJoin = '';\n    this.miterLimit = '';\n    this.id = Math.random();\n  }\n  function CVContextData() {\n    this.stack = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    var i;\n    var len = 15;\n    for (i = 0; i < len; i += 1) {\n      var canvasContext = new CanvasContext();\n      this.stack[i] = canvasContext;\n    }\n    this._length = len;\n    this.nativeContext = null;\n    this.transformMat = new Matrix();\n    this.currentOpacity = 1;\n    //\n    this.currentFillStyle = '';\n    this.appliedFillStyle = '';\n    //\n    this.currentStrokeStyle = '';\n    this.appliedStrokeStyle = '';\n    //\n    this.currentLineWidth = '';\n    this.appliedLineWidth = '';\n    //\n    this.currentLineCap = '';\n    this.appliedLineCap = '';\n    //\n    this.currentLineJoin = '';\n    this.appliedLineJoin = '';\n    //\n    this.appliedMiterLimit = '';\n    this.currentMiterLimit = '';\n  }\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var i = 0;\n    for (i = this._length; i < newLength; i += 1) {\n      this.stack[i] = new CanvasContext();\n    }\n    this._length = newLength;\n  };\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.stack[this.cArrPos].opacity = 1;\n  };\n  CVContextData.prototype.restore = function (forceRestore) {\n    this.cArrPos -= 1;\n    var currentContext = this.stack[this.cArrPos];\n    var transform = currentContext.transform;\n    var i;\n    var arr = this.cTr.props;\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = transform[i];\n    }\n    if (forceRestore) {\n      this.nativeContext.restore();\n      var prevStack = this.stack[this.cArrPos + 1];\n      this.appliedFillStyle = prevStack.fillStyle;\n      this.appliedStrokeStyle = prevStack.strokeStyle;\n      this.appliedLineWidth = prevStack.lineWidth;\n      this.appliedLineCap = prevStack.lineCap;\n      this.appliedLineJoin = prevStack.lineJoin;\n      this.appliedMiterLimit = prevStack.miterLimit;\n    }\n    this.nativeContext.setTransform(transform[0], transform[1], transform[4], transform[5], transform[12], transform[13]);\n    if (forceRestore || currentContext.opacity !== -1 && this.currentOpacity !== currentContext.opacity) {\n      this.nativeContext.globalAlpha = currentContext.opacity;\n      this.currentOpacity = currentContext.opacity;\n    }\n    this.currentFillStyle = currentContext.fillStyle;\n    this.currentStrokeStyle = currentContext.strokeStyle;\n    this.currentLineWidth = currentContext.lineWidth;\n    this.currentLineCap = currentContext.lineCap;\n    this.currentLineJoin = currentContext.lineJoin;\n    this.currentMiterLimit = currentContext.miterLimit;\n  };\n  CVContextData.prototype.save = function (saveOnNativeFlag) {\n    if (saveOnNativeFlag) {\n      this.nativeContext.save();\n    }\n    var props = this.cTr.props;\n    if (this._length <= this.cArrPos) {\n      this.duplicate();\n    }\n    var currentStack = this.stack[this.cArrPos];\n    var i;\n    for (i = 0; i < 16; i += 1) {\n      currentStack.transform[i] = props[i];\n    }\n    this.cArrPos += 1;\n    var newStack = this.stack[this.cArrPos];\n    newStack.opacity = currentStack.opacity;\n    newStack.fillStyle = currentStack.fillStyle;\n    newStack.strokeStyle = currentStack.strokeStyle;\n    newStack.lineWidth = currentStack.lineWidth;\n    newStack.lineCap = currentStack.lineCap;\n    newStack.lineJoin = currentStack.lineJoin;\n    newStack.miterLimit = currentStack.miterLimit;\n  };\n  CVContextData.prototype.setOpacity = function (value) {\n    this.stack[this.cArrPos].opacity = value;\n  };\n  CVContextData.prototype.setContext = function (value) {\n    this.nativeContext = value;\n  };\n  CVContextData.prototype.fillStyle = function (value) {\n    if (this.stack[this.cArrPos].fillStyle !== value) {\n      this.currentFillStyle = value;\n      this.stack[this.cArrPos].fillStyle = value;\n    }\n  };\n  CVContextData.prototype.strokeStyle = function (value) {\n    if (this.stack[this.cArrPos].strokeStyle !== value) {\n      this.currentStrokeStyle = value;\n      this.stack[this.cArrPos].strokeStyle = value;\n    }\n  };\n  CVContextData.prototype.lineWidth = function (value) {\n    if (this.stack[this.cArrPos].lineWidth !== value) {\n      this.currentLineWidth = value;\n      this.stack[this.cArrPos].lineWidth = value;\n    }\n  };\n  CVContextData.prototype.lineCap = function (value) {\n    if (this.stack[this.cArrPos].lineCap !== value) {\n      this.currentLineCap = value;\n      this.stack[this.cArrPos].lineCap = value;\n    }\n  };\n  CVContextData.prototype.lineJoin = function (value) {\n    if (this.stack[this.cArrPos].lineJoin !== value) {\n      this.currentLineJoin = value;\n      this.stack[this.cArrPos].lineJoin = value;\n    }\n  };\n  CVContextData.prototype.miterLimit = function (value) {\n    if (this.stack[this.cArrPos].miterLimit !== value) {\n      this.currentMiterLimit = value;\n      this.stack[this.cArrPos].miterLimit = value;\n    }\n  };\n  CVContextData.prototype.transform = function (props) {\n    this.transformMat.cloneFromProps(props);\n    // Taking the last transform value from the stored stack of transforms\n    var currentTransform = this.cTr;\n    // Applying the last transform value after the new transform to respect the order of transformations\n    this.transformMat.multiply(currentTransform);\n    // Storing the new transformed value in the stored transform\n    currentTransform.cloneFromProps(this.transformMat.props);\n    var trProps = currentTransform.props;\n    // Applying the new transform to the canvas\n    this.nativeContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n  CVContextData.prototype.opacity = function (op) {\n    var currentOpacity = this.stack[this.cArrPos].opacity;\n    currentOpacity *= op < 0 ? 0 : op;\n    if (this.stack[this.cArrPos].opacity !== currentOpacity) {\n      if (this.currentOpacity !== op) {\n        this.nativeContext.globalAlpha = op;\n        this.currentOpacity = op;\n      }\n      this.stack[this.cArrPos].opacity = currentOpacity;\n    }\n  };\n  CVContextData.prototype.fill = function (rule) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n    this.nativeContext.fill(rule);\n  };\n  CVContextData.prototype.fillRect = function (x, y, w, h) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n    this.nativeContext.fillRect(x, y, w, h);\n  };\n  CVContextData.prototype.stroke = function () {\n    if (this.appliedStrokeStyle !== this.currentStrokeStyle) {\n      this.appliedStrokeStyle = this.currentStrokeStyle;\n      this.nativeContext.strokeStyle = this.appliedStrokeStyle;\n    }\n    if (this.appliedLineWidth !== this.currentLineWidth) {\n      this.appliedLineWidth = this.currentLineWidth;\n      this.nativeContext.lineWidth = this.appliedLineWidth;\n    }\n    if (this.appliedLineCap !== this.currentLineCap) {\n      this.appliedLineCap = this.currentLineCap;\n      this.nativeContext.lineCap = this.appliedLineCap;\n    }\n    if (this.appliedLineJoin !== this.currentLineJoin) {\n      this.appliedLineJoin = this.currentLineJoin;\n      this.nativeContext.lineJoin = this.appliedLineJoin;\n    }\n    if (this.appliedMiterLimit !== this.currentMiterLimit) {\n      this.appliedMiterLimit = this.currentMiterLimit;\n      this.nativeContext.miterLimit = this.appliedMiterLimit;\n    }\n    this.nativeContext.stroke();\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n    this.layers = null;\n    this.elements = null;\n  };\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || '',\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n    if (this.renderConfig.clearCanvas) {\n      this.ctxTransform = this.contextData.transform.bind(this.contextData);\n      this.ctxOpacity = this.contextData.opacity.bind(this.contextData);\n      this.ctxFillStyle = this.contextData.fillStyle.bind(this.contextData);\n      this.ctxStrokeStyle = this.contextData.strokeStyle.bind(this.contextData);\n      this.ctxLineWidth = this.contextData.lineWidth.bind(this.contextData);\n      this.ctxLineCap = this.contextData.lineCap.bind(this.contextData);\n      this.ctxLineJoin = this.contextData.lineJoin.bind(this.contextData);\n      this.ctxMiterLimit = this.contextData.miterLimit.bind(this.contextData);\n      this.ctxFill = this.contextData.fill.bind(this.contextData);\n      this.ctxFillRect = this.contextData.fillRect.bind(this.contextData);\n      this.ctxStroke = this.contextData.stroke.bind(this.contextData);\n      this.save = this.contextData.save.bind(this.contextData);\n    }\n  }\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = [];\n    // Full shape data\n    this.shapesData = data.shapes;\n    // List of styles that will be applied to shapes\n    this.stylesList = [];\n    // List of modifiers that will be applied to shapes\n    this.shapeModifiers = [];\n    // List of items in shape tree\n    this.itemsData = [];\n    // List of items in previous shape tree\n    this.processedElements = [];\n    // List of animated components\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp);\n    // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n    return point;\n  };\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n    if (len <= 1) {\n      return;\n    }\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n      a |= 0; // eslint-disable-line no-bitwise\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {\n        //\n      } else if (a === 0) {\n        t = -c / b;\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      } else if (itemsData[i] && itemsData[i].style && itemsData[i].w) {\n        this.expandStrokeBoundingBox(itemsData[i].w, boundingBox);\n      }\n    }\n  };\n  HShapeElement.prototype.expandStrokeBoundingBox = function (widthProperty, boundingBox) {\n    var width = 0;\n    if (widthProperty.keyframes) {\n      for (var i = 0; i < widthProperty.keyframes.length; i += 1) {\n        var kfw = widthProperty.keyframes[i].s;\n        if (kfw > width) {\n          width = kfw;\n        }\n      }\n      width *= widthProperty.mult;\n    } else {\n      width = widthProperty.v * widthProperty.mult;\n    }\n    boundingBox.x -= width;\n    boundingBox.xMax += width;\n    boundingBox.y -= width;\n    boundingBox.yMax += width;\n  };\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\n      // var tempBoundingBox = this.shapeCont.getBBox();\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n      var changed = false;\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n    this.checkParenting();\n  };\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      }\n      // tSpan.setAttribute('visibility', 'hidden');\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n        matrixHelper.reset();\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n          //\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      }\n      //\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n  HTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var svgStyle;\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        }\n        /// /textSpan.setAttribute('opacity',renderedLetter.o);\n        textSpan.style.opacity = renderedLetter.o;\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n      var margin = 1;\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true;\n\n    // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n  HCameraElement.prototype.createElements = function () {};\n  HCameraElement.prototype.hide = function () {};\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n      if (this.a) {\n        var diffVector;\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2));\n        // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n        this.mat.clone(this._prevMat);\n      }\n    }\n    this._isFirstFrame = false;\n  };\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n  HCameraElement.prototype.destroy = function () {};\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n    if (!newDOMElement) {\n      return;\n    }\n    var layer = this.layers[pos];\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n          i += 1;\n        }\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n    return new HShapeElement(data, this.globalData, this);\n  };\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n    return new HTextElement(data, this.globalData, this);\n  };\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n    return new HImageElement(data, this.globalData, this);\n  };\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n    return new HSolidElement(data, this.globalData, this);\n  };\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n      i += 1;\n    }\n    return null;\n  };\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n    perspectiveElem.appendChild(container);\n    // this.resizerElem.appendChild(perspectiveElem);\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n    len = this.threeDElements.length;\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n          j += 1;\n        }\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n        break;\n      }\n      i += 1;\n    }\n  };\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData;\n    // Mask animation\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements();\n    // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n      j += 1;\n    }\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      },\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n  extendPrototype([HybridRendererBase], HybridRenderer);\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n          i += 1;\n        }\n        return null;\n        // return {active:false};\n      }\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof$2(o) { \"@babel/helpers - typeof\"; return _typeof$2 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof$2(o); }\n  /* eslint-disable */\n  /*\n   Copyright 2014 David Bau.\n\n   Permission is hereby granted, free of charge, to any person obtaining\n   a copy of this software and associated documentation files (the\n   \"Software\"), to deal in the Software without restriction, including\n   without limitation the rights to use, copy, modify, merge, publish,\n   distribute, sublicense, and/or sell copies of the Software, and to\n   permit persons to whom the Software is furnished to do so, subject to\n   the following conditions:\n\n   The above copyright notice and this permission notice shall be\n   included in all copies or substantial portions of the Software.\n\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n   */\n\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n      width = 256,\n      // each RC4 output is 0 <= x < 256\n      chunks = 6,\n      // at least six RC4 outputs for each double\n      digits = 52,\n      // there are 52 significant digits in a double\n      rngname = 'random',\n      // rngname: name for Math.random and Math.seedrandom\n      startdenom = math.pow(width, chunks),\n      significance = math.pow(2, digits),\n      overflow = significance * 2,\n      mask = width - 1,\n      nodecrypto; // node.js crypto module, initialized at the bottom.\n\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {};\n\n      // Flatten the seed string or build one from local entropy if needed.\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key);\n\n      // Use the seed to initialize an ARC4 generator.\n      var arc4 = new ARC4(key);\n\n      // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n          // Start with a numerator n < 2 ^ 48\n          d = startdenom,\n          //   and denominator d = 2 ^ 48.\n          x = 0; //   and no 'extra last byte'.\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n          d *= width; //   denominator and generating a\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n          d /= 2; //   right using integer math until\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n      prng[\"double\"] = prng;\n\n      // Mix the randomness into accumulated entropy.\n      mixkey(tostring(arc4.S), pool);\n\n      // Calling convention: what to return as a function of prng, seed, is_math.\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n    math['seed' + rngname] = seedrandom;\n\n    //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n    function ARC4(key) {\n      var t,\n        keylen = key.length,\n        me = this,\n        i = 0,\n        j = me.i = me.j = 0,\n        s = me.S = [];\n\n      // The empty key [] is treated as [0].\n      if (!keylen) {\n        key = [keylen++];\n      }\n\n      // Set up S using the standard key scheduling algorithm.\n      while (i < width) {\n        s[i] = i++;\n      }\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      }\n\n      // The \"g\" method returns the next (count) outputs as one number.\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n          r = 0,\n          i = me.i,\n          j = me.j,\n          s = me.S;\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n        me.i = i;\n        me.j = j;\n        return r;\n        // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    }\n\n    //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    }\n\n    //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n    function flatten(obj, depth) {\n      var result = [],\n        typ = _typeof$2(obj),\n        prop;\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    }\n\n    //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n        smear,\n        j = 0;\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n      return tostring(key);\n    }\n\n    //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n          plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    }\n\n    //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    }\n\n    //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n    mixkey(math.random(), pool);\n\n    //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n\n    // End anonymous scope, and pass initial values.\n  }\n  ;\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof$1(o) { \"@babel/helpers - typeof\"; return _typeof$1 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof$1(o); }\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    var _lottieGlobal = {};\n    initialize$2(BMMath);\n    function resetFrame() {\n      _lottieGlobal = {};\n    }\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || v instanceof Number || tOfV === 'boolean' || tOfV === 'string';\n    }\n    function $bm_neg(a) {\n      var tOfA = _typeof$1(a);\n      if (tOfA === 'number' || a instanceof Number || tOfA === 'boolean') {\n        return -a;\n      }\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n        return retArr;\n      }\n      if (a.propType) {\n        return a.v;\n      }\n      return -a;\n    }\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n    function sum(a, b) {\n      var tOfA = _typeof$1(a);\n      var tOfB = _typeof$1(b);\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b) || tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n          i += 1;\n        }\n        return retArr;\n      }\n      return 0;\n    }\n    var add = sum;\n    function sub(a, b) {\n      var tOfA = _typeof$1(a);\n      var tOfB = _typeof$1(b);\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n        return a - b;\n      }\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n          i += 1;\n        }\n        return retArr;\n      }\n      return 0;\n    }\n    function mul(a, b) {\n      var tOfA = _typeof$1(a);\n      var tOfB = _typeof$1(b);\n      var arr;\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n      var i;\n      var len;\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n        return arr;\n      }\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n        return arr;\n      }\n      return 0;\n    }\n    function div(a, b) {\n      var tOfA = _typeof$1(a);\n      var tOfB = _typeof$1(b);\n      var arr;\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n      var i;\n      var len;\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n        return arr;\n      }\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n        return arr;\n      }\n      return 0;\n    }\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n      return a % b;\n    }\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n      return Math.min(Math.max(num, min), max);\n    }\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n    var radians_to_degrees = radiansToDegrees;\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n      return Math.sqrt(addedLength);\n    }\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n      if (max === min) {\n        h = 0; // achromatic\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n          case g:\n            h = (b - r) / d + 2;\n            break;\n          case b:\n            h = (r - g) / d + 4;\n            break;\n          default:\n            break;\n        }\n        h /= 6;\n      }\n      return [h, s, l, val[3]];\n    }\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n      if (s === 0) {\n        r = l; // achromatic\n        b = l; // achromatic\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n      return [r, g, b, val[3]];\n    }\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n      if (t <= tMin) {\n        return value1;\n      }\n      if (t >= tMax) {\n        return value2;\n      }\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n      return arr;\n    }\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n      if (max.length) {\n        var i;\n        var len = max.length;\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n        return arr;\n      }\n      if (min === undefined) {\n        min = 0;\n      }\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n      return path;\n    }\n    function initiateExpression(elem, data, property) {\n      // Bail out if we don't want expressions\n      function noOp(_value) {\n        return _value;\n      }\n      if (!elem.globalData.renderConfig.runExpressions) {\n        return noOp;\n      }\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n      var _needsRandom = val.indexOf('random') !== -1;\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty._name = elem.data.nm;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt;\n      // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random();\n            // addedAmps[j] += -amp + amp*2*rnd;\n          }\n          iWiggle += 1;\n        }\n        // var rnd2 = BMMath.random();\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc;\n            // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n          return arr;\n        }\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n        var mult = fn(t);\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n          return arr;\n        }\n        return (val2 - val1) * mult + val1;\n      }\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n                break;\n              }\n            }\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n        return obKey;\n      }\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n        return fr / fps;\n      }\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n        return t * fps;\n      }\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n          return value.substring(init, end);\n        }\n        return '';\n      }\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n          return value.substr(init, end);\n        }\n        return '';\n      }\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\n                      rotation = transform.rotation;\n                      scale = transform.scale; */\n          }\n        }\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId;\n\n        // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      }\n      // Bundlers will see these as dead code and unless we reference them\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath, _lottieGlobal];\n    ob.resetFrame = resetFrame;\n    return ob;\n  }();\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n    ob.resetFrame = ExpressionManager.resetFrame;\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n      function pushExpression() {\n        stackCount += 1;\n      }\n      function popExpression() {\n        stackCount -= 1;\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n        registers.length = 0;\n      }\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n    return ob;\n  }();\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n        return this._mask.op.v * 100;\n      }\n    });\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n      var i;\n      var len = maskManager.viewData.length;\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n          i += 1;\n        }\n        return null;\n      };\n      return maskFunction;\n    };\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n        var value = '';\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n        val = property.v * mult;\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n          expressionValue.value = val;\n          expressionValue[0] = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n        return expressionValue;\n      };\n    }\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n        return expressionValue;\n      };\n    }\n\n    // TODO: try to avoid using this getter\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n          default:\n            return null;\n        }\n      }\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n      var _px;\n      var _py;\n      var _pz;\n      var _transformFactory;\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n      return toWorldMat;\n    }\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n      return matrix.inversePoint(arr);\n    }\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n        return toWorldMat.inversePoint(arr);\n      }\n      return toWorldMat.inversePoint(arr);\n    }\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n    return function (elem) {\n      var transformInterface;\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n          default:\n            return null;\n        }\n      }\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n        return propertyGroup(val - 1);\n      }\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n        var effects = elem.data.ef || [];\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n            i += 1;\n          }\n          return null;\n        };\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n      return null;\n    }\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n            return effectElements[i]();\n          }\n          i += 1;\n        }\n        throw new Error();\n      }\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n        return expressionProperty();\n      }\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n      return interfaceFunction;\n    }\n    return ob;\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n        return null;\n      }\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {\n          // arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n      return arr;\n    }\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n          i += 1;\n        }\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n        return null;\n      };\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      });\n      // interfaceFunction.content = interfaceFunction;\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n        return null;\n      }\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n        return null;\n      }\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n      return interfaceFunction;\n    }\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n        return null;\n      }\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n        return null;\n      }\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n        return null;\n      }\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n        return null;\n      }\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n        return null;\n      }\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n        return null;\n      }\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n        return null;\n      }\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n        return null;\n      }\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n          if (value === 0) {\n            return propertyGroup;\n          }\n          return interfaces[value - 1];\n        }\n        var i = 0;\n        var len = interfaces.length;\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n          i += 1;\n        }\n        return null;\n      }\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _sourceText;\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n          default:\n            return null;\n        }\n      }\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n          if (!_sourceText || stringValue !== _sourceText.value) {\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n            Object.defineProperty(_sourceText, 'style', {\n              get: function get() {\n                return {\n                  fillColor: elem.textProperty.currentData.fc\n                };\n              }\n            });\n          }\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n          return currentProperty;\n        }\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n          return currentProperty;\n        }\n        return '';\n      }\n      return init;\n    };\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n        return null;\n      }\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n        return null;\n      }\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  var interfaces = {\n    layer: LayerExpressionInterface,\n    effects: EffectsExpressionInterface,\n    comp: CompExpressionInterface,\n    shape: ShapeExpressionInterface,\n    text: TextExpressionInterface,\n    footage: FootageInterface\n  };\n  function getInterface(type) {\n    return interfaces[type] || null;\n  }\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n      return this._cachingAtTime.value;\n    }\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n      if (v1.length) {\n        var i;\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n      return speed;\n    }\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n      var delta = -0.001;\n      // frameNum += this.elem.data.st;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n      return velocity;\n    }\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n      var cycleDuration;\n      var firstKeyFrame;\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n      var i;\n      var len;\n      var ret;\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n          return ret;\n        }\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n          return ret;\n        }\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n      var cycleDuration;\n      var lastKeyFrame;\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n      var i;\n      var len;\n      var ret;\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n          return ret;\n        }\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n          return ret;\n        }\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n      if (samples <= 1) {\n        return this.pv;\n      }\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n      var sampleValue;\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n        i += 1;\n      }\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n      return value;\n    }\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      }\n      /// /\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n      return matrix;\n      /// /\n    }\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n    var propertyGetProp = PropertyFactory.getProp;\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container);\n      // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n      return prop;\n    };\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n      return this._cachingAtTime.shapeValue;\n    }\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n    function ShapeExpressions() {}\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n        var shapePath = this.v;\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n          i += 1;\n        }\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n      return prop;\n    };\n  }\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n      return null;\n    }\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n      return currentValue;\n    };\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n  function initialize() {\n    addDecorator();\n  }\n\n  function SVGComposableEffect() {}\n  SVGComposableEffect.prototype = {\n    createMergeNode: function createMergeNode(resultId, ins) {\n      var feMerge = createNS('feMerge');\n      feMerge.setAttribute('result', resultId);\n      var feMergeNode;\n      var i;\n      for (i = 0; i < ins.length; i += 1) {\n        feMergeNode = createNS('feMergeNode');\n        feMergeNode.setAttribute('in', ins[i]);\n        feMerge.appendChild(feMergeNode);\n        feMerge.appendChild(feMergeNode);\n      }\n      return feMerge;\n    }\n  };\n\n  var linearFilterValue = '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0';\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', linearFilterValue + ' 1 0');\n    this.linearFilter = feColorMatrix;\n    feColorMatrix.setAttribute('result', id + '_tint_1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\n    filter.appendChild(feMerge);\n  }\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.linearFilter.setAttribute('values', linearFilterValue + ' ' + opacity + ' 0');\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 1 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id);\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(fil, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    feComponentTransfer.setAttribute('result', id);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n    filter.appendChild(feComponentTransfer);\n  }\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB);\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer');\n\n    // Red\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    }\n    // Green\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    }\n    // Blue\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n    // Alpha\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    }\n    // RGB\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n    }\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer = createNS('feComponentTransfer');\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      feComponentTransfer.setAttribute('result', id);\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n    while (cnt <= 256) {\n      perc = cnt / 256;\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n    return table.join(' ');\n  };\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\n    var globalFilterSize = filterManager.container.globalData.renderConfig.filterSize;\n    var filterSize = filterManager.data.fs || globalFilterSize;\n    filter.setAttribute('x', filterSize.x || globalFilterSize.x);\n    filter.setAttribute('y', filterSize.y || globalFilterSize.y);\n    filter.setAttribute('width', filterSize.width || globalFilterSize.width);\n    filter.setAttribute('height', filterSize.height || globalFilterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\n    filter.appendChild(feMerge);\n    //\n  }\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n    }\n  };\n\n  var _svgMatteSymbols = [];\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n      i += 1;\n    }\n    return null;\n  };\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n    if (!parentNode) {\n      return;\n    }\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n      i += 1;\n    }\n    var nextChild;\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n      _svgMatteSymbols.push(mask);\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n    elem.setMatte(mask.layerId);\n  };\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n      i += 1;\n    }\n    this.initialized = true;\n  };\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('result', id);\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\n\n      // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY);\n\n      // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  function TransformEffect() {}\n  TransformEffect.prototype.init = function (effectsManager) {\n    this.effectsManager = effectsManager;\n    this.type = effectTypes.TRANSFORM_EFFECT;\n    this.matrix = new Matrix();\n    this.opacity = -1;\n    this._mdf = false;\n    this._opMdf = false;\n  };\n  TransformEffect.prototype.renderFrame = function (forceFrame) {\n    this._opMdf = false;\n    this._mdf = false;\n    if (forceFrame || this.effectsManager._mdf) {\n      var effectElements = this.effectsManager.effectElements;\n      var anchor = effectElements[0].p.v;\n      var position = effectElements[1].p.v;\n      var isUniformScale = effectElements[2].p.v === 1;\n      var scaleHeight = effectElements[3].p.v;\n      var scaleWidth = isUniformScale ? scaleHeight : effectElements[4].p.v;\n      var skew = effectElements[5].p.v;\n      var skewAxis = effectElements[6].p.v;\n      var rotation = effectElements[7].p.v;\n      this.matrix.reset();\n      this.matrix.translate(-anchor[0], -anchor[1], anchor[2]);\n      this.matrix.scale(scaleWidth * 0.01, scaleHeight * 0.01, 1);\n      this.matrix.rotate(-rotation * degToRads);\n      this.matrix.skewFromAxis(-skew * degToRads, (skewAxis + 90) * degToRads);\n      this.matrix.translate(position[0], position[1], 0);\n      this._mdf = true;\n      if (this.opacity !== effectElements[8].p.v) {\n        this.opacity = effectElements[8].p.v;\n        this._opMdf = true;\n      }\n    }\n  };\n\n  function SVGTransformEffect(_, filterManager) {\n    this.init(filterManager);\n  }\n  extendPrototype([TransformEffect], SVGTransformEffect);\n\n  function CVTransformEffect(effectsManager) {\n    this.init(effectsManager);\n  }\n  extendPrototype([TransformEffect], CVTransformEffect);\n\n  // Registering renderers\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer);\n\n  // Registering shape modifiers\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier);\n  ShapeModifiers.registerModifier('zz', ZigZagModifier);\n  ShapeModifiers.registerModifier('op', OffsetPathModifier);\n\n  // Registering expression plugin\n  setExpressionsPlugin(Expressions);\n  setExpressionInterfaces(getInterface);\n  initialize$1();\n  initialize();\n\n  // Registering svg effects\n  registerEffect$1(20, SVGTintFilter, true);\n  registerEffect$1(21, SVGFillFilter, true);\n  registerEffect$1(22, SVGStrokeEffect, false);\n  registerEffect$1(23, SVGTritoneFilter, true);\n  registerEffect$1(24, SVGProLevelsFilter, true);\n  registerEffect$1(25, SVGDropShadowEffect, true);\n  registerEffect$1(28, SVGMatte3Effect, false);\n  registerEffect$1(29, SVGGaussianBlurEffect, true);\n  registerEffect$1(35, SVGTransformEffect, false);\n  registerEffect(35, CVTransformEffect);\n\n  return lottie;\n\n}));\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","import lottie from \"lottie-web\";\nimport React, { useEffect, useRef, useState, } from \"react\";\nconst useLottie = (props, style) => {\n    const { animationData, loop, autoplay, initialSegment, onComplete, onLoopComplete, onEnterFrame, onSegmentStart, onConfigReady, onDataReady, onDataFailed, onLoadedImages, onDOMLoaded, onDestroy, \n    // Specified here to take them out from the 'rest'\n    lottieRef, renderer, name, assetsPath, rendererSettings, \n    // TODO: find a better way to extract the html props to avoid specifying\n    //  all the props that we want to exclude (as you can see above)\n    ...rest } = props;\n    const [animationLoaded, setAnimationLoaded] = useState(false);\n    const animationInstanceRef = useRef();\n    const animationContainer = useRef(null);\n    /*\n          ======================================\n              INTERACTION METHODS\n          ======================================\n       */\n    /**\n     * Play\n     */\n    const play = () => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.play();\n    };\n    /**\n     * Stop\n     */\n    const stop = () => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.stop();\n    };\n    /**\n     * Pause\n     */\n    const pause = () => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.pause();\n    };\n    /**\n     * Set animation speed\n     * @param speed\n     */\n    const setSpeed = (speed) => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.setSpeed(speed);\n    };\n    /**\n     * Got to frame and play\n     * @param value\n     * @param isFrame\n     */\n    const goToAndPlay = (value, isFrame) => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.goToAndPlay(value, isFrame);\n    };\n    /**\n     * Got to frame and stop\n     * @param value\n     * @param isFrame\n     */\n    const goToAndStop = (value, isFrame) => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.goToAndStop(value, isFrame);\n    };\n    /**\n     * Set animation direction\n     * @param direction\n     */\n    const setDirection = (direction) => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.setDirection(direction);\n    };\n    /**\n     * Play animation segments\n     * @param segments\n     * @param forceFlag\n     */\n    const playSegments = (segments, forceFlag) => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.playSegments(segments, forceFlag);\n    };\n    /**\n     * Set sub frames\n     * @param useSubFrames\n     */\n    const setSubframe = (useSubFrames) => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.setSubframe(useSubFrames);\n    };\n    /**\n     * Get animation duration\n     * @param inFrames\n     */\n    const getDuration = (inFrames) => { var _a; return (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.getDuration(inFrames); };\n    /**\n     * Destroy animation\n     */\n    const destroy = () => {\n        var _a;\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n        // Removing the reference to the animation so separate cleanups are skipped.\n        // Without it the internal `lottie-react` instance throws exceptions as it already cleared itself on destroy.\n        animationInstanceRef.current = undefined;\n    };\n    /*\n          ======================================\n              LOTTIE\n          ======================================\n       */\n    /**\n     * Load a new animation, and if it's the case, destroy the previous one\n     * @param {Object} forcedConfigs\n     */\n    const loadAnimation = (forcedConfigs = {}) => {\n        var _a;\n        // Return if the container ref is null\n        if (!animationContainer.current) {\n            return;\n        }\n        // Destroy any previous instance\n        (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n        // Build the animation configuration\n        const config = {\n            ...props,\n            ...forcedConfigs,\n            container: animationContainer.current,\n        };\n        // Save the animation instance\n        animationInstanceRef.current = lottie.loadAnimation(config);\n        setAnimationLoaded(!!animationInstanceRef.current);\n        // Return a function that will clean up\n        return () => {\n            var _a;\n            (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n            animationInstanceRef.current = undefined;\n        };\n    };\n    /**\n     * (Re)Initialize when animation data changed\n     */\n    useEffect(() => {\n        const onUnmount = loadAnimation();\n        // Clean up on unmount\n        return () => onUnmount === null || onUnmount === void 0 ? void 0 : onUnmount();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [animationData, loop]);\n    // Update the autoplay state\n    useEffect(() => {\n        if (!animationInstanceRef.current) {\n            return;\n        }\n        animationInstanceRef.current.autoplay = !!autoplay;\n    }, [autoplay]);\n    // Update the initial segment state\n    useEffect(() => {\n        if (!animationInstanceRef.current) {\n            return;\n        }\n        // When null should reset to default animation length\n        if (!initialSegment) {\n            animationInstanceRef.current.resetSegments(true);\n            return;\n        }\n        // If it's not a valid segment, do nothing\n        if (!Array.isArray(initialSegment) || !initialSegment.length) {\n            return;\n        }\n        // If the current position it's not in the new segment\n        // set the current position to start\n        if (animationInstanceRef.current.currentRawFrame < initialSegment[0] ||\n            animationInstanceRef.current.currentRawFrame > initialSegment[1]) {\n            animationInstanceRef.current.currentRawFrame = initialSegment[0];\n        }\n        // Update the segment\n        animationInstanceRef.current.setSegment(initialSegment[0], initialSegment[1]);\n    }, [initialSegment]);\n    /*\n          ======================================\n              EVENTS\n          ======================================\n       */\n    /**\n     * Reinitialize listener on change\n     */\n    useEffect(() => {\n        const partialListeners = [\n            { name: \"complete\", handler: onComplete },\n            { name: \"loopComplete\", handler: onLoopComplete },\n            { name: \"enterFrame\", handler: onEnterFrame },\n            { name: \"segmentStart\", handler: onSegmentStart },\n            { name: \"config_ready\", handler: onConfigReady },\n            { name: \"data_ready\", handler: onDataReady },\n            { name: \"data_failed\", handler: onDataFailed },\n            { name: \"loaded_images\", handler: onLoadedImages },\n            { name: \"DOMLoaded\", handler: onDOMLoaded },\n            { name: \"destroy\", handler: onDestroy },\n        ];\n        const listeners = partialListeners.filter((listener) => listener.handler != null);\n        if (!listeners.length) {\n            return;\n        }\n        const deregisterList = listeners.map(\n        /**\n         * Handle the process of adding an event listener\n         * @param {Listener} listener\n         * @return {Function} Function that deregister the listener\n         */\n        (listener) => {\n            var _a;\n            (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.addEventListener(listener.name, listener.handler);\n            // Return a function to deregister this listener\n            return () => {\n                var _a;\n                (_a = animationInstanceRef.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(listener.name, listener.handler);\n            };\n        });\n        // Deregister listeners on unmount\n        return () => {\n            deregisterList.forEach((deregister) => deregister());\n        };\n    }, [\n        onComplete,\n        onLoopComplete,\n        onEnterFrame,\n        onSegmentStart,\n        onConfigReady,\n        onDataReady,\n        onDataFailed,\n        onLoadedImages,\n        onDOMLoaded,\n        onDestroy,\n    ]);\n    /**\n     * Build the animation view\n     */\n    const View = React.createElement(\"div\", { style: style, ref: animationContainer, ...rest });\n    return {\n        View,\n        play,\n        stop,\n        pause,\n        setSpeed,\n        goToAndStop,\n        goToAndPlay,\n        setDirection,\n        playSegments,\n        setSubframe,\n        getDuration,\n        destroy,\n        animationContainerRef: animationContainer,\n        animationLoaded,\n        animationItem: animationInstanceRef.current,\n    };\n};\nexport default useLottie;\n","import { useEffect } from \"react\";\n// helpers\nexport function getContainerVisibility(container) {\n    const { top, height } = container.getBoundingClientRect();\n    const current = window.innerHeight - top;\n    const max = window.innerHeight + height;\n    return current / max;\n}\nexport function getContainerCursorPosition(container, cursorX, cursorY) {\n    const { top, left, width, height } = container.getBoundingClientRect();\n    const x = (cursorX - left) / width;\n    const y = (cursorY - top) / height;\n    return { x, y };\n}\nexport const useInitInteractivity = ({ wrapperRef, animationItem, mode, actions, }) => {\n    useEffect(() => {\n        const wrapper = wrapperRef.current;\n        if (!wrapper || !animationItem || !actions.length) {\n            return;\n        }\n        animationItem.stop();\n        const scrollModeHandler = () => {\n            let assignedSegment = null;\n            const scrollHandler = () => {\n                const currentPercent = getContainerVisibility(wrapper);\n                // Find the first action that satisfies the current position conditions\n                const action = actions.find(({ visibility }) => visibility &&\n                    currentPercent >= visibility[0] &&\n                    currentPercent <= visibility[1]);\n                // Skip if no matching action was found!\n                if (!action) {\n                    return;\n                }\n                if (action.type === \"seek\" &&\n                    action.visibility &&\n                    action.frames.length === 2) {\n                    // Seek: Go to a frame based on player scroll position action\n                    const frameToGo = action.frames[0] +\n                        Math.ceil(((currentPercent - action.visibility[0]) /\n                            (action.visibility[1] - action.visibility[0])) *\n                            action.frames[1]);\n                    //! goToAndStop must be relative to the start of the current segment\n                    animationItem.goToAndStop(frameToGo - animationItem.firstFrame - 1, true);\n                }\n                if (action.type === \"loop\") {\n                    // Loop: Loop a given frames\n                    if (assignedSegment === null) {\n                        // if not playing any segments currently. play those segments and save to state\n                        animationItem.playSegments(action.frames, true);\n                        assignedSegment = action.frames;\n                    }\n                    else {\n                        // if playing any segments currently.\n                        //check if segments in state are equal to the frames selected by action\n                        if (assignedSegment !== action.frames) {\n                            // if they are not equal. new segments are to be loaded\n                            animationItem.playSegments(action.frames, true);\n                            assignedSegment = action.frames;\n                        }\n                        else if (animationItem.isPaused) {\n                            // if they are equal the play method must be called only if lottie is paused\n                            animationItem.playSegments(action.frames, true);\n                            assignedSegment = action.frames;\n                        }\n                    }\n                }\n                if (action.type === \"play\" && animationItem.isPaused) {\n                    // Play: Reset segments and continue playing full animation from current position\n                    animationItem.resetSegments(true);\n                    animationItem.play();\n                }\n                if (action.type === \"stop\") {\n                    // Stop: Stop playback\n                    animationItem.goToAndStop(action.frames[0] - animationItem.firstFrame - 1, true);\n                }\n            };\n            document.addEventListener(\"scroll\", scrollHandler);\n            return () => {\n                document.removeEventListener(\"scroll\", scrollHandler);\n            };\n        };\n        const cursorModeHandler = () => {\n            const handleCursor = (_x, _y) => {\n                let x = _x;\n                let y = _y;\n                // Resolve cursor position if cursor is inside container\n                if (x !== -1 && y !== -1) {\n                    // Get container cursor position\n                    const pos = getContainerCursorPosition(wrapper, x, y);\n                    // Use the resolved position\n                    x = pos.x;\n                    y = pos.y;\n                }\n                // Find the first action that satisfies the current position conditions\n                const action = actions.find(({ position }) => {\n                    if (position &&\n                        Array.isArray(position.x) &&\n                        Array.isArray(position.y)) {\n                        return (x >= position.x[0] &&\n                            x <= position.x[1] &&\n                            y >= position.y[0] &&\n                            y <= position.y[1]);\n                    }\n                    if (position &&\n                        !Number.isNaN(position.x) &&\n                        !Number.isNaN(position.y)) {\n                        return x === position.x && y === position.y;\n                    }\n                    return false;\n                });\n                // Skip if no matching action was found!\n                if (!action) {\n                    return;\n                }\n                // Process action types:\n                if (action.type === \"seek\" &&\n                    action.position &&\n                    Array.isArray(action.position.x) &&\n                    Array.isArray(action.position.y) &&\n                    action.frames.length === 2) {\n                    // Seek: Go to a frame based on player scroll position action\n                    const xPercent = (x - action.position.x[0]) /\n                        (action.position.x[1] - action.position.x[0]);\n                    const yPercent = (y - action.position.y[0]) /\n                        (action.position.y[1] - action.position.y[0]);\n                    animationItem.playSegments(action.frames, true);\n                    animationItem.goToAndStop(Math.ceil(((xPercent + yPercent) / 2) *\n                        (action.frames[1] - action.frames[0])), true);\n                }\n                if (action.type === \"loop\") {\n                    animationItem.playSegments(action.frames, true);\n                }\n                if (action.type === \"play\") {\n                    // Play: Reset segments and continue playing full animation from current position\n                    if (animationItem.isPaused) {\n                        animationItem.resetSegments(false);\n                    }\n                    animationItem.playSegments(action.frames);\n                }\n                if (action.type === \"stop\") {\n                    animationItem.goToAndStop(action.frames[0], true);\n                }\n            };\n            const mouseMoveHandler = (ev) => {\n                handleCursor(ev.clientX, ev.clientY);\n            };\n            const mouseOutHandler = () => {\n                handleCursor(-1, -1);\n            };\n            wrapper.addEventListener(\"mousemove\", mouseMoveHandler);\n            wrapper.addEventListener(\"mouseout\", mouseOutHandler);\n            return () => {\n                wrapper.removeEventListener(\"mousemove\", mouseMoveHandler);\n                wrapper.removeEventListener(\"mouseout\", mouseOutHandler);\n            };\n        };\n        switch (mode) {\n            case \"scroll\":\n                return scrollModeHandler();\n            case \"cursor\":\n                return cursorModeHandler();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [mode, animationItem]);\n};\nconst useLottieInteractivity = ({ actions, mode, lottieObj, }) => {\n    const { animationItem, View, animationContainerRef } = lottieObj;\n    useInitInteractivity({\n        actions,\n        animationItem,\n        mode,\n        wrapperRef: animationContainerRef,\n    });\n    return View;\n};\nexport default useLottieInteractivity;\n","import { useEffect } from \"react\";\nimport useLottie from \"../hooks/useLottie\";\nimport useLottieInteractivity from \"../hooks/useLottieInteractivity\";\nconst Lottie = (props) => {\n    var _a, _b, _c;\n    const { style, interactivity, ...lottieProps } = props;\n    /**\n     * Initialize the 'useLottie' hook\n     */\n    const { View, play, stop, pause, setSpeed, goToAndStop, goToAndPlay, setDirection, playSegments, setSubframe, getDuration, destroy, animationContainerRef, animationLoaded, animationItem, } = useLottie(lottieProps, style);\n    /**\n     * Make the hook variables/methods available through the provided 'lottieRef'\n     */\n    useEffect(() => {\n        if (props.lottieRef) {\n            props.lottieRef.current = {\n                play,\n                stop,\n                pause,\n                setSpeed,\n                goToAndPlay,\n                goToAndStop,\n                setDirection,\n                playSegments,\n                setSubframe,\n                getDuration,\n                destroy,\n                animationContainerRef,\n                animationLoaded,\n                animationItem,\n            };\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [(_a = props.lottieRef) === null || _a === void 0 ? void 0 : _a.current]);\n    return useLottieInteractivity({\n        lottieObj: {\n            View,\n            play,\n            stop,\n            pause,\n            setSpeed,\n            goToAndStop,\n            goToAndPlay,\n            setDirection,\n            playSegments,\n            setSubframe,\n            getDuration,\n            destroy,\n            animationContainerRef,\n            animationLoaded,\n            animationItem,\n        },\n        actions: (_b = interactivity === null || interactivity === void 0 ? void 0 : interactivity.actions) !== null && _b !== void 0 ? _b : [],\n        mode: (_c = interactivity === null || interactivity === void 0 ? void 0 : interactivity.mode) !== null && _c !== void 0 ? _c : \"scroll\",\n    });\n};\nexport default Lottie;\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray;\nfunction noop() {}\nvar ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, props) {\n  var refProp = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== refProp ? refProp : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(oldElement.type, newKey, oldElement.props);\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop, noop)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n    \"function\" === typeof reportError\n      ? reportError\n      : function (error) {\n          if (\n            \"object\" === typeof window &&\n            \"function\" === typeof window.ErrorEvent\n          ) {\n            var event = new window.ErrorEvent(\"error\", {\n              bubbles: !0,\n              cancelable: !0,\n              message:\n                \"object\" === typeof error &&\n                null !== error &&\n                \"string\" === typeof error.message\n                  ? String(error.message)\n                  : String(error),\n              error: error\n            });\n            if (!window.dispatchEvent(event)) return;\n          } else if (\n            \"object\" === typeof process &&\n            \"function\" === typeof process.emit\n          ) {\n            process.emit(\"uncaughtException\", error);\n            return;\n          }\n          console.error(error);\n        },\n  Children = {\n    map: mapChildren,\n    forEach: function (children, forEachFunc, forEachContext) {\n      mapChildren(\n        children,\n        function () {\n          forEachFunc.apply(this, arguments);\n        },\n        forEachContext\n      );\n    },\n    count: function (children) {\n      var n = 0;\n      mapChildren(children, function () {\n        n++;\n      });\n      return n;\n    },\n    toArray: function (children) {\n      return (\n        mapChildren(children, function (child) {\n          return child;\n        }) || []\n      );\n    },\n    only: function (children) {\n      if (!isValidElement(children))\n        throw Error(\n          \"React.Children.only expected to receive a single React element child.\"\n        );\n      return children;\n    }\n  };\nexports.Activity = REACT_ACTIVITY_TYPE;\nexports.Children = Children;\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cacheSignal = function () {\n  return null;\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    null !== prevTransition &&\n      null !== currentTransition.types &&\n      (prevTransition.types = currentTransition.types),\n      (ReactSharedInternals.T = prevTransition);\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useEffectEvent = function (callback) {\n  return ReactSharedInternals.H.useEffectEvent(callback);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.2.3\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  needsPaint = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return needsPaint\n    ? !0\n    : exports.unstable_now() - startTime < frameInterval\n      ? !1\n      : !0;\n}\nfunction performWorkUntilDeadline() {\n  needsPaint = !1;\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_requestPaint = function () {\n  needsPaint = !0;\n};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline())));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.2.3\";\n","/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction getActivityInstanceFromFiber(fiber) {\n  if (31 === fiber.tag) {\n    var activityState = fiber.memoizedState;\n    null === activityState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (activityState = fiber.memoizedState));\n    if (null !== activityState) return activityState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$0 = parentA.child; child$0; ) {\n        if (child$0 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$0 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$0 = child$0.sibling;\n      }\n      if (!didFindChild) {\n        for (child$0 = parentB.child; child$0; ) {\n          if (child$0 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$0 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$0 = child$0.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar assign = Object.assign,\n  REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nvar REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\");\nSymbol.for(\"react.view_transition\");\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n    case REACT_ACTIVITY_TYPE:\n      return \"Activity\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_PORTAL_TYPE:\n        return \"Portal\";\n      case REACT_CONTEXT_TYPE:\n        return type.displayName || \"Context\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  switch (nextRootInstance.nodeType) {\n    case 9:\n    case 11:\n      fiber = (fiber = nextRootInstance.documentElement)\n        ? (fiber = fiber.namespaceURI)\n          ? getOwnHostContext(fiber)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = nextRootInstance.tagName),\n        (nextRootInstance = nextRootInstance.namespaceURI))\n      )\n        (nextRootInstance = getOwnHostContext(nextRootInstance)),\n          (fiber = getChildHostContextProd(nextRootInstance, fiber));\n      else\n        switch (fiber) {\n          case \"svg\":\n            fiber = 1;\n            break;\n          case \"math\":\n            fiber = 2;\n            break;\n          default:\n            fiber = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, fiber);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar prefix, suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$1) {\n                control = x$1;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$2) {\n              control = x$2;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber, childFiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return fiber.child !== childFiber && null !== childFiber\n        ? describeBuiltInComponentFrame(\"Suspense Fallback\")\n        : describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return describeNativeComponentFrame(fiber.type, !1);\n    case 11:\n      return describeNativeComponentFrame(fiber.type.render, !1);\n    case 1:\n      return describeNativeComponentFrame(fiber.type, !0);\n    case 31:\n      return describeBuiltInComponentFrame(\"Activity\");\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\",\n      previous = null;\n    do\n      (info += describeFiber(workInProgress, previous)),\n        (previous = workInProgress),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionUpdateLane = 256,\n  nextTransitionDeferredLane = 262144,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n      return 128;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n      return lanes & 261888;\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 3932160;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes, rootHasPendingCommit) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes;\n  root = root.warmLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : rootHasPendingCommit ||\n              ((rootHasPendingCommit = nonIdlePendingLanes & ~root),\n              0 !== rootHasPendingCommit &&\n                (nextLanes = getHighestPriorityLanes(rootHasPendingCommit)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : rootHasPendingCommit ||\n            ((rootHasPendingCommit = pendingLanes & ~root),\n            0 !== rootHasPendingCommit &&\n              (nextLanes = getHighestPriorityLanes(rootHasPendingCommit))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (rootHasPendingCommit = wipLanes & -wipLanes),\n        suspendedLanes >= rootHasPendingCommit ||\n          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n    case 64:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$7 = 31 - clz32(remainingLanes),\n      lane = 1 << index$7;\n    entanglements[index$7] = 0;\n    expirationTimes[index$7] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$7];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$7] = null, index$7 = 0;\n        index$7 < hiddenUpdatesForLane.length;\n        index$7++\n      ) {\n        var update = hiddenUpdatesForLane[index$7];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 261930);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$8 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$8;\n    (lane & entangledLanes) | (root[index$8] & entangledLanes) &&\n      (root[index$8] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction getBumpedLaneForHydration(root, renderLanes) {\n  var renderLane = renderLanes & -renderLanes;\n  renderLane =\n    0 !== (renderLane & 42) ? 1 : getBumpedLaneForHydrationByLane(renderLane);\n  return 0 !== (renderLane & (root.suspendedLanes | renderLanes))\n    ? 0\n    : renderLane;\n}\nfunction getBumpedLaneForHydrationByLane(lane) {\n  switch (lane) {\n    case 2:\n      lane = 1;\n      break;\n    case 8:\n      lane = 4;\n      break;\n    case 32:\n      lane = 16;\n      break;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      lane = 128;\n      break;\n    case 268435456:\n      lane = 134217728;\n      break;\n    default:\n      lane = 0;\n  }\n  return lane;\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentHydrationBoundary(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentHydrationBoundary(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      31 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$10 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$10 && \"aria-\" !== prefix$10) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node, valueField, currentValue) {\n  var descriptor = Object.getOwnPropertyDescriptor(\n    node.constructor.prototype,\n    valueField\n  );\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  if (!node._valueTracker) {\n    var valueField = isCheckable(node) ? \"checked\" : \"value\";\n    node._valueTracker = trackValueOnNode(\n      node,\n      valueField,\n      \"\" + node[valueField]\n    );\n  }\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    ) {\n      track(element);\n      return;\n    }\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n  track(element);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n  track(element);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nfunction noop$1() {}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$286;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_427 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_427) {\n      var element$jscomp$inline_428 = document.createElement(\"div\");\n      element$jscomp$inline_428.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_427 =\n        \"function\" === typeof element$jscomp$inline_428.oninput;\n    }\n    JSCompiler_inline_result$jscomp$286 = isSupported$jscomp$inline_427;\n  } else JSCompiler_inline_result$jscomp$286 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$286 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nsimpleEventPluginEvents.push(\"scrollEnd\");\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar reportGlobalError =\n    \"function\" === typeof reportError\n      ? reportError\n      : function (error) {\n          if (\n            \"object\" === typeof window &&\n            \"function\" === typeof window.ErrorEvent\n          ) {\n            var event = new window.ErrorEvent(\"error\", {\n              bubbles: !0,\n              cancelable: !0,\n              message:\n                \"object\" === typeof error &&\n                null !== error &&\n                \"string\" === typeof error.message\n                  ? String(error.message)\n                  : String(error),\n              error: error\n            });\n            if (!window.dispatchEvent(event)) return;\n          } else if (\n            \"object\" === typeof process &&\n            \"function\" === typeof process.emit\n          ) {\n            process.emit(\"uncaughtException\", error);\n            return;\n          }\n          console.error(error);\n        },\n  concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  return 3 === sourceFiber.tag\n    ? ((parent = sourceFiber.stateNode),\n      isHidden &&\n        null !== update &&\n        ((isHidden = 31 - clz32(lane)),\n        (sourceFiber = parent.hiddenUpdates),\n        (alternate = sourceFiber[isHidden]),\n        null === alternate\n          ? (sourceFiber[isHidden] = [update])\n          : alternate.push(update),\n        (update.lane = lane | 536870912)),\n      parent)\n    : null;\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {};\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 65011712;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 65011714;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_ACTIVITY_TYPE:\n        return (\n          (type = createFiberImplClass(31, pendingProps, key, mode)),\n          (type.elementType = REACT_ACTIVITY_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromDehydratedFragment(dehydratedNode) {\n  var fiber = createFiberImplClass(18, null, null, 0);\n  fiber.stateNode = dehydratedNode;\n  return fiber;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nvar CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nfunction restoreSuspendedTreeContext(workInProgress, suspendedContext) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextId = suspendedContext.id;\n  treeContextOverflow = suspendedContext.overflow;\n  treeContextProvider = workInProgress;\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(\n    formatProdErrorMessage(\n      418,\n      1 < arguments.length && void 0 !== arguments[1] && arguments[1]\n        ? \"text\"\n        : \"HTML\",\n      \"\"\n    )\n  );\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber, !0);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 5:\n      case 31:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      case 27:\n      case 3:\n        rootOrSingletonContext = !0;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var tag = fiber.tag,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {\n    if ((JSCompiler_temp = 5 === tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    nextHydratableInstance =\n      getNextHydratableInstanceAfterHydrationBoundary(fiber);\n  } else if (31 === tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    nextHydratableInstance =\n      getNextHydratableInstanceAfterHydrationBoundary(fiber);\n  } else\n    27 === tag\n      ? ((tag = nextHydratableInstance),\n        isSingletonScope(fiber.type)\n          ? ((fiber = previousHydratableOnEnteringScopedSingleton),\n            (previousHydratableOnEnteringScopedSingleton = null),\n            (nextHydratableInstance = fiber))\n          : (nextHydratableInstance = tag))\n      : (nextHydratableInstance = hydrationParentFiber\n          ? getNextHydratable(fiber.stateNode.nextSibling)\n          : null);\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction upgradeHydrationErrorsToRecoverable() {\n  var queuedErrors = hydrationErrors;\n  null !== queuedErrors &&\n    (null === workInProgressRootRecoverableErrors\n      ? (workInProgressRootRecoverableErrors = queuedErrors)\n      : workInProgressRootRecoverableErrors.push.apply(\n          workInProgressRootRecoverableErrors,\n          queuedErrors\n        ),\n    (hydrationErrors = null));\n  return queuedErrors;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber$1 = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber$1 = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber$1, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber$1 && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  globalMostRecentTransitionTime = now();\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  SuspenseActionException = Error(formatProdErrorMessage(542)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$1, noop$1), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw (\n        ((thenableState = thenable.reason),\n        checkIfUseWrappedInAsyncCatch(thenableState),\n        thenableState)\n      );\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$1, noop$1);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw (\n            ((thenableState = thenable.reason),\n            checkIfUseWrappedInAsyncCatch(thenableState),\n            thenableState)\n          );\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nfunction resolveLazy(lazyType) {\n  try {\n    var init = lazyType._init;\n    return init(lazyType._payload);\n  } catch (x) {\n    if (null !== x && \"object\" === typeof x && \"function\" === typeof x.then)\n      throw ((suspendedThenable = x), SuspenseException);\n    throw x;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nfunction checkIfUseWrappedInAsyncCatch(rejectedReason) {\n  if (\n    rejectedReason === SuspenseException ||\n    rejectedReason === SuspenseActionException\n  )\n    throw Error(formatProdErrorMessage(483));\n}\nvar thenableState$1 = null,\n  thenableIndexCounter$1 = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  return trackUsedThenable(thenableState$1, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectTypeImpl(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 67108866), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 67108866;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 67108866);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          return (\n            (newChild = resolveLazy(newChild)),\n            createChild(returnFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectTypeImpl(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (newChild = resolveLazy(newChild)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectTypeImpl(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          return (\n            (newChild = resolveLazy(newChild)),\n            updateFromMap(\n              existingChildren,\n              returnFiber,\n              newIdx,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectTypeImpl(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (newChild = resolveLazy(newChild)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectTypeImpl(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter$1 = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState$1 = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException || x === SuspenseActionException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nvar currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushDehydratedActivitySuspenseHandler(fiber) {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, fiber);\n  null === shellBoundary && (shellBoundary = fiber);\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  22 === fiber.tag\n    ? (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary && (shellBoundary = fiber))\n    : reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state ||\n          isSuspenseInstancePending(state) ||\n          isSuspenseInstanceFallback(state))\n      )\n        return node;\n    } else if (\n      19 === node.tag &&\n      (\"forwards\" === node.memoizedProps.revealOrder ||\n        \"backwards\" === node.memoizedProps.revealOrder ||\n        \"unstable_legacy-backwards\" === node.memoizedProps.revealOrder ||\n        \"together\" === node.memoizedProps.revealOrder)\n    ) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter = 0,\n  thenableState = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter = 0;\n  thenableState = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);\n    thenableIndexCounter = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter = localIdCounter = 0;\n  thenableState = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nfunction createFunctionComponentUpdateQueue() {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n}\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  thenable = trackUsedThenable(thenableState, thenable, index);\n  index = currentlyRenderingFiber;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$60 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                gesture: null,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$60 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$60 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            gesture: null,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          gesture: update.gesture,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$60 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [\n    subscribe\n  ]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushSimpleEffect(\n      9,\n      { destroy: void 0 },\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 127) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      null !== prevTransition &&\n        null !== currentTransition.types &&\n        (prevTransition.types = currentTransition.types),\n        (ReactSharedInternals.T = prevTransition);\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$66) {\n      onActionError(actionQueue, node, error$66);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  if (\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n  )\n    try {\n      var state = useThenable(currentStateHook);\n    } catch (x) {\n      if (x === SuspenseException) throw SuspenseActionException;\n      throw x;\n    }\n  else state = currentStateHook;\n  currentStateHook = updateWorkInProgressHook();\n  var actionQueue = currentStateHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== currentStateHook.memoizedState &&\n    ((currentlyRenderingFiber.flags |= 2048),\n    pushSimpleEffect(\n      9,\n      { destroy: void 0 },\n      actionStateActionEffect.bind(null, actionQueue, action),\n      null\n    ));\n  return [state, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushSimpleEffect(tag, inst, create, deps) {\n  tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };\n  inst = currentlyRenderingFiber.updateQueue;\n  null === inst &&\n    ((inst = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = inst));\n  create = inst.lastEffect;\n  null === create\n    ? (inst.lastEffect = tag.next = tag)\n    : ((deps = create.next),\n      (create.next = tag),\n      (tag.next = deps),\n      (inst.lastEffect = tag));\n  return tag;\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = mountWorkInProgressHook();\n  currentlyRenderingFiber.flags |= fiberFlags;\n  hook.memoizedState = pushSimpleEffect(\n    1 | hookFlags,\n    { destroy: void 0 },\n    create,\n    void 0 === deps ? null : deps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushSimpleEffect(hookFlags, inst, create, deps))\n    : ((currentlyRenderingFiber.flags |= fiberFlags),\n      (hook.memoizedState = pushSimpleEffect(\n        1 | hookFlags,\n        inst,\n        create,\n        deps\n      )));\n}\nfunction mountEffect(create, deps) {\n  mountEffectImpl(8390656, 8, create, deps);\n}\nfunction updateEffect(create, deps) {\n  updateEffectImpl(2048, 8, create, deps);\n}\nfunction useEffectEventImpl(payload) {\n  currentlyRenderingFiber.flags |= 4;\n  var componentUpdateQueue = currentlyRenderingFiber.updateQueue;\n  if (null === componentUpdateQueue)\n    (componentUpdateQueue = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber.updateQueue = componentUpdateQueue),\n      (componentUpdateQueue.events = [payload]);\n  else {\n    var events = componentUpdateQueue.events;\n    null === events\n      ? (componentUpdateQueue.events = [payload])\n      : events.push(payload);\n  }\n}\nfunction updateEvent(callback) {\n  var ref = updateWorkInProgressHook().memoizedState;\n  useEffectEventImpl({ ref: ref, nextImpl: callback });\n  return function () {\n    if (0 !== (executionContext & 2)) throw Error(formatProdErrorMessage(440));\n    return ref.impl.apply(void 0, arguments);\n  };\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (\n    void 0 === initialValue ||\n    (0 !== (renderLanes & 1073741824) &&\n      0 === (workInProgressRootRenderLanes & 261930))\n  )\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (\n    0 === (renderLanes & 42) ||\n    (0 !== (renderLanes & 1073741824) &&\n      0 === (workInProgressRootRenderLanes & 261930))\n  )\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      null !== prevTransition &&\n        null !== currentTransition.types &&\n        (prevTransition.types = currentTransition.types),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var stateHook = ensureFormComponentIsStateful(formFiber);\n  null === stateHook.next && (stateHook = formFiber.alternate.memoizedState);\n  dispatchSetStateInternal(\n    formFiber,\n    stateHook.next.queue,\n    {},\n    requestUpdateLane()\n  );\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$69 = enqueueUpdate(provider, fiber, lane);\n        null !== root$69 &&\n          (scheduleUpdateOnFiber(root$69, provider, lane),\n          entangleTransitions(root$69, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    gesture: null,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    gesture: null,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    gesture: null,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber ||\n    (null !== alternate && alternate === currentlyRenderingFiber)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194048)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n  readContext: readContext,\n  use: use,\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useInsertionEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n  useDeferredValue: throwInvalidHookError,\n  useTransition: throwInvalidHookError,\n  useSyncExternalStore: throwInvalidHookError,\n  useId: throwInvalidHookError,\n  useHostTransitionStatus: throwInvalidHookError,\n  useFormState: throwInvalidHookError,\n  useActionState: throwInvalidHookError,\n  useOptimistic: throwInvalidHookError,\n  useMemoCache: throwInvalidHookError,\n  useCacheRefresh: throwInvalidHookError\n};\nContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;\nvar HooksDispatcherOnMount = {\n    readContext: readContext,\n    use: use,\n    useCallback: function (callback, deps) {\n      mountWorkInProgressHook().memoizedState = [\n        callback,\n        void 0 === deps ? null : deps\n      ];\n      return callback;\n    },\n    useContext: readContext,\n    useEffect: mountEffect,\n    useImperativeHandle: function (ref, create, deps) {\n      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n      mountEffectImpl(\n        4194308,\n        4,\n        imperativeHandleEffect.bind(null, create, ref),\n        deps\n      );\n    },\n    useLayoutEffect: function (create, deps) {\n      return mountEffectImpl(4194308, 4, create, deps);\n    },\n    useInsertionEffect: function (create, deps) {\n      mountEffectImpl(4, 2, create, deps);\n    },\n    useMemo: function (nextCreate, deps) {\n      var hook = mountWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var nextValue = nextCreate();\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          nextCreate();\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      hook.memoizedState = [nextValue, deps];\n      return nextValue;\n    },\n    useReducer: function (reducer, initialArg, init) {\n      var hook = mountWorkInProgressHook();\n      if (void 0 !== init) {\n        var initialState = init(initialArg);\n        if (shouldDoubleInvokeUserFnsInHooksDEV) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            init(initialArg);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n      } else initialState = initialArg;\n      hook.memoizedState = hook.baseState = initialState;\n      reducer = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: reducer,\n        lastRenderedState: initialState\n      };\n      hook.queue = reducer;\n      reducer = reducer.dispatch = dispatchReducerAction.bind(\n        null,\n        currentlyRenderingFiber,\n        reducer\n      );\n      return [hook.memoizedState, reducer];\n    },\n    useRef: function (initialValue) {\n      var hook = mountWorkInProgressHook();\n      initialValue = { current: initialValue };\n      return (hook.memoizedState = initialValue);\n    },\n    useState: function (initialState) {\n      initialState = mountStateImpl(initialState);\n      var queue = initialState.queue,\n        dispatch = dispatchSetState.bind(null, currentlyRenderingFiber, queue);\n      queue.dispatch = dispatch;\n      return [initialState.memoizedState, dispatch];\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = mountWorkInProgressHook();\n      return mountDeferredValueImpl(hook, value, initialValue);\n    },\n    useTransition: function () {\n      var stateHook = mountStateImpl(!1);\n      stateHook = startTransition.bind(\n        null,\n        currentlyRenderingFiber,\n        stateHook.queue,\n        !0,\n        !1\n      );\n      mountWorkInProgressHook().memoizedState = stateHook;\n      return [!1, stateHook];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n      var fiber = currentlyRenderingFiber,\n        hook = mountWorkInProgressHook();\n      if (isHydrating) {\n        if (void 0 === getServerSnapshot)\n          throw Error(formatProdErrorMessage(407));\n        getServerSnapshot = getServerSnapshot();\n      } else {\n        getServerSnapshot = getSnapshot();\n        if (null === workInProgressRoot)\n          throw Error(formatProdErrorMessage(349));\n        0 !== (workInProgressRootRenderLanes & 127) ||\n          pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n      }\n      hook.memoizedState = getServerSnapshot;\n      var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n      hook.queue = inst;\n      mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n        subscribe\n      ]);\n      fiber.flags |= 2048;\n      pushSimpleEffect(\n        9,\n        { destroy: void 0 },\n        updateStoreInstance.bind(\n          null,\n          fiber,\n          inst,\n          getServerSnapshot,\n          getSnapshot\n        ),\n        null\n      );\n      return getServerSnapshot;\n    },\n    useId: function () {\n      var hook = mountWorkInProgressHook(),\n        identifierPrefix = workInProgressRoot.identifierPrefix;\n      if (isHydrating) {\n        var JSCompiler_inline_result = treeContextOverflow;\n        var idWithLeadingBit = treeContextId;\n        JSCompiler_inline_result =\n          (\n            idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n          ).toString(32) + JSCompiler_inline_result;\n        identifierPrefix =\n          \"_\" + identifierPrefix + \"R_\" + JSCompiler_inline_result;\n        JSCompiler_inline_result = localIdCounter++;\n        0 < JSCompiler_inline_result &&\n          (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n        identifierPrefix += \"_\";\n      } else\n        (JSCompiler_inline_result = globalClientIdCounter++),\n          (identifierPrefix =\n            \"_\" +\n            identifierPrefix +\n            \"r_\" +\n            JSCompiler_inline_result.toString(32) +\n            \"_\");\n      return (hook.memoizedState = identifierPrefix);\n    },\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: mountActionState,\n    useActionState: mountActionState,\n    useOptimistic: function (passthrough) {\n      var hook = mountWorkInProgressHook();\n      hook.memoizedState = hook.baseState = passthrough;\n      var queue = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: null,\n        lastRenderedState: null\n      };\n      hook.queue = queue;\n      hook = dispatchOptimisticSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        !0,\n        queue\n      );\n      queue.dispatch = hook;\n      return [passthrough, hook];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: function () {\n      return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n        null,\n        currentlyRenderingFiber\n      ));\n    },\n    useEffectEvent: function (callback) {\n      var hook = mountWorkInProgressHook(),\n        ref = { impl: callback };\n      hook.memoizedState = ref;\n      return function () {\n        if (0 !== (executionContext & 2))\n          throw Error(formatProdErrorMessage(440));\n        return ref.impl.apply(void 0, arguments);\n      };\n    }\n  },\n  HooksDispatcherOnUpdate = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: updateReducer,\n    useRef: updateRef,\n    useState: function () {\n      return updateReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return updateDeferredValueImpl(\n        hook,\n        currentHook.memoizedState,\n        value,\n        initialValue\n      );\n    },\n    useTransition: function () {\n      var booleanOrThenable = updateReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: updateActionState,\n    useActionState: updateActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  };\nHooksDispatcherOnUpdate.useEffectEvent = updateEvent;\nvar HooksDispatcherOnRerender = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: rerenderReducer,\n  useRef: updateRef,\n  useState: function () {\n    return rerenderReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return null === currentHook\n      ? mountDeferredValueImpl(hook, value, initialValue)\n      : updateDeferredValueImpl(\n          hook,\n          currentHook.memoizedState,\n          value,\n          initialValue\n        );\n  },\n  useTransition: function () {\n    var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId,\n  useHostTransitionStatus: useHostTransitionStatus,\n  useFormState: rerenderActionState,\n  useActionState: rerenderActionState,\n  useOptimistic: function (passthrough, reducer) {\n    var hook = updateWorkInProgressHook();\n    if (null !== currentHook)\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    hook.baseState = passthrough;\n    return [passthrough, hook.queue.dispatch];\n  },\n  useMemoCache: useMemoCache,\n  useCacheRefresh: updateRefresh\n};\nHooksDispatcherOnRerender.useEffectEvent = updateEvent;\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$73 in Component)\n      void 0 === newProps[propName$73] &&\n        (newProps[propName$73] = Component[propName$73]);\n  }\n  return newProps;\n}\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$74) {\n    setTimeout(function () {\n      throw e$74;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$75) {\n    setTimeout(function () {\n      throw e$75;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 31:\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(\n  current,\n  workInProgress,\n  renderLanes,\n  nextProps\n) {\n  var nextChildren = nextProps.children,\n    prevState = null !== current ? current.memoizedState : null;\n  null === current &&\n    null === workInProgress.stateNode &&\n    (workInProgress.stateNode = {\n      _visibility: 1,\n      _pendingMarkers: null,\n      _retryCache: null,\n      _transitions: null\n    });\n  if (\"hidden\" === nextProps.mode) {\n    if (0 !== (workInProgress.flags & 128)) {\n      prevState =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextProps = workInProgress.child = current.child;\n        for (nextChildren = 0; null !== nextProps; )\n          (nextChildren =\n            nextChildren | nextProps.lanes | nextProps.childLanes),\n            (nextProps = nextProps.sibling);\n        nextProps = nextChildren & ~prevState;\n      } else (nextProps = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        prevState,\n        renderLanes,\n        nextProps\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (nextProps = workInProgress.lanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes,\n          nextProps\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction bailoutOffscreenComponent(current, workInProgress) {\n  (null !== current && 22 === current.tag) ||\n    null !== workInProgress.stateNode ||\n    (workInProgress.stateNode = {\n      _visibility: 1,\n      _pendingMarkers: null,\n      _retryCache: null,\n      _transitions: null\n    });\n  return workInProgress.sibling;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes,\n  remainingChildLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  workInProgress.childLanes = remainingChildLanes;\n  return null;\n}\nfunction mountActivityChildren(workInProgress, nextProps) {\n  nextProps = mountWorkInProgressOffscreenFiber(\n    { mode: nextProps.mode, children: nextProps.children },\n    workInProgress.mode\n  );\n  nextProps.ref = workInProgress.ref;\n  workInProgress.child = nextProps;\n  nextProps.return = workInProgress;\n  return nextProps;\n}\nfunction retryActivityComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountActivityChildren(workInProgress, workInProgress.pendingProps);\n  current.flags |= 2;\n  popSuspenseHandler(workInProgress);\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction updateActivityComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    didSuspend = 0 !== (workInProgress.flags & 128);\n  workInProgress.flags &= -129;\n  if (null === current) {\n    if (isHydrating) {\n      if (\"hidden\" === nextProps.mode)\n        return (\n          (current = mountActivityChildren(workInProgress, nextProps)),\n          (workInProgress.lanes = 536870912),\n          bailoutOffscreenComponent(null, current)\n        );\n      pushDehydratedActivitySuspenseHandler(workInProgress);\n      (current = nextHydratableInstance)\n        ? ((current = canHydrateHydrationBoundary(\n            current,\n            rootOrSingletonContext\n          )),\n          (current = null !== current && \"&\" === current.data ? current : null),\n          null !== current &&\n            ((workInProgress.memoizedState = {\n              dehydrated: current,\n              treeContext:\n                null !== treeContextProvider\n                  ? { id: treeContextId, overflow: treeContextOverflow }\n                  : null,\n              retryLane: 536870912,\n              hydrationErrors: null\n            }),\n            (renderLanes = createFiberFromDehydratedFragment(current)),\n            (renderLanes.return = workInProgress),\n            (workInProgress.child = renderLanes),\n            (hydrationParentFiber = workInProgress),\n            (nextHydratableInstance = null)))\n        : (current = null);\n      if (null === current) throw throwOnHydrationMismatch(workInProgress);\n      workInProgress.lanes = 536870912;\n      return null;\n    }\n    return mountActivityChildren(workInProgress, nextProps);\n  }\n  var prevState = current.memoizedState;\n  if (null !== prevState) {\n    var dehydrated = prevState.dehydrated;\n    pushDehydratedActivitySuspenseHandler(workInProgress);\n    if (didSuspend)\n      if (workInProgress.flags & 256)\n        (workInProgress.flags &= -257),\n          (workInProgress = retryActivityComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          ));\n      else if (null !== workInProgress.memoizedState)\n        (workInProgress.child = current.child),\n          (workInProgress.flags |= 128),\n          (workInProgress = null);\n      else throw Error(formatProdErrorMessage(558));\n    else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (didSuspend = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || didSuspend)\n    ) {\n      nextProps = workInProgressRoot;\n      if (\n        null !== nextProps &&\n        ((dehydrated = getBumpedLaneForHydration(nextProps, renderLanes)),\n        0 !== dehydrated && dehydrated !== prevState.retryLane)\n      )\n        throw (\n          ((prevState.retryLane = dehydrated),\n          enqueueConcurrentRenderForLane(current, dehydrated),\n          scheduleUpdateOnFiber(nextProps, current, dehydrated),\n          SelectiveHydrationException)\n        );\n      renderDidSuspendDelayIfPossible();\n      workInProgress = retryActivityComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      (current = prevState.treeContext),\n        (nextHydratableInstance = getNextHydratable(dehydrated.nextSibling)),\n        (hydrationParentFiber = workInProgress),\n        (isHydrating = !0),\n        (hydrationErrors = null),\n        (rootOrSingletonContext = !1),\n        null !== current &&\n          restoreSuspendedTreeContext(workInProgress, current),\n        (workInProgress = mountActivityChildren(workInProgress, nextProps)),\n        (workInProgress.flags |= 4096);\n    return workInProgress;\n  }\n  current = createWorkInProgress(current.child, {\n    mode: nextProps.mode,\n    children: nextProps.children\n  });\n  current.ref = workInProgress.ref;\n  workInProgress.child = current;\n  current.return = workInProgress;\n  return current;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 4194816);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 4194816;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = {\n  dehydrated: null,\n  treeContext: null,\n  retryLane: 0,\n  hydrationErrors: null\n};\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      (current = nextHydratableInstance)\n        ? ((current = canHydrateHydrationBoundary(\n            current,\n            rootOrSingletonContext\n          )),\n          (current = null !== current && \"&\" !== current.data ? current : null),\n          null !== current &&\n            ((workInProgress.memoizedState = {\n              dehydrated: current,\n              treeContext:\n                null !== treeContextProvider\n                  ? { id: treeContextId, overflow: treeContextOverflow }\n                  : null,\n              retryLane: 536870912,\n              hydrationErrors: null\n            }),\n            (renderLanes = createFiberFromDehydratedFragment(current)),\n            (renderLanes.return = workInProgress),\n            (workInProgress.child = renderLanes),\n            (hydrationParentFiber = workInProgress),\n            (nextHydratableInstance = null)))\n        : (current = null);\n      if (null === current) throw throwOnHydrationMismatch(workInProgress);\n      isSuspenseInstanceFallback(current)\n        ? (workInProgress.lanes = 32)\n        : (workInProgress.lanes = 536870912);\n      return null;\n    }\n    var nextPrimaryChildren = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextPrimaryChildren = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextPrimaryChildren },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextPrimaryChildren.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextPrimaryChildren.sibling = nextProps),\n        (workInProgress.child = nextPrimaryChildren),\n        (nextProps = workInProgress.child),\n        (nextProps.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        bailoutOffscreenComponent(null, nextProps)\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextPrimaryChildren);\n  }\n  var prevState = current.memoizedState;\n  if (\n    null !== prevState &&\n    ((nextPrimaryChildren = prevState.dehydrated), null !== nextPrimaryChildren)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (nextPrimaryChildren = nextProps.fallback),\n            (showFallback = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              showFallback\n            )),\n            (nextPrimaryChildren = createFiberFromFragment(\n              nextPrimaryChildren,\n              showFallback,\n              renderLanes,\n              null\n            )),\n            (nextPrimaryChildren.flags |= 2),\n            (nextProps.return = workInProgress),\n            (nextPrimaryChildren.return = workInProgress),\n            (nextProps.sibling = nextPrimaryChildren),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = bailoutOffscreenComponent(null, nextProps)));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      isSuspenseInstanceFallback(nextPrimaryChildren))\n    ) {\n      JSCompiler_temp =\n        nextPrimaryChildren.nextSibling &&\n        nextPrimaryChildren.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (\n        null !== JSCompiler_temp &&\n        ((nextProps = getBumpedLaneForHydration(JSCompiler_temp, renderLanes)),\n        0 !== nextProps && nextProps !== prevState.retryLane)\n      )\n        throw (\n          ((prevState.retryLane = nextProps),\n          enqueueConcurrentRenderForLane(current, nextProps),\n          scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n          SelectiveHydrationException)\n        );\n      isSuspenseInstancePending(nextPrimaryChildren) ||\n        renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      isSuspenseInstancePending(nextPrimaryChildren)\n        ? ((workInProgress.flags |= 192),\n          (workInProgress.child = current.child),\n          (workInProgress = null))\n        : ((current = prevState.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextPrimaryChildren.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            restoreSuspendedTreeContext(workInProgress, current),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (nextPrimaryChildren = nextProps.fallback),\n      (showFallback = workInProgress.mode),\n      (prevState = current.child),\n      (digest = prevState.sibling),\n      (nextProps = createWorkInProgress(prevState, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags = prevState.subtreeFlags & 65011712),\n      null !== digest\n        ? (nextPrimaryChildren = createWorkInProgress(\n            digest,\n            nextPrimaryChildren\n          ))\n        : ((nextPrimaryChildren = createFiberFromFragment(\n            nextPrimaryChildren,\n            showFallback,\n            renderLanes,\n            null\n          )),\n          (nextPrimaryChildren.flags |= 2)),\n      (nextPrimaryChildren.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = nextPrimaryChildren),\n      (workInProgress.child = nextProps),\n      bailoutOffscreenComponent(null, nextProps),\n      (nextProps = workInProgress.child),\n      (nextPrimaryChildren = current.child.memoizedState),\n      null === nextPrimaryChildren\n        ? (nextPrimaryChildren = mountSuspenseOffscreenState(renderLanes))\n        : ((showFallback = nextPrimaryChildren.cachePool),\n          null !== showFallback\n            ? ((prevState = CacheContext._currentValue),\n              (showFallback =\n                showFallback.parent !== prevState\n                  ? { parent: prevState, pool: prevState }\n                  : showFallback))\n            : (showFallback = getSuspendedCache()),\n          (nextPrimaryChildren = {\n            baseLanes: nextPrimaryChildren.baseLanes | renderLanes,\n            cachePool: showFallback\n          })),\n      (nextProps.memoizedState = nextPrimaryChildren),\n      (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      bailoutOffscreenComponent(current.child, nextProps)\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  offscreenProps = createFiberImplClass(22, offscreenProps, null, mode);\n  offscreenProps.lanes = 0;\n  return offscreenProps;\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode,\n  treeForkCount\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode,\n        treeForkCount: treeForkCount\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode),\n      (renderState.treeForkCount = treeForkCount));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  nextProps = nextProps.children;\n  var suspenseContext = suspenseStackCursor.current,\n    shouldForceFallback = 0 !== (suspenseContext & 2);\n  shouldForceFallback\n    ? ((suspenseContext = (suspenseContext & 1) | 2),\n      (workInProgress.flags |= 128))\n    : (suspenseContext &= 1);\n  push(suspenseStackCursor, suspenseContext);\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  nextProps = isHydrating ? treeForkCount : 0;\n  if (!shouldForceFallback && null !== current && 0 !== (current.flags & 128))\n    a: for (current = workInProgress.child; null !== current; ) {\n      if (13 === current.tag)\n        null !== current.memoizedState &&\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n      else if (19 === current.tag)\n        scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n      else if (null !== current.child) {\n        current.child.return = current;\n        current = current.child;\n        continue;\n      }\n      if (current === workInProgress) break a;\n      for (; null === current.sibling; ) {\n        if (null === current.return || current.return === workInProgress)\n          break a;\n        current = current.return;\n      }\n      current.sibling.return = current.return;\n      current = current.sibling;\n    }\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode,\n        nextProps\n      );\n      break;\n    case \"backwards\":\n    case \"unstable_legacy-backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode,\n        nextProps\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        null,\n        null,\n        void 0,\n        nextProps\n      );\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 31:\n      if (null !== workInProgress.memoizedState)\n        return (\n          (workInProgress.flags |= 128),\n          pushDehydratedActivitySuspenseHandler(workInProgress),\n          null\n        );\n      break;\n    case 13:\n      var state$102 = workInProgress.memoizedState;\n      if (null !== state$102) {\n        if (null !== state$102.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state$102 = 0 !== (renderLanes & workInProgress.childLanes);\n      state$102 ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state$102 = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state$102)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state$102) break;\n      else return null;\n    case 22:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(\n          current,\n          workInProgress,\n          renderLanes,\n          workInProgress.pendingProps\n        )\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        var props = workInProgress.pendingProps;\n        current = resolveLazy(workInProgress.elementType);\n        workInProgress.type = current;\n        if (\"function\" === typeof current)\n          shouldConstruct(current)\n            ? ((props = resolveClassComponentProps(current, props)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                current,\n                props,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                current,\n                props,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== current && null !== current) {\n            var $$typeof = current.$$typeof;\n            if ($$typeof === REACT_FORWARD_REF_TYPE) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                current,\n                props,\n                renderLanes\n              );\n              break a;\n            } else if ($$typeof === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                current,\n                props,\n                renderLanes\n              );\n              break a;\n            }\n          }\n          workInProgress = getComponentNameFromType(current) || current;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (props = workInProgress.type),\n        ($$typeof = resolveClassComponentProps(\n          props,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          props,\n          $$typeof,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        props = workInProgress.pendingProps;\n        var prevState = workInProgress.memoizedState;\n        $$typeof = prevState.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, props, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        props = nextState.cache;\n        pushProvider(workInProgress, CacheContext, props);\n        props !== prevState.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        props = nextState.element;\n        if (prevState.isDehydrated)\n          if (\n            ((prevState = {\n              element: props,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = prevState),\n            (workInProgress.memoizedState = prevState),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              props,\n              renderLanes\n            );\n            break a;\n          } else if (props !== $$typeof) {\n            $$typeof = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError($$typeof);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              props,\n              renderLanes\n            );\n            break a;\n          } else {\n            current = workInProgress.stateNode.containerInfo;\n            switch (current.nodeType) {\n              case 9:\n                current = current.body;\n                break;\n              default:\n                current =\n                  \"HTML\" === current.nodeName\n                    ? current.ownerDocument.body\n                    : current;\n            }\n            nextHydratableInstance = getNextHydratable(current.firstChild);\n            hydrationParentFiber = workInProgress;\n            isHydrating = !0;\n            hydrationErrors = null;\n            rootOrSingletonContext = !0;\n            renderLanes = mountChildFibers(\n              workInProgress,\n              null,\n              props,\n              renderLanes\n            );\n            for (workInProgress.child = renderLanes; renderLanes; )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n          }\n        else {\n          resetHydrationState();\n          if (props === $$typeof) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(current, workInProgress, props, renderLanes);\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (props = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (props[internalInstanceKey] = workInProgress),\n              (props[internalPropsKey] = current),\n              setInitialProperties(props, renderLanes, current),\n              markNodeAsHoistable(props),\n              (workInProgress.stateNode = props))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((props = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          ($$typeof = nextHydratableInstance),\n          isSingletonScope(workInProgress.type)\n            ? ((previousHydratableOnEnteringScopedSingleton = $$typeof),\n              (nextHydratableInstance = getNextHydratable(props.firstChild)))\n            : (nextHydratableInstance = $$typeof)),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        markRef(current, workInProgress),\n        null === current && (workInProgress.flags |= 4194304),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if (($$typeof = props = nextHydratableInstance))\n          (props = canHydrateInstance(\n            props,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== props\n              ? ((workInProgress.stateNode = props),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(props.firstChild)),\n                (rootOrSingletonContext = !1),\n                ($$typeof = !0))\n              : ($$typeof = !1);\n        $$typeof || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      $$typeof = workInProgress.type;\n      prevState = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      props = prevState.children;\n      shouldSetTextContent($$typeof, prevState)\n        ? (props = null)\n        : null !== nextState &&\n          shouldSetTextContent($$typeof, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        (($$typeof = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = $$typeof));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, props, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (props = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              props,\n              renderLanes\n            ))\n          : reconcileChildren(current, workInProgress, props, renderLanes),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (props = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, props.value),\n        reconcileChildren(current, workInProgress, props.children, renderLanes),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        ($$typeof = workInProgress.type._context),\n        (props = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        ($$typeof = readContext($$typeof)),\n        (props = props($$typeof)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, props, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 31:\n      return updateActivityComponent(current, workInProgress, renderLanes);\n    case 22:\n      return updateOffscreenComponent(\n        current,\n        workInProgress,\n        renderLanes,\n        workInProgress.pendingProps\n      );\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (props = readContext(CacheContext)),\n        null === current\n          ? (($$typeof = peekCacheFromPool()),\n            null === $$typeof &&\n              (($$typeof = workInProgressRoot),\n              (prevState = createCache()),\n              ($$typeof.pooledCache = prevState),\n              prevState.refCount++,\n              null !== prevState && ($$typeof.pooledCacheLanes |= renderLanes),\n              ($$typeof = prevState)),\n            (workInProgress.memoizedState = { parent: props, cache: $$typeof }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, $$typeof))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            ($$typeof = current.memoizedState),\n            (prevState = workInProgress.memoizedState),\n            $$typeof.parent !== props\n              ? (($$typeof = { parent: props, cache: props }),\n                (workInProgress.memoizedState = $$typeof),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      $$typeof),\n                pushProvider(workInProgress, CacheContext, props))\n              : ((props = prevState.cache),\n                pushProvider(workInProgress, CacheContext, props),\n                props !== $$typeof.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadInstanceAndSuspendIfNeeded(\n  workInProgress,\n  type,\n  oldProps,\n  newProps,\n  renderLanes\n) {\n  if ((type = 0 !== (workInProgress.mode & 32))) type = !1;\n  if (type) {\n    if (\n      ((workInProgress.flags |= 16777216),\n      (renderLanes & 335544128) === renderLanes)\n    )\n      if (workInProgress.stateNode.complete) workInProgress.flags |= 8192;\n      else if (shouldRemainOnPreviousScreen()) workInProgress.flags |= 8192;\n      else\n        throw (\n          ((suspendedThenable = noopSuspenseyCommitThenable),\n          SuspenseyCommitException)\n        );\n  } else workInProgress.flags &= -16777217;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource)))\n    if (shouldRemainOnPreviousScreen()) workInProgress.flags |= 8192;\n    else\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$106 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$106 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$106\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$106.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$107 = completedWork.child; null !== child$107; )\n      (newChildLanes |= child$107.lanes | child$107.childLanes),\n        (subtreeFlags |= child$107.subtreeFlags & 65011712),\n        (subtreeFlags |= child$107.flags & 65011712),\n        (child$107.return = completedWork),\n        (child$107 = child$107.sibling);\n  else\n    for (child$107 = completedWork.child; null !== child$107; )\n      (newChildLanes |= child$107.lanes | child$107.childLanes),\n        (subtreeFlags |= child$107.subtreeFlags),\n        (subtreeFlags |= child$107.flags),\n        (child$107.return = completedWork),\n        (child$107 = child$107.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            upgradeHydrationErrorsToRecoverable());\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      var type = workInProgress.type,\n        nextResource = workInProgress.memoizedState;\n      null === current\n        ? (markUpdate(workInProgress),\n          null !== nextResource\n            ? (bubbleProperties(workInProgress),\n              preloadResourceAndSuspendIfNeeded(workInProgress, nextResource))\n            : (bubbleProperties(workInProgress),\n              preloadInstanceAndSuspendIfNeeded(\n                workInProgress,\n                type,\n                null,\n                newProps,\n                renderLanes\n              )))\n        : nextResource\n          ? nextResource !== current.memoizedState\n            ? (markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              preloadResourceAndSuspendIfNeeded(workInProgress, nextResource))\n            : (bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217))\n          : ((current = current.memoizedProps),\n            current !== newProps && markUpdate(workInProgress),\n            bubbleProperties(workInProgress),\n            preloadInstanceAndSuspendIfNeeded(\n              workInProgress,\n              type,\n              current,\n              newProps,\n              renderLanes\n            ));\n      return null;\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        nextResource = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, nextResource);\n        else {\n          var ownerDocument = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (nextResource) {\n            case 1:\n              nextResource = ownerDocument.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                type\n              );\n              break;\n            case 2:\n              nextResource = ownerDocument.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                type\n              );\n              break;\n            default:\n              switch (type) {\n                case \"svg\":\n                  nextResource = ownerDocument.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    type\n                  );\n                  break;\n                case \"math\":\n                  nextResource = ownerDocument.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    type\n                  );\n                  break;\n                case \"script\":\n                  nextResource = ownerDocument.createElement(\"div\");\n                  nextResource.innerHTML = \"<script>\\x3c/script>\";\n                  nextResource = nextResource.removeChild(\n                    nextResource.firstChild\n                  );\n                  break;\n                case \"select\":\n                  nextResource =\n                    \"string\" === typeof newProps.is\n                      ? ownerDocument.createElement(\"select\", {\n                          is: newProps.is\n                        })\n                      : ownerDocument.createElement(\"select\");\n                  newProps.multiple\n                    ? (nextResource.multiple = !0)\n                    : newProps.size && (nextResource.size = newProps.size);\n                  break;\n                default:\n                  nextResource =\n                    \"string\" === typeof newProps.is\n                      ? ownerDocument.createElement(type, { is: newProps.is })\n                      : ownerDocument.createElement(type);\n              }\n          }\n          nextResource[internalInstanceKey] = workInProgress;\n          nextResource[internalPropsKey] = newProps;\n          a: for (\n            ownerDocument = workInProgress.child;\n            null !== ownerDocument;\n\n          ) {\n            if (5 === ownerDocument.tag || 6 === ownerDocument.tag)\n              nextResource.appendChild(ownerDocument.stateNode);\n            else if (\n              4 !== ownerDocument.tag &&\n              27 !== ownerDocument.tag &&\n              null !== ownerDocument.child\n            ) {\n              ownerDocument.child.return = ownerDocument;\n              ownerDocument = ownerDocument.child;\n              continue;\n            }\n            if (ownerDocument === workInProgress) break a;\n            for (; null === ownerDocument.sibling; ) {\n              if (\n                null === ownerDocument.return ||\n                ownerDocument.return === workInProgress\n              )\n                break a;\n              ownerDocument = ownerDocument.return;\n            }\n            ownerDocument.sibling.return = ownerDocument.return;\n            ownerDocument = ownerDocument.sibling;\n          }\n          workInProgress.stateNode = nextResource;\n          a: switch (\n            (setInitialProperties(nextResource, type, newProps), type)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              newProps = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              newProps = !0;\n              break a;\n            default:\n              newProps = !1;\n          }\n          newProps && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      preloadInstanceAndSuspendIfNeeded(\n        workInProgress,\n        workInProgress.type,\n        null === current ? null : current.memoizedProps,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress, !0);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 31:\n      renderLanes = workInProgress.memoizedState;\n      if (null === current || null !== current.memoizedState) {\n        newProps = popHydrationState(workInProgress);\n        if (null !== renderLanes) {\n          if (null === current) {\n            if (!newProps) throw Error(formatProdErrorMessage(318));\n            current = workInProgress.memoizedState;\n            current = null !== current ? current.dehydrated : null;\n            if (!current) throw Error(formatProdErrorMessage(557));\n            current[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          current = !1;\n        } else\n          (renderLanes = upgradeHydrationErrorsToRecoverable()),\n            null !== current &&\n              null !== current.memoizedState &&\n              (current.memoizedState.hydrationErrors = renderLanes),\n            (current = !0);\n        if (!current) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n        if (0 !== (workInProgress.flags & 128))\n          throw Error(formatProdErrorMessage(558));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          (type = upgradeHydrationErrorsToRecoverable()),\n            null !== current &&\n              null !== current.memoizedState &&\n              (current.memoizedState.hydrationErrors = type),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      renderLanes &&\n        ((newProps = workInProgress.child),\n        (type = null),\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool),\n        (nextResource = null),\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (nextResource = newProps.memoizedState.cachePool.pool),\n        nextResource !== type && (newProps.flags |= 2048));\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      newProps = workInProgress.memoizedState;\n      if (null === newProps) return bubbleProperties(workInProgress), null;\n      type = 0 !== (workInProgress.flags & 128);\n      nextResource = newProps.rendering;\n      if (null === nextResource)\n        if (type) cutOffTailIfNeeded(newProps, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              nextResource = findFirstSuspended(current);\n              if (null !== nextResource) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(newProps, !1);\n                current = nextResource.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                isHydrating &&\n                  pushTreeFork(workInProgress, newProps.treeForkCount);\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== newProps.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (type = !0),\n            cutOffTailIfNeeded(newProps, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!type)\n          if (\n            ((current = findFirstSuspended(nextResource)), null !== current)\n          ) {\n            if (\n              ((workInProgress.flags |= 128),\n              (type = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(newProps, !0),\n              null === newProps.tail &&\n                \"hidden\" === newProps.tailMode &&\n                !nextResource.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - newProps.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (type = !0),\n              cutOffTailIfNeeded(newProps, !1),\n              (workInProgress.lanes = 4194304));\n        newProps.isBackwards\n          ? ((nextResource.sibling = workInProgress.child),\n            (workInProgress.child = nextResource))\n          : ((current = newProps.last),\n            null !== current\n              ? (current.sibling = nextResource)\n              : (workInProgress.child = nextResource),\n            (newProps.last = nextResource));\n      }\n      if (null !== newProps.tail)\n        return (\n          (current = newProps.tail),\n          (newProps.rendering = current),\n          (newProps.tail = current.sibling),\n          (newProps.renderingStartTime = now()),\n          (current.sibling = null),\n          (renderLanes = suspenseStackCursor.current),\n          push(\n            suspenseStackCursor,\n            type ? (renderLanes & 1) | 2 : renderLanes & 1\n          ),\n          isHydrating && pushTreeFork(workInProgress, newProps.treeForkCount),\n          current\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n    case 30:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 31:\n      if (null !== workInProgress.memoizedState) {\n        popSuspenseHandler(workInProgress);\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 31:\n      null !== interruptedWork.memoizedState &&\n        popSuspenseHandler(interruptedWork);\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,\n              destroy_ = destroy;\n            try {\n              destroy_();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = current.stateNode;\n          break;\n        case 30:\n          instanceToUse = current.stateNode;\n          break;\n        default:\n          instanceToUse = current.stateNode;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$140) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$140);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    (27 === fiber.tag && isSingletonScope(fiber.type)) ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;\n\n    ) {\n      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? (9 === parent.nodeType\n            ? parent.body\n            : \"HTML\" === parent.nodeName\n              ? parent.ownerDocument.body\n              : parent\n          ).insertBefore(node, before)\n        : ((before =\n            9 === parent.nodeType\n              ? parent.body\n              : \"HTML\" === parent.nodeName\n                ? parent.ownerDocument.body\n                : parent),\n          before.appendChild(node),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (\n    4 !== tag &&\n    (27 === tag &&\n      isSingletonScope(node.type) &&\n      ((parent = node.stateNode), (before = null)),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (\n    4 !== tag &&\n    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nfunction commitHostSingletonAcquisition(finishedWork) {\n  var singleton = finishedWork.stateNode,\n    props = finishedWork.memoizedProps;\n  try {\n    for (\n      var type = finishedWork.type, attributes = singleton.attributes;\n      attributes.length;\n\n    )\n      singleton.removeAttributeNode(attributes[0]);\n    setInitialProperties(singleton, type, props);\n    singleton[internalInstanceKey] = finishedWork;\n    singleton[internalPropsKey] = props;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1028) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            if (\n              0 !== (root & 4) &&\n              ((root = firstChild.updateQueue),\n              (root = null !== root ? root.events : null),\n              null !== root)\n            )\n              for (\n                JSCompiler_temp = 0;\n                JSCompiler_temp < root.length;\n                JSCompiler_temp++\n              )\n                (anchorOffset = root[JSCompiler_temp]),\n                  (anchorOffset.ref.impl = anchorOffset.nextImpl);\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$139) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$139\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (\n        flags & 64 &&\n        ((finishedRoot = finishedWork.updateQueue), null !== finishedRoot)\n      ) {\n        current = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              current = finishedWork.child.stateNode;\n              break;\n            case 1:\n              current = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(finishedRoot, current);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 27:\n      null === current &&\n        flags & 4 &&\n        commitHostSingletonAcquisition(finishedWork);\n    case 26:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 31:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitActivityHydrationCallbacks(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      flags & 64 &&\n        ((finishedRoot = finishedWork.memoizedState),\n        null !== finishedRoot &&\n          ((finishedRoot = finishedRoot.dehydrated),\n          null !== finishedRoot &&\n            ((finishedWork = retryDehydratedSuspenseBoundary.bind(\n              null,\n              finishedWork\n            )),\n            registerSuspenseInstanceRetry(finishedRoot, finishedWork))));\n      break;\n    case 22:\n      flags = null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!flags) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        prevProps = offscreenSubtreeIsHidden;\n        var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = flags;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevProps;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      break;\n    case 30:\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      isSingletonScope(deletedFiber.type) &&\n        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      releaseSingletonInstance(deletedFiber.stateNode);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (9 === hostParent.nodeType\n              ? hostParent.body\n              : \"HTML\" === hostParent.nodeName\n                ? hostParent.ownerDocument.body\n                : hostParent\n            ).removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((finishedRoot = hostParent),\n            clearHydrationBoundary(\n              9 === finishedRoot.nodeType\n                ? finishedRoot.body\n                : \"HTML\" === finishedRoot.nodeName\n                  ? finishedRoot.ownerDocument.body\n                  : finishedRoot,\n              deletedFiber.stateNode\n            ),\n            retryIfBlockedOn(finishedRoot))\n          : clearHydrationBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitActivityHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState), null !== finishedRoot))\n  ) {\n    finishedRoot = finishedRoot.dehydrated;\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 31:\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    if (!retryCache.has(wakeable)) {\n      retryCache.add(wakeable);\n      var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n      wakeable.then(retry, retry);\n    }\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n            if (isSingletonScope(parent.type)) {\n              hostParent = parent.stateNode;\n              hostParentIsContainer = !1;\n              break a;\n            }\n            break;\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13886)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href || \"\" === current.href\n                              ? null\n                              : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      null !== current &&\n        flags & 4 &&\n        commitHostUpdate(\n          finishedWork,\n          finishedWork.memoizedProps,\n          current.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 31:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      hoistableRoot = null !== finishedWork.memoizedState;\n      var wasHidden = null !== current && null !== current.memoizedState,\n        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 8192)\n        a: for (\n          root = finishedWork.stateNode,\n            root._visibility = hoistableRoot\n              ? root._visibility & -2\n              : root._visibility | 1,\n            hoistableRoot &&\n              (null === current ||\n                wasHidden ||\n                offscreenSubtreeIsHidden ||\n                offscreenSubtreeWasHidden ||\n                recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n            current = null,\n            root = finishedWork;\n          ;\n\n        ) {\n          if (5 === root.tag || 26 === root.tag) {\n            if (null === current) {\n              wasHidden = current = root;\n              try {\n                if (((currentResource = wasHidden.stateNode), hoistableRoot))\n                  (maybeNodes = currentResource.style),\n                    \"function\" === typeof maybeNodes.setProperty\n                      ? maybeNodes.setProperty(\"display\", \"none\", \"important\")\n                      : (maybeNodes.display = \"none\");\n                else {\n                  i = wasHidden.stateNode;\n                  var styleProp = wasHidden.memoizedProps.style,\n                    display =\n                      void 0 !== styleProp &&\n                      null !== styleProp &&\n                      styleProp.hasOwnProperty(\"display\")\n                        ? styleProp.display\n                        : null;\n                  i.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              wasHidden = root;\n              try {\n                wasHidden.stateNode.nodeValue = hoistableRoot\n                  ? \"\"\n                  : wasHidden.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (18 === root.tag) {\n            if (null === current) {\n              wasHidden = root;\n              try {\n                var instance = wasHidden.stateNode;\n                hoistableRoot\n                  ? hideOrUnhideDehydratedBoundary(instance, !0)\n                  : hideOrUnhideDehydratedBoundary(wasHidden.stateNode, !1);\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 30:\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      for (\n        var hostParentFiber, parentFiber = finishedWork.return;\n        null !== parentFiber;\n\n      ) {\n        if (isHostParent(parentFiber)) {\n          hostParentFiber = parentFiber;\n          break;\n        }\n        parentFiber = parentFiber.return;\n      }\n      if (null == hostParentFiber) throw Error(formatProdErrorMessage(160));\n      switch (hostParentFiber.tag) {\n        case 27:\n          var parent = hostParentFiber.stateNode,\n            before = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before, parent);\n          break;\n        case 5:\n          var parent$141 = hostParentFiber.stateNode;\n          hostParentFiber.flags & 32 &&\n            (setTextContent(parent$141, \"\"), (hostParentFiber.flags &= -33));\n          var before$142 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before$142, parent$141);\n          break;\n        case 3:\n        case 4:\n          var parent$143 = hostParentFiber.stateNode.containerInfo,\n            before$144 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNodeIntoContainer(\n            finishedWork,\n            before$144,\n            parent$143\n          );\n          break;\n        default:\n          throw Error(formatProdErrorMessage(161));\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 27:\n        releaseSingletonInstance(finishedWork.stateNode);\n      case 26:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 30:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 27:\n        commitHostSingletonAcquisition(finishedWork);\n      case 26:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 31:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitActivityHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 30:\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 1:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 31:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 13:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      id = finishedWork.alternate;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256) || !1\n            ));\n      flags & 2048 && commitOffscreenPassiveMountEffects(id, finishedWork);\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects &&\n    (0 !== (parentFiber.subtreeFlags & 10256) || !1);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 2\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(\n  parentFiber,\n  committedLanes,\n  suspendedState\n) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(\n        parentFiber,\n        committedLanes,\n        suspendedState\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(\n  fiber,\n  committedLanes,\n  suspendedState\n) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(\n        fiber,\n        committedLanes,\n        suspendedState\n      );\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          suspendedState,\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(\n        fiber,\n        committedLanes,\n        suspendedState\n      );\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(\n        fiber,\n        committedLanes,\n        suspendedState\n      );\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(\n              fiber,\n              committedLanes,\n              suspendedState\n            ),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(\n              fiber,\n              committedLanes,\n              suspendedState\n            ));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(\n        fiber,\n        committedLanes,\n        suspendedState\n      );\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 2 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 2 &&\n          ((i._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    },\n    cacheSignal: function () {\n      return readContext(CacheContext).controller.signal;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  globalMostRecentTransitionTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  pendingEffectsStatus = 0,\n  pendingEffectsRoot = null,\n  pendingFinishedWork = null,\n  pendingEffectsLanes = 0,\n  pendingEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  pendingRecoverableErrors = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  return 0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes\n    ? workInProgressRootRenderLanes & -workInProgressRootRenderLanes\n    : null !== ReactSharedInternals.T\n      ? requestTransitionLane()\n      : resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  if (0 === workInProgressDeferredLane)\n    if (0 === (workInProgressRootRenderLanes & 536870912) || isHydrating) {\n      var lane = nextTransitionDeferredLane;\n      nextTransitionDeferredLane <<= 1;\n      0 === (nextTransitionDeferredLane & 3932160) &&\n        (nextTransitionDeferredLane = 262144);\n      workInProgressDeferredLane = lane;\n    } else workInProgressDeferredLane = 536870912;\n  lane = suspenseHandlerStackCursor.current;\n  null !== lane && (lane.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 127) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                (null === workInProgressRootRecoverableErrors\n                  ? (workInProgressRootRecoverableErrors = renderWasConcurrent)\n                  : workInProgressRootRecoverableErrors.push.apply(\n                      workInProgressRootRecoverableErrors,\n                      renderWasConcurrent\n                    ));\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        renderWasConcurrent = exitStatus;\n        switch (renderWasConcurrent) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194048) !== lanes) break;\n          case 6:\n            markRootSuspended(\n              shouldTimeSlice,\n              lanes,\n              workInProgressDeferredLane,\n              !workInProgressRootDidSkipSuspendedSiblings\n            );\n            break a;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        if (\n          (lanes & 62914560) === lanes &&\n          ((exitStatus = globalMostRecentFallbackTime + 300 - now()),\n          10 < exitStatus)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0, !0)) break a;\n          pendingEffectsLanes = lanes;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              renderWasConcurrent,\n              \"Throttled\",\n              -0,\n              0\n            ),\n            exitStatus\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          renderWasConcurrent,\n          null,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  exitStatus,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  root.timeoutHandle = -1;\n  suspendedCommitReason = finishedWork.subtreeFlags;\n  if (\n    suspendedCommitReason & 8192 ||\n    16785408 === (suspendedCommitReason & 16785408)\n  ) {\n    suspendedCommitReason = {\n      stylesheets: null,\n      count: 0,\n      imgCount: 0,\n      imgBytes: 0,\n      suspenseyImages: [],\n      waitingForImages: !0,\n      waitingForViewTransition: !1,\n      unsuspend: noop$1\n    };\n    accumulateSuspenseyCommitOnFiber(\n      finishedWork,\n      lanes,\n      suspendedCommitReason\n    );\n    var timeoutOffset =\n      (lanes & 62914560) === lanes\n        ? globalMostRecentFallbackTime - now()\n        : (lanes & 4194048) === lanes\n          ? globalMostRecentTransitionTime - now()\n          : 0;\n    timeoutOffset = waitForCommitToBeReady(\n      suspendedCommitReason,\n      timeoutOffset\n    );\n    if (null !== timeoutOffset) {\n      pendingEffectsLanes = lanes;\n      root.cancelPendingCommit = timeoutOffset(\n        commitRoot.bind(\n          null,\n          root,\n          finishedWork,\n          lanes,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          exitStatus,\n          suspendedCommitReason,\n          null,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  }\n  commitRoot(\n    root,\n    finishedWork,\n    lanes,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$6 = 31 - clz32(lanes),\n      lane = 1 << index$6;\n    didAttemptEntireTree[index$6] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber$1 = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState$1 = null),\n        (thenableIndexCounter$1 = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  pendingEffectsLanes = 0;\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$4 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$4;\n      lanes |= root[index$4];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException || thrownValue === SuspenseActionException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction shouldRemainOnPreviousScreen() {\n  var handler = suspenseHandlerStackCursor.current;\n  return null === handler\n    ? !0\n    : (workInProgressRootRenderLanes & 4194048) ===\n        workInProgressRootRenderLanes\n      ? null === shellBoundary\n        ? !0\n        : !1\n      : (workInProgressRootRenderLanes & 62914560) ===\n            workInProgressRootRenderLanes ||\n          0 !== (workInProgressRootRenderLanes & 536870912)\n        ? handler === shellBoundary\n        : !1;\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194048) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 9:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$165) {\n      handleThrow(root, thrownValue$165);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n          case 9:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              (2 !== workInProgressSuspendedReason &&\n                9 !== workInProgressSuspendedReason) ||\n                workInProgressRoot !== root ||\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (\n                  resource\n                    ? preloadResource(resource)\n                    : hostFiber.stateNode.complete\n                ) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrentByScheduler();\n      break;\n    } catch (thrownValue$167) {\n      handleThrow(root, thrownValue$167);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrentByScheduler() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState$1 = null;\n  thenableIndexCounter$1 = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason ||\n        9 === suspendedReason ||\n        3 === suspendedReason ||\n        6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  finishedWork,\n  lanes,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  root.cancelPendingCommit = null;\n  do flushPendingEffects();\n  while (0 !== pendingEffectsStatus);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  if (null !== finishedWork) {\n    if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n    didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;\n    didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;\n    markRootFinished(\n      root,\n      lanes,\n      didIncludeRenderPhaseUpdate,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes\n    );\n    root === workInProgressRoot &&\n      ((workInProgress = workInProgressRoot = null),\n      (workInProgressRootRenderLanes = 0));\n    pendingFinishedWork = finishedWork;\n    pendingEffectsRoot = root;\n    pendingEffectsLanes = lanes;\n    pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;\n    pendingPassiveTransitions = transitions;\n    pendingRecoverableErrors = recoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? ((root.callbackNode = null),\n        (root.callbackPriority = 0),\n        scheduleCallback$1(NormalPriority$1, function () {\n          flushPassiveEffects();\n          return null;\n        }))\n      : ((root.callbackNode = null), (root.callbackPriority = 0));\n    recoverableErrors = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {\n      recoverableErrors = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      transitions = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      spawnedLane = executionContext;\n      executionContext |= 4;\n      try {\n        commitBeforeMutationEffects(root, finishedWork, lanes);\n      } finally {\n        (executionContext = spawnedLane),\n          (ReactDOMSharedInternals.p = transitions),\n          (ReactSharedInternals.T = recoverableErrors);\n      }\n    }\n    pendingEffectsStatus = 1;\n    flushMutationEffects();\n    flushLayoutEffects();\n    flushSpawnedWork();\n  }\n}\nfunction flushMutationEffects() {\n  if (1 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootMutationHasEffect = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || rootMutationHasEffect) {\n      rootMutationHasEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitMutationEffectsOnFiber(finishedWork, root);\n        var priorSelectionInformation = selectionInformation,\n          curFocusedElem = getActiveElementDeep(root.containerInfo),\n          priorFocusedElem = priorSelectionInformation.focusedElem,\n          priorSelectionRange = priorSelectionInformation.selectionRange;\n        if (\n          curFocusedElem !== priorFocusedElem &&\n          priorFocusedElem &&\n          priorFocusedElem.ownerDocument &&\n          containsNode(\n            priorFocusedElem.ownerDocument.documentElement,\n            priorFocusedElem\n          )\n        ) {\n          if (\n            null !== priorSelectionRange &&\n            hasSelectionCapabilities(priorFocusedElem)\n          ) {\n            var start = priorSelectionRange.start,\n              end = priorSelectionRange.end;\n            void 0 === end && (end = start);\n            if (\"selectionStart\" in priorFocusedElem)\n              (priorFocusedElem.selectionStart = start),\n                (priorFocusedElem.selectionEnd = Math.min(\n                  end,\n                  priorFocusedElem.value.length\n                ));\n            else {\n              var doc = priorFocusedElem.ownerDocument || document,\n                win = (doc && doc.defaultView) || window;\n              if (win.getSelection) {\n                var selection = win.getSelection(),\n                  length = priorFocusedElem.textContent.length,\n                  start$jscomp$0 = Math.min(priorSelectionRange.start, length),\n                  end$jscomp$0 =\n                    void 0 === priorSelectionRange.end\n                      ? start$jscomp$0\n                      : Math.min(priorSelectionRange.end, length);\n                !selection.extend &&\n                  start$jscomp$0 > end$jscomp$0 &&\n                  ((curFocusedElem = end$jscomp$0),\n                  (end$jscomp$0 = start$jscomp$0),\n                  (start$jscomp$0 = curFocusedElem));\n                var startMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    start$jscomp$0\n                  ),\n                  endMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    end$jscomp$0\n                  );\n                if (\n                  startMarker &&\n                  endMarker &&\n                  (1 !== selection.rangeCount ||\n                    selection.anchorNode !== startMarker.node ||\n                    selection.anchorOffset !== startMarker.offset ||\n                    selection.focusNode !== endMarker.node ||\n                    selection.focusOffset !== endMarker.offset)\n                ) {\n                  var range = doc.createRange();\n                  range.setStart(startMarker.node, startMarker.offset);\n                  selection.removeAllRanges();\n                  start$jscomp$0 > end$jscomp$0\n                    ? (selection.addRange(range),\n                      selection.extend(endMarker.node, endMarker.offset))\n                    : (range.setEnd(endMarker.node, endMarker.offset),\n                      selection.addRange(range));\n                }\n              }\n            }\n          }\n          doc = [];\n          for (\n            selection = priorFocusedElem;\n            (selection = selection.parentNode);\n\n          )\n            1 === selection.nodeType &&\n              doc.push({\n                element: selection,\n                left: selection.scrollLeft,\n                top: selection.scrollTop\n              });\n          \"function\" === typeof priorFocusedElem.focus &&\n            priorFocusedElem.focus();\n          for (\n            priorFocusedElem = 0;\n            priorFocusedElem < doc.length;\n            priorFocusedElem++\n          ) {\n            var info = doc[priorFocusedElem];\n            info.element.scrollLeft = info.left;\n            info.element.scrollTop = info.top;\n          }\n        }\n        _enabled = !!eventsEnabled;\n        selectionInformation = eventsEnabled = null;\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootMutationHasEffect);\n      }\n    }\n    root.current = finishedWork;\n    pendingEffectsStatus = 2;\n  }\n}\nfunction flushLayoutEffects() {\n  if (2 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootHasLayoutEffect = 0 !== (finishedWork.flags & 8772);\n    if (0 !== (finishedWork.subtreeFlags & 8772) || rootHasLayoutEffect) {\n      rootHasLayoutEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork);\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootHasLayoutEffect);\n      }\n    }\n    pendingEffectsStatus = 3;\n  }\n}\nfunction flushSpawnedWork() {\n  if (4 === pendingEffectsStatus || 3 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    requestPaint();\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      lanes = pendingEffectsLanes,\n      recoverableErrors = pendingRecoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? (pendingEffectsStatus = 5)\n      : ((pendingEffectsStatus = 0),\n        (pendingFinishedWork = pendingEffectsRoot = null),\n        releaseRootPooledCache(root, root.pendingLanes));\n    var remainingLanes = root.pendingLanes;\n    0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n    lanesToEventPriority(lanes);\n    finishedWork = finishedWork.stateNode;\n    if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n      try {\n        injectedHook.onCommitFiberRoot(\n          rendererID,\n          finishedWork,\n          void 0,\n          128 === (finishedWork.current.flags & 128)\n        );\n      } catch (err) {}\n    if (null !== recoverableErrors) {\n      finishedWork = ReactSharedInternals.T;\n      remainingLanes = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      ReactSharedInternals.T = null;\n      try {\n        for (\n          var onRecoverableError = root.onRecoverableError, i = 0;\n          i < recoverableErrors.length;\n          i++\n        ) {\n          var recoverableError = recoverableErrors[i];\n          onRecoverableError(recoverableError.value, {\n            componentStack: recoverableError.stack\n          });\n        }\n      } finally {\n        (ReactSharedInternals.T = finishedWork),\n          (ReactDOMSharedInternals.p = remainingLanes);\n      }\n    }\n    0 !== (pendingEffectsLanes & 3) && flushPendingEffects();\n    ensureRootIsScheduled(root);\n    remainingLanes = root.pendingLanes;\n    0 !== (lanes & 261930) && 0 !== (remainingLanes & 42)\n      ? root === rootWithNestedUpdates\n        ? nestedUpdateCount++\n        : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n      : (nestedUpdateCount = 0);\n    flushSyncWorkAcrossRoots_impl(0, !1);\n  }\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPendingEffects() {\n  flushMutationEffects();\n  flushLayoutEffects();\n  flushSpawnedWork();\n  return flushPassiveEffects();\n}\nfunction flushPassiveEffects() {\n  if (5 !== pendingEffectsStatus) return !1;\n  var root = pendingEffectsRoot,\n    remainingLanes = pendingEffectsRemainingLanes;\n  pendingEffectsRemainingLanes = 0;\n  var renderPriority = lanesToEventPriority(pendingEffectsLanes),\n    prevTransition = ReactSharedInternals.T,\n    previousPriority = ReactDOMSharedInternals.p;\n  try {\n    ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n    ReactSharedInternals.T = null;\n    renderPriority = pendingPassiveTransitions;\n    pendingPassiveTransitions = null;\n    var root$jscomp$0 = pendingEffectsRoot,\n      lanes = pendingEffectsLanes;\n    pendingEffectsStatus = 0;\n    pendingFinishedWork = pendingEffectsRoot = null;\n    pendingEffectsLanes = 0;\n    if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));\n    var prevExecutionContext = executionContext;\n    executionContext |= 4;\n    commitPassiveUnmountOnFiber(root$jscomp$0.current);\n    commitPassiveMountOnFiber(\n      root$jscomp$0,\n      root$jscomp$0.current,\n      lanes,\n      renderPriority\n    );\n    executionContext = prevExecutionContext;\n    flushSyncWorkAcrossRoots_impl(0, !1);\n    if (\n      injectedHook &&\n      \"function\" === typeof injectedHook.onPostCommitFiberRoot\n    )\n      try {\n        injectedHook.onPostCommitFiberRoot(rendererID, root$jscomp$0);\n      } catch (err) {}\n    return !0;\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition),\n      releaseRootPooledCache(root, remainingLanes);\n  }\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 31:\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0), scheduleImmediateRootScheduleTask());\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$170 = firstScheduledRoot; null !== root$170; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$170.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$170.suspendedLanes,\n                pingedLanes = root$170.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326741\n                  ? (JSCompiler_inline_result & 201326741) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$170, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$170,\n                root$170 === workInProgressRoot ? JSCompiler_inline_result : 0,\n                null !== root$170.cancelPendingCommit ||\n                  -1 !== root$170.timeoutHandle\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$170, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$170, JSCompiler_inline_result));\n        root$170 = root$170.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInImmediateTask() {\n  processRootScheduleInMicrotask();\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    shouldAttemptEagerTransition() &&\n    (syncTransitionLanes = currentEventTransitionLane);\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus) ||\n    flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n  0 !== currentEventTransitionLane && (currentEventTransitionLane = 0);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$5 = 31 - clz32(lanes),\n      lane = 1 << index$5,\n      expirationTime = expirationTimes[index$5];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$5] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  if (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus)\n    return (root.callbackNode = null), (root.callbackPriority = 0), null;\n  var originalCallbackNode = root.callbackNode;\n  if (flushPendingEffects() && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPendingEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateRootScheduleTask() {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(\n          ImmediatePriority,\n          processRootScheduleInImmediateTask\n        )\n      : processRootScheduleInMicrotask();\n  });\n}\nfunction requestTransitionLane() {\n  if (0 === currentEventTransitionLane) {\n    var actionScopeLane = currentEntangledLane;\n    0 === actionScopeLane &&\n      ((actionScopeLane = nextTransitionUpdateLane),\n      (nextTransitionUpdateLane <<= 1),\n      0 === (nextTransitionUpdateLane & 261888) &&\n        (nextTransitionUpdateLane = 256));\n    currentEventTransitionLane = actionScopeLane;\n  }\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1577 = 0;\n  i$jscomp$inline_1577 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1577++\n) {\n  var eventName$jscomp$inline_1578 =\n      simpleEventPluginEvents[i$jscomp$inline_1577],\n    domEventName$jscomp$inline_1579 =\n      eventName$jscomp$inline_1578.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1580 =\n      eventName$jscomp$inline_1578[0].toUpperCase() +\n      eventName$jscomp$inline_1578.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1579,\n    \"on\" + capitalizedEvent$jscomp$inline_1580\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (container === targetContainer) break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (\n              (3 === grandTag || 4 === grandTag) &&\n              nodeTag.stateNode.containerInfo === targetContainer\n            )\n              return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = getParent;\n                reactEventName = SyntheticEventCtor;\n                instance = reactEventType;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = inCapturePhase(_instance)\n                )\n                  lastHostComponent++;\n                _instance = 0;\n                for (var tempB = instance; tempB; tempB = inCapturePhase(tempB))\n                  _instance++;\n                for (; 0 < lastHostComponent - _instance; )\n                  (reactEventName = inCapturePhase(reactEventName)),\n                    lastHostComponent--;\n                for (; 0 < _instance - lastHostComponent; )\n                  (instance = inCapturePhase(instance)), _instance--;\n                for (; lastHostComponent--; ) {\n                  if (\n                    reactEventName === instance ||\n                    (null !== instance && reactEventName === instance.alternate)\n                  ) {\n                    inCapturePhase = reactEventName;\n                    break b;\n                  }\n                  reactEventName = inCapturePhase(reactEventName);\n                  instance = inCapturePhase(instance);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    if (3 === targetFiber.tag) return listeners;\n    targetFiber = targetFiber.return;\n  }\n  return [];\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$184 = props[hasSrc];\n          if (null != propValue$184)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$184;\n                break;\n              case \"type\":\n                propValue = propValue$184;\n                break;\n              case \"checked\":\n                checked = propValue$184;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$184;\n                break;\n              case \"value\":\n                propKey = propValue$184;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$184;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$184)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$184, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$184 in props)\n          props.hasOwnProperty(propValue$184) &&\n            ((hasSrc = props[propValue$184]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$184,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$201 in nextProps) {\n        var propKey = nextProps[propKey$201];\n        lastProp = lastProps[propKey$201];\n        if (\n          nextProps.hasOwnProperty(propKey$201) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$201) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$201,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$201 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$201 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$201\n        ? updateOptions(domElement, !!lastProps, propKey$201, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$201 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$201 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$201, propKey);\n      return;\n    case \"option\":\n      for (var propKey$217 in lastProps)\n        if (\n          ((propKey$201 = lastProps[propKey$217]),\n          lastProps.hasOwnProperty(propKey$217) &&\n            null != propKey$201 &&\n            !nextProps.hasOwnProperty(propKey$217))\n        )\n          switch (propKey$217) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$217,\n                null,\n                nextProps,\n                propKey$201\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$201 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$201 !== propKey &&\n            (null != propKey$201 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$201 &&\n                \"function\" !== typeof propKey$201 &&\n                \"symbol\" !== typeof propKey$201;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$201,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$222 in lastProps)\n        (propKey$201 = lastProps[propKey$222]),\n          lastProps.hasOwnProperty(propKey$222) &&\n            null != propKey$201 &&\n            !nextProps.hasOwnProperty(propKey$222) &&\n            setProp(domElement, tag, propKey$222, null, nextProps, propKey$201);\n      for (checked in nextProps)\n        if (\n          ((propKey$201 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$201 !== propKey &&\n            (null != propKey$201 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$201)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$201,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$227 in lastProps)\n          (propKey$201 = lastProps[propKey$227]),\n            lastProps.hasOwnProperty(propKey$227) &&\n              void 0 !== propKey$201 &&\n              !nextProps.hasOwnProperty(propKey$227) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$227,\n                void 0,\n                nextProps,\n                propKey$201\n              );\n        for (defaultChecked in nextProps)\n          (propKey$201 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$201 === propKey ||\n              (void 0 === propKey$201 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$201,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$232 in lastProps)\n    (propKey$201 = lastProps[propKey$232]),\n      lastProps.hasOwnProperty(propKey$232) &&\n        null != propKey$201 &&\n        !nextProps.hasOwnProperty(propKey$232) &&\n        setProp(domElement, tag, propKey$232, null, nextProps, propKey$201);\n  for (lastProp in nextProps)\n    (propKey$201 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$201 === propKey ||\n        (null == propKey$201 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$201, nextProps, propKey);\n}\nfunction isLikelyStaticResource(initiatorType) {\n  switch (initiatorType) {\n    case \"css\":\n    case \"script\":\n    case \"font\":\n    case \"img\":\n    case \"image\":\n    case \"input\":\n    case \"link\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction estimateBandwidth() {\n  if (\"function\" === typeof performance.getEntriesByType) {\n    for (\n      var count = 0,\n        bits = 0,\n        resourceEntries = performance.getEntriesByType(\"resource\"),\n        i = 0;\n      i < resourceEntries.length;\n      i++\n    ) {\n      var entry = resourceEntries[i],\n        transferSize = entry.transferSize,\n        initiatorType = entry.initiatorType,\n        duration = entry.duration;\n      if (transferSize && duration && isLikelyStaticResource(initiatorType)) {\n        initiatorType = 0;\n        duration = entry.responseEnd;\n        for (i += 1; i < resourceEntries.length; i++) {\n          var overlapEntry = resourceEntries[i],\n            overlapStartTime = overlapEntry.startTime;\n          if (overlapStartTime > duration) break;\n          var overlapTransferSize = overlapEntry.transferSize,\n            overlapInitiatorType = overlapEntry.initiatorType;\n          overlapTransferSize &&\n            isLikelyStaticResource(overlapInitiatorType) &&\n            ((overlapEntry = overlapEntry.responseEnd),\n            (initiatorType +=\n              overlapTransferSize *\n              (overlapEntry < duration\n                ? 1\n                : (duration - overlapStartTime) /\n                  (overlapEntry - overlapStartTime))));\n        }\n        --i;\n        bits += (8 * (transferSize + initiatorType)) / (entry.duration / 1e3);\n        count++;\n        if (10 < count) break;\n      }\n    }\n    if (0 < count) return bits / count / 1e6;\n  }\n  return navigator.connection &&\n    ((count = navigator.connection.downlink), \"number\" === typeof count)\n    ? count\n    : 5;\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction isSingletonScope(type) {\n  return \"head\" === type;\n}\nfunction clearHydrationBoundary(parentInstance, hydrationInstance) {\n  var node = hydrationInstance,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node || \"/&\" === node)) {\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(hydrationInstance);\n          return;\n        }\n        depth--;\n      } else if (\n        \"$\" === node ||\n        \"$?\" === node ||\n        \"$~\" === node ||\n        \"$!\" === node ||\n        \"&\" === node\n      )\n        depth++;\n      else if (\"html\" === node)\n        releaseSingletonInstance(parentInstance.ownerDocument.documentElement);\n      else if (\"head\" === node) {\n        node = parentInstance.ownerDocument.head;\n        releaseSingletonInstance(node);\n        for (var node$jscomp$0 = node.firstChild; node$jscomp$0; ) {\n          var nextNode$jscomp$0 = node$jscomp$0.nextSibling,\n            nodeName = node$jscomp$0.nodeName;\n          node$jscomp$0[internalHoistableMarker] ||\n            \"SCRIPT\" === nodeName ||\n            \"STYLE\" === nodeName ||\n            (\"LINK\" === nodeName &&\n              \"stylesheet\" === node$jscomp$0.rel.toLowerCase()) ||\n            node.removeChild(node$jscomp$0);\n          node$jscomp$0 = nextNode$jscomp$0;\n        }\n      } else\n        \"body\" === node &&\n          releaseSingletonInstance(parentInstance.ownerDocument.body);\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(hydrationInstance);\n}\nfunction hideOrUnhideDehydratedBoundary(suspenseInstance, isHidden) {\n  var node = suspenseInstance;\n  suspenseInstance = 0;\n  do {\n    var nextNode = node.nextSibling;\n    1 === node.nodeType\n      ? isHidden\n        ? ((node._stashedDisplay = node.style.display),\n          (node.style.display = \"none\"))\n        : ((node.style.display = node._stashedDisplay || \"\"),\n          \"\" === node.getAttribute(\"style\") && node.removeAttribute(\"style\"))\n      : 3 === node.nodeType &&\n        (isHidden\n          ? ((node._stashedText = node.nodeValue), (node.nodeValue = \"\"))\n          : (node.nodeValue = node._stashedText || \"\"));\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node))\n        if (0 === suspenseInstance) break;\n        else suspenseInstance--;\n      else\n        (\"$\" !== node && \"$?\" !== node && \"$~\" !== node && \"$!\" !== node) ||\n          suspenseInstance++;\n    node = nextNode;\n  } while (node);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href || \"\" === anyProps.href\n                ? null\n                : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction canHydrateHydrationBoundary(instance, inRootOrSingleton) {\n  for (; 8 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction isSuspenseInstancePending(instance) {\n  return \"$?\" === instance.data || \"$~\" === instance.data;\n}\nfunction isSuspenseInstanceFallback(instance) {\n  return (\n    \"$!\" === instance.data ||\n    (\"$?\" === instance.data && \"loading\" !== instance.ownerDocument.readyState)\n  );\n}\nfunction registerSuspenseInstanceRetry(instance, callback) {\n  var ownerDocument = instance.ownerDocument;\n  if (\"$~\" === instance.data) instance._reactRetry = callback;\n  else if (\"$?\" !== instance.data || \"loading\" !== ownerDocument.readyState)\n    callback();\n  else {\n    var listener = function () {\n      callback();\n      ownerDocument.removeEventListener(\"DOMContentLoaded\", listener);\n    };\n    ownerDocument.addEventListener(\"DOMContentLoaded\", listener);\n    instance._reactRetry = listener;\n  }\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"$~\" === nodeType ||\n        \"&\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType || \"/&\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nvar previousHydratableOnEnteringScopedSingleton = null;\nfunction getNextHydratableInstanceAfterHydrationBoundary(hydrationInstance) {\n  hydrationInstance = hydrationInstance.nextSibling;\n  for (var depth = 0; hydrationInstance; ) {\n    if (8 === hydrationInstance.nodeType) {\n      var data = hydrationInstance.data;\n      if (\"/$\" === data || \"/&\" === data) {\n        if (0 === depth)\n          return getNextHydratable(hydrationInstance.nextSibling);\n        depth--;\n      } else\n        (\"$\" !== data &&\n          \"$!\" !== data &&\n          \"$?\" !== data &&\n          \"$~\" !== data &&\n          \"&\" !== data) ||\n          depth++;\n    }\n    hydrationInstance = hydrationInstance.nextSibling;\n  }\n  return null;\n}\nfunction getParentHydrationBoundary(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\n        \"$\" === data ||\n        \"$!\" === data ||\n        \"$?\" === data ||\n        \"$~\" === data ||\n        \"&\" === data\n      ) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else (\"/$\" !== data && \"/&\" !== data) || depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nfunction releaseSingletonInstance(instance) {\n  for (var attributes = instance.attributes; attributes.length; )\n    instance.removeAttributeNode(attributes[0]);\n  detachDeletedInstance(instance);\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : 9 === container.nodeType\n      ? container\n      : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$243 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$244 = styles$243.get(type);\n        resource$244 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$244 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$243.set(type, resource$244),\n          (styles$243 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$243._p &&\n            ((resource$244.instance = styles$243),\n            (resource$244.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$243 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$244.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$244;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$249 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$249)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$249),\n            markNodeAsHoistable(instance$249),\n            instance$249\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$249 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$249);\n        var linkInstance = instance$249;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$249, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$249, props.precedence, hoistableRoot);\n        return (resource.instance = instance$249);\n      case \"script\":\n        instance$249 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$249)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$249)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nfunction suspendResource(state, hoistableRoot, resource, props) {\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nvar estimatedBytesWithinLimit = 0;\nfunction waitForCommitToBeReady(state, timeoutOffset) {\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count || 0 < state.imgCount\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4 + timeoutOffset);\n        0 < state.imgBytes &&\n          0 === estimatedBytesWithinLimit &&\n          (estimatedBytesWithinLimit = 62500 * estimateBandwidth());\n        var imgTimer = setTimeout(\n          function () {\n            state.waitingForImages = !1;\n            if (\n              0 === state.count &&\n              (state.stylesheets &&\n                insertSuspendedStylesheets(state, state.stylesheets),\n              state.unsuspend)\n            ) {\n              var unsuspend = state.unsuspend;\n              state.unsuspend = null;\n              unsuspend();\n            }\n          },\n          (state.imgBytes > estimatedBytesWithinLimit ? 50 : 800) +\n            timeoutOffset\n        );\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n          clearTimeout(imgTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count && (0 === this.imgCount || !this.waitingForImages))\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  onDefaultTransitionIndicator,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.pingCache = this.current = this.pendingChildren = null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  formState,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  onDefaultTransitionIndicator\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    onDefaultTransitionIndicator,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag || 31 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nfunction attemptHydrationAtCurrentPriority(fiber) {\n  if (13 === fiber.tag || 31 === fiber.tag) {\n    var lane = requestUpdateLane();\n    lane = getBumpedLaneForHydrationByLane(lane);\n    var root = enqueueConcurrentRenderForLane(fiber, lane);\n    null !== root && scheduleUpdateOnFiber(root, fiber, lane);\n    markRetryLaneIfNotHydrated(fiber, lane);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 31:\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (31 === tag) {\n        targetNode = getActivityInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            attemptHydrationAtCurrentPriority(nearestMounted);\n          });\n          return;\n        }\n      } else if (31 === targetInst) {\n        if (\n          ((targetInst = getActivityInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            attemptHydrationAtCurrentPriority(nearestMounted);\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction defaultOnDefaultTransitionIndicator() {\n  function handleNavigate(event) {\n    event.canIntercept &&\n      \"react-transition\" === event.info &&\n      event.intercept({\n        handler: function () {\n          return new Promise(function (resolve) {\n            return (pendingResolve = resolve);\n          });\n        },\n        focusReset: \"manual\",\n        scroll: \"manual\"\n      });\n  }\n  function handleNavigateComplete() {\n    null !== pendingResolve && (pendingResolve(), (pendingResolve = null));\n    isCancelled || setTimeout(startFakeNavigation, 20);\n  }\n  function startFakeNavigation() {\n    if (!isCancelled && !navigation.transition) {\n      var currentEntry = navigation.currentEntry;\n      currentEntry &&\n        null != currentEntry.url &&\n        navigation.navigate(currentEntry.url, {\n          state: currentEntry.getState(),\n          info: \"react-transition\",\n          history: \"replace\"\n        });\n    }\n  }\n  if (\"object\" === typeof navigation) {\n    var isCancelled = !1,\n      pendingResolve = null;\n    navigation.addEventListener(\"navigate\", handleNavigate);\n    navigation.addEventListener(\"navigatesuccess\", handleNavigateComplete);\n    navigation.addEventListener(\"navigateerror\", handleNavigateComplete);\n    setTimeout(startFakeNavigation, 100);\n    return function () {\n      isCancelled = !0;\n      navigation.removeEventListener(\"navigate\", handleNavigate);\n      navigation.removeEventListener(\"navigatesuccess\", handleNavigateComplete);\n      navigation.removeEventListener(\"navigateerror\", handleNavigateComplete);\n      null !== pendingResolve && (pendingResolve(), (pendingResolve = null));\n    };\n  }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1840 = React.version;\nif (\n  \"19.2.3\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1840\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1840,\n      \"19.2.3\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2347 = {\n  bundleType: 0,\n  version: \"19.2.3\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  reconcilerVersion: \"19.2.3\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2348 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2348.isDisabled &&\n    hook$jscomp$inline_2348.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2348.inject(\n        internals$jscomp$inline_2347\n      )),\n        (injectedHook = hook$jscomp$inline_2348);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    null,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    defaultOnDefaultTransitionIndicator\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    formState,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    defaultOnDefaultTransitionIndicator\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  isStrictMode = getBumpedLaneForHydrationByLane(isStrictMode);\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  options = isStrictMode;\n  initialChildren.current.lanes = options;\n  markRootUpdated$1(initialChildren, options);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.2.3\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/sable/\";","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","/**\n * react-router v7.12.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n\n// lib/router/history.ts\nvar Action = /* @__PURE__ */ ((Action2) => {\n  Action2[\"Pop\"] = \"POP\";\n  Action2[\"Push\"] = \"PUSH\";\n  Action2[\"Replace\"] = \"REPLACE\";\n  return Action2;\n})(Action || {});\nvar PopStateEventType = \"popstate\";\nfunction createMemoryHistory(options = {}) {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries;\n  entries = initialEntries.map(\n    (entry, index2) => createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index2 === 0 ? \"default\" : void 0\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state = null, key) {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n  function createHref2(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref: createHref2,\n    createURL(to) {\n      return new URL(createHref2(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = \"PUSH\" /* Push */;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = \"REPLACE\" /* Replace */;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = \"POP\" /* Pop */;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\nfunction createBrowserHistory(options = {}) {\n  function createBrowserLocation(window2, globalHistory) {\n    let { pathname, search, hash } = window2.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createBrowserHref(window2, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\nfunction createHashHistory(options = {}) {\n  function createHashLocation(window2, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window2.location.hash.substring(1));\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createHashHref(window2, to) {\n    let base = window2.document.querySelector(\"base\");\n    let href = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window2.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      throw new Error(message);\n    } catch (e) {\n    }\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substring(2, 10);\n}\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\nfunction createLocation(current, to, state = null, key) {\n  let location = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...typeof to === \"string\" ? parsePath(to) : to,\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  };\n  return location;\n}\nfunction createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\"\n}) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substring(hashIndex);\n      path = path.substring(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substring(searchIndex);\n      path = path.substring(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref2, validateLocation, options = {}) {\n  let { window: window2 = document.defaultView, v5Compat = false } = options;\n  let globalHistory = window2.history;\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  let index = getIndex();\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n  function handlePop() {\n    action = \"POP\" /* Pop */;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n  function push(to, state) {\n    action = \"PUSH\" /* Push */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      window2.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n  function replace2(to, state) {\n    action = \"REPLACE\" /* Replace */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n  function createURL(to) {\n    return createBrowserURLImpl(to);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window2, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window2.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window2.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref2(window2, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace: replace2,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\nfunction createBrowserURLImpl(to, isAbsolute = false) {\n  let base = \"http://localhost\";\n  if (typeof window !== \"undefined\") {\n    base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n  }\n  invariant(base, \"No window.location.(origin|href) available to create URL\");\n  let href = typeof to === \"string\" ? to : createPath(to);\n  href = href.replace(/ $/, \"%20\");\n  if (!isAbsolute && href.startsWith(\"//\")) {\n    href = base + href;\n  }\n  return new URL(href, base);\n}\n\n// lib/router/utils.ts\nfunction createContext(defaultValue) {\n  return { defaultValue };\n}\nvar _map;\nvar RouterContextProvider = class {\n  /**\n   * Create a new `RouterContextProvider` instance\n   * @param init An optional initial context map to populate the provider with\n   */\n  constructor(init) {\n    __privateAdd(this, _map, /* @__PURE__ */ new Map());\n    if (init) {\n      for (let [context, value] of init) {\n        this.set(context, value);\n      }\n    }\n  }\n  /**\n   * Access a value from the context. If no value has been set for the context,\n   * it will return the context's `defaultValue` if provided, or throw an error\n   * if no `defaultValue` was set.\n   * @param context The context to get the value for\n   * @returns The value for the context, or the context's `defaultValue` if no\n   * value was set\n   */\n  get(context) {\n    if (__privateGet(this, _map).has(context)) {\n      return __privateGet(this, _map).get(context);\n    }\n    if (context.defaultValue !== void 0) {\n      return context.defaultValue;\n    }\n    throw new Error(\"No value found for context\");\n  }\n  /**\n   * Set a value for the context. If the context already has a value set, this\n   * will overwrite it.\n   *\n   * @param context The context to set the value for\n   * @param value The value to set for the context\n   * @returns {void}\n   */\n  set(context, value) {\n    __privateGet(this, _map).set(context, value);\n  }\n};\n_map = new WeakMap();\nvar unsupportedLazyRouteObjectKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\"\n]);\nfunction isUnsupportedLazyRouteObjectKey(key) {\n  return unsupportedLazyRouteObjectKeys.has(\n    key\n  );\n}\nvar unsupportedLazyRouteFunctionKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"middleware\",\n  \"children\"\n]);\nfunction isUnsupportedLazyRouteFunctionKey(key) {\n  return unsupportedLazyRouteFunctionKeys.has(\n    key\n  );\n}\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties2, parentPath = [], manifest = {}, allowInPlaceMutations = false) {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      allowInPlaceMutations || !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route id's must be globally unique within Data Router usages`\n    );\n    if (isIndexRoute(route)) {\n      let indexRoute = {\n        ...route,\n        id\n      };\n      manifest[id] = mergeRouteUpdates(\n        indexRoute,\n        mapRouteProperties2(indexRoute)\n      );\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = {\n        ...route,\n        id,\n        children: void 0\n      };\n      manifest[id] = mergeRouteUpdates(\n        pathOrLayoutRoute,\n        mapRouteProperties2(pathOrLayoutRoute)\n      );\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties2,\n          treePath,\n          manifest,\n          allowInPlaceMutations\n        );\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\nfunction mergeRouteUpdates(route, updates) {\n  return Object.assign(route, {\n    ...updates,\n    ...typeof updates.lazy === \"object\" && updates.lazy != null ? {\n      lazy: {\n        ...route.lazy,\n        ...updates.lazy\n      }\n    } : {}\n  });\n}\nfunction matchRoutes(routes, locationArg, basename = \"/\") {\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(\n      branches[i],\n      decoded,\n      allowPartial\n    );\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    loaderData: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches = [], parentsMeta = [], parentPath = \"\", _hasParentOptionalSegments = false) {\n  let flattenRoute = (route, index, hasParentOptionalSegments = _hasParentOptionalSegments, relativePath) => {\n    let meta = {\n      relativePath: relativePath === void 0 ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      if (!meta.relativePath.startsWith(parentPath) && hasParentOptionalSegments) {\n        return;\n      }\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path \"${parentPath}\" is not valid. An absolute child route path must start with the combined path of all its parent routes.`\n      );\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove all child routes from route path \"${path}\".`\n      );\n      flattenRoutes(\n        route.children,\n        branches,\n        routesMeta,\n        path,\n        hasParentOptionalSegments\n      );\n    }\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, true, exploded);\n      }\n    }\n  });\n  return branches;\n}\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  let isOptional = first.endsWith(\"?\");\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  result.push(\n    ...restExploded.map(\n      (subpath) => subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  return result.map(\n    (exploded) => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\nfunction rankRouteBranches(branches) {\n  branches.sort(\n    (a, b) => a.score !== b.score ? b.score - a.score : compareIndexes(\n      a.routesMeta.map((meta) => meta.childrenIndex),\n      b.routesMeta.map((meta) => meta.childrenIndex)\n    )\n  );\n}\nvar paramRe = /^:[\\w-]+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\nvar isSplat = (s) => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter((s) => !isSplat(s)).reduce(\n    (score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue),\n    initialScore\n  );\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ? (\n    // If two routes are siblings, we should try to match the earlier sibling\n    // first. This allows people to have fine-grained control over the matching\n    // behavior by simply putting routes with identical paths in the order they\n    // want them tried.\n    a[a.length - 1] - b[b.length - 1]\n  ) : (\n    // Otherwise, it doesn't really make sense to rank non-siblings by index,\n    // so they sort equally.\n    0\n  );\n}\nfunction matchRouteBranch(branch, pathname, allowPartial = false) {\n  let { routesMeta } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath(\n        {\n          path: meta.relativePath,\n          caseSensitive: meta.caseSensitive,\n          end: false\n        },\n        remainingPathname\n      );\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\nfunction generatePath(originalPath, params = {}) {\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify2 = (p) => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      return stringify2(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)(.*)/);\n    if (keyMatch) {\n      const [, key, optional, suffix] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n      return encodeURIComponent(stringify2(param)) + suffix;\n    }\n    return segment.replace(/\\?$/g, \"\");\n  }).filter((segment) => !!segment);\n  return prefix + segments.join(\"/\");\n}\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n  let [matcher, compiledParams] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce(\n    (memo2, { paramName, isOptional }, index) => {\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n      }\n      const value = captureGroups[index];\n      if (isOptional && !value) {\n        memo2[paramName] = void 0;\n      } else {\n        memo2[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n      }\n      return memo2;\n    },\n    {}\n  );\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive = false, end = true) {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\").replace(/^\\/*/, \"/\").replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\").replace(\n    /\\/:([\\w-]+)(\\?)?/g,\n    (_, paramName, isOptional) => {\n      params.push({ paramName, isOptional: isOptional != null });\n      return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n    }\n  ).replace(/\\/([\\w-]+)\\?(\\/|$)/g, \"(/$1)?$2\");\n  if (path.endsWith(\"*\")) {\n    params.push({ paramName: \"*\" });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" : \"(?:\\\\/(.+)|\\\\/*)$\";\n  } else if (end) {\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n  }\n  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map((v) => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${error}).`\n    );\n    return value;\n  }\n}\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\nfunction prependBasename({\n  basename,\n  pathname\n}) {\n  return pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n}\nvar ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar isAbsoluteUrl = (url) => ABSOLUTE_URL_REGEX.test(url);\nfunction resolvePath(to, fromPathname = \"/\") {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname;\n  if (toPathname) {\n    if (isAbsoluteUrl(toPathname)) {\n      pathname = toPathname;\n    } else {\n      if (toPathname.includes(\"//\")) {\n        let oldPathname = toPathname;\n        toPathname = toPathname.replace(/\\/\\/+/g, \"/\");\n        warning(\n          false,\n          `Pathnames cannot have embedded double slashes - normalizing ${oldPathname} -> ${toPathname}`\n        );\n      }\n      if (toPathname.startsWith(\"/\")) {\n        pathname = resolvePathname(toPathname.substring(1), \"/\");\n      } else {\n        pathname = resolvePathname(toPathname, fromPathname);\n      }\n    }\n  } else {\n    pathname = fromPathname;\n  }\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return `Cannot include a '${char}' character in a manually specified \\`to.${field}\\` field [${JSON.stringify(\n    path\n  )}].  Please separate it out to the \\`to.${dest}\\` field. Alternatively you may provide the full path as a string in <Link to=\"...\"> and the router will parse it for you.`;\n}\nfunction getPathContributingMatches(matches) {\n  return matches.filter(\n    (match, index) => index === 0 || match.route.path && match.route.path.length > 0\n  );\n}\nfunction getResolveToMatches(matches) {\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches.map(\n    (match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase\n  );\n}\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative = false) {\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\nvar joinPaths = (paths) => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\nvar normalizePathname = (pathname) => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\nvar normalizeSearch = (search) => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\nvar normalizeHash = (hash) => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\nvar DataWithResponseInit = class {\n  constructor(data2, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data2;\n    this.init = init || null;\n  }\n};\nfunction data(data2, init) {\n  return new DataWithResponseInit(\n    data2,\n    typeof init === \"number\" ? { status: init } : init\n  );\n}\nvar redirect = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, { ...responseInit, headers });\n};\nvar redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\nvar replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\nvar ErrorResponseImpl = class {\n  constructor(status, statusText, data2, internal = false) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data2 instanceof Error) {\n      this.data = data2.toString();\n      this.error = data2;\n    } else {\n      this.data = data2;\n    }\n  }\n};\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\nfunction getRoutePattern(matches) {\n  return matches.map((m) => m.route.path).filter(Boolean).join(\"/\").replace(/\\/\\/*/g, \"/\") || \"/\";\n}\nvar isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nfunction parseToInfo(_to, basename) {\n  let to = _to;\n  if (typeof to !== \"string\" || !ABSOLUTE_URL_REGEX.test(to)) {\n    return {\n      absoluteURL: void 0,\n      isExternal: false,\n      to\n    };\n  }\n  let absoluteURL = to;\n  let isExternal = false;\n  if (isBrowser) {\n    try {\n      let currentUrl = new URL(window.location.href);\n      let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n      let path = stripBasename(targetUrl.pathname, basename);\n      if (targetUrl.origin === currentUrl.origin && path != null) {\n        to = path + targetUrl.search + targetUrl.hash;\n      } else {\n        isExternal = true;\n      }\n    } catch (e) {\n      warning(\n        false,\n        `<Link to=\"${to}\"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`\n      );\n    }\n  }\n  return {\n    absoluteURL,\n    isExternal,\n    to\n  };\n}\n\n// lib/router/instrumentation.ts\nvar UninstrumentedSymbol = Symbol(\"Uninstrumented\");\nfunction getRouteInstrumentationUpdates(fns, route) {\n  let aggregated = {\n    lazy: [],\n    \"lazy.loader\": [],\n    \"lazy.action\": [],\n    \"lazy.middleware\": [],\n    middleware: [],\n    loader: [],\n    action: []\n  };\n  fns.forEach(\n    (fn) => fn({\n      id: route.id,\n      index: route.index,\n      path: route.path,\n      instrument(i) {\n        let keys = Object.keys(aggregated);\n        for (let key of keys) {\n          if (i[key]) {\n            aggregated[key].push(i[key]);\n          }\n        }\n      }\n    })\n  );\n  let updates = {};\n  if (typeof route.lazy === \"function\" && aggregated.lazy.length > 0) {\n    let instrumented = wrapImpl(aggregated.lazy, route.lazy, () => void 0);\n    if (instrumented) {\n      updates.lazy = instrumented;\n    }\n  }\n  if (typeof route.lazy === \"object\") {\n    let lazyObject = route.lazy;\n    [\"middleware\", \"loader\", \"action\"].forEach((key) => {\n      let lazyFn = lazyObject[key];\n      let instrumentations = aggregated[`lazy.${key}`];\n      if (typeof lazyFn === \"function\" && instrumentations.length > 0) {\n        let instrumented = wrapImpl(instrumentations, lazyFn, () => void 0);\n        if (instrumented) {\n          updates.lazy = Object.assign(updates.lazy || {}, {\n            [key]: instrumented\n          });\n        }\n      }\n    });\n  }\n  [\"loader\", \"action\"].forEach((key) => {\n    let handler = route[key];\n    if (typeof handler === \"function\" && aggregated[key].length > 0) {\n      let original = handler[UninstrumentedSymbol] ?? handler;\n      let instrumented = wrapImpl(\n        aggregated[key],\n        original,\n        (...args) => getHandlerInfo(args[0])\n      );\n      if (instrumented) {\n        if (key === \"loader\" && original.hydrate === true) {\n          instrumented.hydrate = true;\n        }\n        instrumented[UninstrumentedSymbol] = original;\n        updates[key] = instrumented;\n      }\n    }\n  });\n  if (route.middleware && route.middleware.length > 0 && aggregated.middleware.length > 0) {\n    updates.middleware = route.middleware.map((middleware) => {\n      let original = middleware[UninstrumentedSymbol] ?? middleware;\n      let instrumented = wrapImpl(\n        aggregated.middleware,\n        original,\n        (...args) => getHandlerInfo(args[0])\n      );\n      if (instrumented) {\n        instrumented[UninstrumentedSymbol] = original;\n        return instrumented;\n      }\n      return middleware;\n    });\n  }\n  return updates;\n}\nfunction instrumentClientSideRouter(router, fns) {\n  let aggregated = {\n    navigate: [],\n    fetch: []\n  };\n  fns.forEach(\n    (fn) => fn({\n      instrument(i) {\n        let keys = Object.keys(i);\n        for (let key of keys) {\n          if (i[key]) {\n            aggregated[key].push(i[key]);\n          }\n        }\n      }\n    })\n  );\n  if (aggregated.navigate.length > 0) {\n    let navigate = router.navigate[UninstrumentedSymbol] ?? router.navigate;\n    let instrumentedNavigate = wrapImpl(\n      aggregated.navigate,\n      navigate,\n      (...args) => {\n        let [to, opts] = args;\n        return {\n          to: typeof to === \"number\" || typeof to === \"string\" ? to : to ? createPath(to) : \".\",\n          ...getRouterInfo(router, opts ?? {})\n        };\n      }\n    );\n    if (instrumentedNavigate) {\n      instrumentedNavigate[UninstrumentedSymbol] = navigate;\n      router.navigate = instrumentedNavigate;\n    }\n  }\n  if (aggregated.fetch.length > 0) {\n    let fetch2 = router.fetch[UninstrumentedSymbol] ?? router.fetch;\n    let instrumentedFetch = wrapImpl(aggregated.fetch, fetch2, (...args) => {\n      let [key, , href, opts] = args;\n      return {\n        href: href ?? \".\",\n        fetcherKey: key,\n        ...getRouterInfo(router, opts ?? {})\n      };\n    });\n    if (instrumentedFetch) {\n      instrumentedFetch[UninstrumentedSymbol] = fetch2;\n      router.fetch = instrumentedFetch;\n    }\n  }\n  return router;\n}\nfunction instrumentHandler(handler, fns) {\n  let aggregated = {\n    request: []\n  };\n  fns.forEach(\n    (fn) => fn({\n      instrument(i) {\n        let keys = Object.keys(i);\n        for (let key of keys) {\n          if (i[key]) {\n            aggregated[key].push(i[key]);\n          }\n        }\n      }\n    })\n  );\n  let instrumentedHandler = handler;\n  if (aggregated.request.length > 0) {\n    instrumentedHandler = wrapImpl(aggregated.request, handler, (...args) => {\n      let [request, context] = args;\n      return {\n        request: getReadonlyRequest(request),\n        context: context != null ? getReadonlyContext(context) : context\n      };\n    });\n  }\n  return instrumentedHandler;\n}\nfunction wrapImpl(impls, handler, getInfo) {\n  if (impls.length === 0) {\n    return null;\n  }\n  return async (...args) => {\n    let result = await recurseRight(\n      impls,\n      getInfo(...args),\n      () => handler(...args),\n      impls.length - 1\n    );\n    if (result.type === \"error\") {\n      throw result.value;\n    }\n    return result.value;\n  };\n}\nasync function recurseRight(impls, info, handler, index) {\n  let impl = impls[index];\n  let result;\n  if (!impl) {\n    try {\n      let value = await handler();\n      result = { type: \"success\", value };\n    } catch (e) {\n      result = { type: \"error\", value: e };\n    }\n  } else {\n    let handlerPromise = void 0;\n    let callHandler = async () => {\n      if (handlerPromise) {\n        console.error(\"You cannot call instrumented handlers more than once\");\n      } else {\n        handlerPromise = recurseRight(impls, info, handler, index - 1);\n      }\n      result = await handlerPromise;\n      invariant(result, \"Expected a result\");\n      if (result.type === \"error\" && result.value instanceof Error) {\n        return { status: \"error\", error: result.value };\n      }\n      return { status: \"success\", error: void 0 };\n    };\n    try {\n      await impl(callHandler, info);\n    } catch (e) {\n      console.error(\"An instrumentation function threw an error:\", e);\n    }\n    if (!handlerPromise) {\n      await callHandler();\n    }\n    await handlerPromise;\n  }\n  if (result) {\n    return result;\n  }\n  return {\n    type: \"error\",\n    value: new Error(\"No result assigned in instrumentation chain.\")\n  };\n}\nfunction getHandlerInfo(args) {\n  let { request, context, params, unstable_pattern } = args;\n  return {\n    request: getReadonlyRequest(request),\n    params: { ...params },\n    unstable_pattern,\n    context: getReadonlyContext(context)\n  };\n}\nfunction getRouterInfo(router, opts) {\n  return {\n    currentUrl: createPath(router.state.location),\n    ...\"formMethod\" in opts ? { formMethod: opts.formMethod } : {},\n    ...\"formEncType\" in opts ? { formEncType: opts.formEncType } : {},\n    ...\"formData\" in opts ? { formData: opts.formData } : {},\n    ...\"body\" in opts ? { body: opts.body } : {}\n  };\n}\nfunction getReadonlyRequest(request) {\n  return {\n    method: request.method,\n    url: request.url,\n    headers: {\n      get: (...args) => request.headers.get(...args)\n    }\n  };\n}\nfunction getReadonlyContext(context) {\n  if (isPlainObject(context)) {\n    let frozen = { ...context };\n    Object.freeze(frozen);\n    return frozen;\n  } else {\n    return {\n      get: (ctx) => context.get(ctx)\n    };\n  }\n}\nvar objectProtoNames = Object.getOwnPropertyNames(Object.prototype).sort().join(\"\\0\");\nfunction isPlainObject(thing) {\n  if (thing === null || typeof thing !== \"object\") {\n    return false;\n  }\n  const proto = Object.getPrototypeOf(thing);\n  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join(\"\\0\") === objectProtoNames;\n}\n\n// lib/router/router.ts\nvar validMutationMethodsArr = [\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\"\n];\nvar validMutationMethods = new Set(\n  validMutationMethodsArr\n);\nvar validRequestMethodsArr = [\n  \"GET\",\n  ...validMutationMethodsArr\n];\nvar validRequestMethods = new Set(validRequestMethodsArr);\nvar redirectStatusCodes = /* @__PURE__ */ new Set([301, 302, 303, 307, 308]);\nvar redirectPreserveMethodStatusCodes = /* @__PURE__ */ new Set([307, 308]);\nvar IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_FETCHER = {\n  state: \"idle\",\n  data: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: void 0,\n  reset: void 0,\n  location: void 0\n};\nvar defaultMapRouteProperties = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nvar TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\nvar ResetLoaderDataSymbol = Symbol(\"ResetLoaderData\");\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : void 0;\n  const isBrowser3 = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n  let hydrationRouteProperties2 = init.hydrationRouteProperties || [];\n  let _mapRouteProperties = init.mapRouteProperties || defaultMapRouteProperties;\n  let mapRouteProperties2 = _mapRouteProperties;\n  if (init.unstable_instrumentations) {\n    let instrumentations = init.unstable_instrumentations;\n    mapRouteProperties2 = (route) => {\n      return {\n        ..._mapRouteProperties(route),\n        ...getRouteInstrumentationUpdates(\n          instrumentations.map((i) => i.route).filter(Boolean),\n          route\n        )\n      };\n    };\n  }\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  if (!basename.startsWith(\"/\")) {\n    basename = `/${basename}`;\n  }\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategyWithMiddleware;\n  let future = {\n    ...init.future\n  };\n  let unlistenHistory = null;\n  let subscribers = /* @__PURE__ */ new Set();\n  let savedScrollPositions2 = null;\n  let getScrollRestorationKey2 = null;\n  let getScrollPosition = null;\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialMatchesIsFOW = false;\n  let initialErrors = null;\n  let initialized;\n  if (initialMatches == null && !init.patchRoutesOnNavigation) {\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialized = true;\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  } else {\n    if (initialMatches && !init.hydrationData) {\n      let fogOfWar = checkFogOfWar(\n        initialMatches,\n        dataRoutes,\n        init.history.location.pathname\n      );\n      if (fogOfWar.active) {\n        initialMatches = null;\n      }\n    }\n    if (!initialMatches) {\n      initialized = false;\n      initialMatches = [];\n      let fogOfWar = checkFogOfWar(\n        null,\n        dataRoutes,\n        init.history.location.pathname\n      );\n      if (fogOfWar.active && fogOfWar.matches) {\n        initialMatchesIsFOW = true;\n        initialMatches = fogOfWar.matches;\n      }\n    } else if (initialMatches.some((m) => m.route.lazy)) {\n      initialized = false;\n    } else if (!initialMatches.some((m) => routeHasLoaderOrMiddleware(m.route))) {\n      initialized = true;\n    } else {\n      let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n      let errors = init.hydrationData ? init.hydrationData.errors : null;\n      if (errors) {\n        let idx = initialMatches.findIndex(\n          (m) => errors[m.route.id] !== void 0\n        );\n        initialized = initialMatches.slice(0, idx + 1).every(\n          (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n        );\n      } else {\n        initialized = initialMatches.every(\n          (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n        );\n      }\n    }\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: /* @__PURE__ */ new Map(),\n    blockers: /* @__PURE__ */ new Map()\n  };\n  let pendingAction = \"POP\" /* Pop */;\n  let pendingPopstateNavigationDfd = null;\n  let pendingPreventScrollReset = false;\n  let pendingNavigationController;\n  let pendingViewTransitionEnabled = false;\n  let appliedViewTransitions = /* @__PURE__ */ new Map();\n  let removePageHideEventListener = null;\n  let isUninterruptedRevalidation = false;\n  let isRevalidationRequired = false;\n  let cancelledFetcherLoads = /* @__PURE__ */ new Set();\n  let fetchControllers = /* @__PURE__ */ new Map();\n  let incrementingLoadId = 0;\n  let pendingNavigationLoadId = -1;\n  let fetchReloadIds = /* @__PURE__ */ new Map();\n  let fetchRedirectIds = /* @__PURE__ */ new Set();\n  let fetchLoadMatches = /* @__PURE__ */ new Map();\n  let activeFetchers = /* @__PURE__ */ new Map();\n  let fetchersQueuedForDeletion = /* @__PURE__ */ new Set();\n  let blockerFunctions = /* @__PURE__ */ new Map();\n  let unblockBlockerHistoryUpdate = void 0;\n  let pendingRevalidationDfd = null;\n  function initialize() {\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        if (unblockBlockerHistoryUpdate) {\n          unblockBlockerHistoryUpdate();\n          unblockBlockerHistoryUpdate = void 0;\n          return;\n        }\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.\"\n        );\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction\n        });\n        if (blockerKey && delta != null) {\n          let nextHistoryUpdatePromise = new Promise((resolve) => {\n            unblockBlockerHistoryUpdate = resolve;\n          });\n          init.history.go(delta * -1);\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey, {\n                state: \"proceeding\",\n                proceed: void 0,\n                reset: void 0,\n                location\n              });\n              nextHistoryUpdatePromise.then(() => init.history.go(delta));\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey, IDLE_BLOCKER);\n              updateState({ blockers });\n            }\n          });\n          pendingPopstateNavigationDfd?.resolve();\n          pendingPopstateNavigationDfd = null;\n          return;\n        }\n        return startNavigation(historyAction, location);\n      }\n    );\n    if (isBrowser3) {\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    if (!state.initialized) {\n      startNavigation(\"POP\" /* Pop */, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  function updateState(newState, opts = {}) {\n    if (newState.matches) {\n      newState.matches = newState.matches.map((m) => {\n        let route = manifest[m.route.id];\n        let matchRoute = m.route;\n        if (matchRoute.element !== route.element || matchRoute.errorElement !== route.errorElement || matchRoute.hydrateFallbackElement !== route.hydrateFallbackElement) {\n          return {\n            ...m,\n            route\n          };\n        }\n        return m;\n      });\n    }\n    state = {\n      ...state,\n      ...newState\n    };\n    let unmountedFetchers = [];\n    let mountedFetchers = [];\n    state.fetchers.forEach((fetcher, key) => {\n      if (fetcher.state === \"idle\") {\n        if (fetchersQueuedForDeletion.has(key)) {\n          unmountedFetchers.push(key);\n        } else {\n          mountedFetchers.push(key);\n        }\n      }\n    });\n    fetchersQueuedForDeletion.forEach((key) => {\n      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {\n        unmountedFetchers.push(key);\n      }\n    });\n    [...subscribers].forEach(\n      (subscriber) => subscriber(state, {\n        deletedFetchers: unmountedFetchers,\n        newErrors: newState.errors ?? null,\n        viewTransitionOpts: opts.viewTransitionOpts,\n        flushSync: opts.flushSync === true\n      })\n    );\n    unmountedFetchers.forEach((key) => deleteFetcher(key));\n    mountedFetchers.forEach((key) => state.fetchers.delete(key));\n  }\n  function completeNavigation(location, newState, { flushSync } = {}) {\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && location.state?._isRedirect !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      actionData = state.actionData;\n    } else {\n      actionData = null;\n    }\n    let loaderData = newState.loaderData ? mergeLoaderData(\n      state.loaderData,\n      newState.loaderData,\n      newState.matches || [],\n      newState.errors\n    ) : state.loaderData;\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    let restoreScrollPosition = isUninterruptedRevalidation ? false : getSavedScrollPosition(location, newState.matches || state.matches);\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && location.state?._isRedirect !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = void 0;\n    }\n    if (isUninterruptedRevalidation) {\n    } else if (pendingAction === \"POP\" /* Pop */) {\n    } else if (pendingAction === \"PUSH\" /* Push */) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === \"REPLACE\" /* Replace */) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    if (pendingAction === \"POP\" /* Pop */) {\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = /* @__PURE__ */ new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(\n      {\n        ...newState,\n        // matches, errors, fetchers go through as-is\n        actionData,\n        loaderData,\n        historyAction: pendingAction,\n        location,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        revalidation: \"idle\",\n        restoreScrollPosition,\n        preventScrollReset,\n        blockers\n      },\n      {\n        viewTransitionOpts,\n        flushSync: flushSync === true\n      }\n    );\n    pendingAction = \"POP\" /* Pop */;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    pendingPopstateNavigationDfd?.resolve();\n    pendingPopstateNavigationDfd = null;\n    pendingRevalidationDfd?.resolve();\n    pendingRevalidationDfd = null;\n  }\n  async function navigate(to, opts) {\n    pendingPopstateNavigationDfd?.resolve();\n    pendingPopstateNavigationDfd = null;\n    if (typeof to === \"number\") {\n      if (!pendingPopstateNavigationDfd) {\n        pendingPopstateNavigationDfd = createDeferred();\n      }\n      let promise = pendingPopstateNavigationDfd.promise;\n      init.history.go(to);\n      return promise;\n    }\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      false,\n      normalizedPath,\n      opts\n    );\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation)\n    };\n    let userReplace = opts && opts.replace != null ? opts.replace : void 0;\n    let historyAction = \"PUSH\" /* Push */;\n    if (userReplace === true) {\n      historyAction = \"REPLACE\" /* Replace */;\n    } else if (userReplace === false) {\n    } else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      historyAction = \"REPLACE\" /* Replace */;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : void 0;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: void 0,\n            reset: void 0,\n            location: nextLocation\n          });\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({ blockers });\n        }\n      });\n      return;\n    }\n    await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync,\n      callSiteDefaultShouldRevalidate: opts && opts.unstable_defaultShouldRevalidate\n    });\n  }\n  function revalidate() {\n    if (!pendingRevalidationDfd) {\n      pendingRevalidationDfd = createDeferred();\n    }\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n    let promise = pendingRevalidationDfd.promise;\n    if (state.navigation.state === \"submitting\") {\n      return promise;\n    }\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return promise;\n    }\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      {\n        overrideNavigation: state.navigation,\n        // Proxy through any rending view transition\n        enableViewTransition: pendingViewTransitionEnabled === true\n      }\n    );\n    return promise;\n  }\n  async function startNavigation(historyAction, location, opts) {\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = opts?.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ? (\n      // `matchRoutes()` has already been called if we're in here via `router.initialize()`\n      state.matches\n    ) : matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, { matches }, { flushSync });\n      return;\n    }\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      let { error, notFoundMatches, route } = handleNavigational404(\n        location.pathname\n      );\n      completeNavigation(\n        location,\n        {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        },\n        { flushSync }\n      );\n      return;\n    }\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let scopedContext = init.getContext ? await init.getContext() : new RouterContextProvider();\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      pendingActionResult = [\n        findNearestBoundary(matches).route.id,\n        { type: \"error\" /* error */, error: opts.pendingError }\n      ];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      let actionResult = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        opts && opts.initialHydration === true,\n        { replace: opts.replace, flushSync }\n      );\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      fogOfWar.active = false;\n      request = createClientSideRequest(\n        init.history,\n        request.url,\n        request.signal\n      );\n    }\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(\n      request,\n      location,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      opts && opts.initialHydration === true,\n      flushSync,\n      pendingActionResult,\n      opts && opts.callSiteDefaultShouldRevalidate\n    );\n    if (shortCircuited) {\n      return;\n    }\n    pendingNavigationController = null;\n    completeNavigation(location, {\n      matches: updatedMatches || matches,\n      ...getActionDataForCommit(pendingActionResult),\n      loaderData,\n      errors\n    });\n  }\n  async function handleAction(request, location, submission, matches, scopedContext, isFogOfWar, initialHydration, opts = {}) {\n    interruptActiveLoads();\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation }, { flushSync: opts.flushSync === true });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        if (discoverResult.partialMatches.length === 0) {\n          let { matches: matches2, route } = getShortCircuitMatches(dataRoutes);\n          return {\n            matches: matches2,\n            pendingActionResult: [\n              route.id,\n              {\n                type: \"error\" /* error */,\n                error: discoverResult.error\n              }\n            ]\n          };\n        }\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [\n            boundaryId,\n            {\n              type: \"error\" /* error */,\n              error: discoverResult.error\n            }\n          ]\n        };\n      } else if (!discoverResult.matches) {\n        let { notFoundMatches, error, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [\n            route.id,\n            {\n              type: \"error\" /* error */,\n              error\n            }\n          ]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: \"error\" /* error */,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        actionMatch,\n        initialHydration ? [] : hydrationRouteProperties2,\n        scopedContext\n      );\n      let results = await callDataStrategy(\n        request,\n        dsMatches,\n        scopedContext,\n        null\n      );\n      result = results[actionMatch.route.id];\n      if (!result) {\n        for (let match of matches) {\n          if (results[match.route.id]) {\n            result = results[match.route.id];\n            break;\n          }\n        }\n      }\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace2;\n      if (opts && opts.replace != null) {\n        replace2 = opts.replace;\n      } else {\n        let location2 = normalizeRedirectLocation(\n          result.response.headers.get(\"Location\"),\n          new URL(request.url),\n          basename,\n          init.history\n        );\n        replace2 = location2 === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      if ((opts && opts.replace) !== true) {\n        pendingAction = \"PUSH\" /* Push */;\n      }\n      return {\n        matches,\n        pendingActionResult: [\n          boundaryMatch.route.id,\n          result,\n          actionMatch.route.id\n        ]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  async function handleLoaders(request, location, matches, scopedContext, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync, pendingActionResult, callSiteDefaultShouldRevalidate) {\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && !initialHydration;\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(\n          {\n            navigation: loadingNavigation,\n            ...actionData !== void 0 ? { actionData } : {}\n          },\n          {\n            flushSync\n          }\n        );\n      }\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        if (discoverResult.partialMatches.length === 0) {\n          let { matches: matches2, route } = getShortCircuitMatches(dataRoutes);\n          return {\n            matches: matches2,\n            loaderData: {},\n            errors: {\n              [route.id]: discoverResult.error\n            }\n          };\n        }\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let { error, notFoundMatches, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(\n      request,\n      scopedContext,\n      mapRouteProperties2,\n      manifest,\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      initialHydration ? [] : hydrationRouteProperties2,\n      initialHydration === true,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      init.patchRoutesOnNavigation != null,\n      pendingActionResult,\n      callSiteDefaultShouldRevalidate\n    );\n    pendingNavigationLoadId = ++incrementingLoadId;\n    if (!init.dataStrategy && !dsMatches.some((m) => m.shouldLoad) && !dsMatches.some(\n      (m) => m.route.middleware && m.route.middleware.length > 0\n    ) && revalidatingFetchers.length === 0) {\n      let updatedFetchers2 = markFetchRedirectsDone();\n      completeNavigation(\n        location,\n        {\n          matches,\n          loaderData: {},\n          // Commit pending error if we're short circuiting\n          errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? { [pendingActionResult[0]]: pendingActionResult[1].error } : null,\n          ...getActionDataForCommit(pendingActionResult),\n          ...updatedFetchers2 ? { fetchers: new Map(state.fetchers) } : {}\n        },\n        { flushSync }\n      );\n      return { shortCircuited: true };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== void 0) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, { flushSync });\n    }\n    revalidatingFetchers.forEach((rf) => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      dsMatches,\n      revalidatingFetchers,\n      request,\n      scopedContext\n    );\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      pendingActionResult,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (initialHydration && state.errors) {\n      errors = { ...state.errors, ...errors };\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return {\n      matches,\n      loaderData,\n      errors,\n      ...shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}\n    };\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach((rf) => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        fetcher ? fetcher.data : void 0\n      );\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  async function fetch2(key, routeId, href, opts) {\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      href,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath }),\n        { flushSync }\n      );\n      return;\n    }\n    let { path, submission, error } = normalizeNavigateOptions(\n      true,\n      normalizedPath,\n      opts\n    );\n    if (error) {\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    let scopedContext = init.getContext ? await init.getContext() : new RouterContextProvider();\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      await handleFetcherAction(\n        key,\n        routeId,\n        path,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        flushSync,\n        preventScrollReset,\n        submission,\n        opts && opts.unstable_defaultShouldRevalidate\n      );\n      return;\n    }\n    fetchLoadMatches.set(key, { routeId, path });\n    await handleFetcherLoader(\n      key,\n      routeId,\n      path,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      flushSync,\n      preventScrollReset,\n      submission\n    );\n  }\n  async function handleFetcherAction(key, routeId, path, requestMatches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission, callSiteDefaultShouldRevalidate) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        requestMatches,\n        new URL(fetchRequest.url).pathname,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n      }\n    }\n    let match = getTargetMatch(requestMatches, path);\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId\n      });\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let fetchMatches = getTargetedDataStrategyMatches(\n      mapRouteProperties2,\n      manifest,\n      fetchRequest,\n      requestMatches,\n      match,\n      hydrationRouteProperties2,\n      scopedContext\n    );\n    let actionResults = await callDataStrategy(\n      fetchRequest,\n      fetchMatches,\n      scopedContext,\n      key\n    );\n    let actionResult = actionResults[match.route.id];\n    if (!actionResult) {\n      for (let match2 of fetchMatches) {\n        if (actionResults[match2.route.id]) {\n          actionResult = actionResults[match2.route.id];\n          break;\n        }\n      }\n    }\n    if (fetchRequest.signal.aborted) {\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      }\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          updateFetcherState(key, getDoneFetcher(void 0));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(\n      revalidationRequest,\n      scopedContext,\n      mapRouteProperties2,\n      manifest,\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      hydrationRouteProperties2,\n      false,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      init.patchRoutesOnNavigation != null,\n      [match.route.id, actionResult],\n      callSiteDefaultShouldRevalidate\n    );\n    revalidatingFetchers.filter((rf) => rf.key !== key).forEach((rf) => {\n      let staleKey = rf.key;\n      let existingFetcher2 = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        existingFetcher2 ? existingFetcher2.data : void 0\n      );\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({ fetchers: new Map(state.fetchers) });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      dsMatches,\n      revalidatingFetchers,\n      revalidationRequest,\n      scopedContext\n    );\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      void 0,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    abortStaleFetchLoads(loadId);\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  async function handleFetcherLoader(key, routeId, path, matches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(\n      key,\n      getLoadingFetcher(\n        submission,\n        existingFetcher ? existingFetcher.data : void 0\n      ),\n      { flushSync }\n    );\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        new URL(fetchRequest.url).pathname,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let match = getTargetMatch(matches, path);\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let dsMatches = getTargetedDataStrategyMatches(\n      mapRouteProperties2,\n      manifest,\n      fetchRequest,\n      matches,\n      match,\n      hydrationRouteProperties2,\n      scopedContext\n    );\n    let results = await callDataStrategy(\n      fetchRequest,\n      dsMatches,\n      scopedContext,\n      key\n    );\n    let result = results[match.route.id];\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      updateFetcherState(key, getDoneFetcher(void 0));\n      return;\n    }\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  async function startRedirectNavigation(request, redirect2, isNavigation, {\n    submission,\n    fetcherSubmission,\n    preventScrollReset,\n    replace: replace2\n  } = {}) {\n    if (!isNavigation) {\n      pendingPopstateNavigationDfd?.resolve();\n      pendingPopstateNavigationDfd = null;\n    }\n    if (redirect2.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect2.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(\n      location,\n      new URL(request.url),\n      basename,\n      init.history\n    );\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser3) {\n      let isDocumentReload = false;\n      if (redirect2.response.headers.has(\"X-Remix-Reload-Document\")) {\n        isDocumentReload = true;\n      } else if (isAbsoluteUrl(location)) {\n        const url = createBrowserURLImpl(location, true);\n        isDocumentReload = // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin || // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace2) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    pendingNavigationController = null;\n    let redirectNavigationType = replace2 === true || redirect2.response.headers.has(\"X-Remix-Replace\") ? \"REPLACE\" /* Replace */ : \"PUSH\" /* Push */;\n    let { formMethod, formAction, formEncType } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect2.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: location\n        },\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    } else {\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        submission\n      );\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    }\n  }\n  async function callDataStrategy(request, matches, scopedContext, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(\n        dataStrategyImpl,\n        request,\n        matches,\n        fetcherKey,\n        scopedContext,\n        false\n      );\n    } catch (e) {\n      matches.filter((m) => m.shouldLoad).forEach((m) => {\n        dataResults[m.route.id] = {\n          type: \"error\" /* error */,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    if (request.signal.aborted) {\n      return dataResults;\n    }\n    if (!isMutationMethod(request.method)) {\n      for (let match of matches) {\n        if (results[match.route.id]?.type === \"error\" /* error */) {\n          break;\n        }\n        if (!results.hasOwnProperty(match.route.id) && !state.loaderData.hasOwnProperty(match.route.id) && (!state.errors || !state.errors.hasOwnProperty(match.route.id)) && match.shouldCallHandler()) {\n          results[match.route.id] = {\n            type: \"error\" /* error */,\n            result: new Error(\n              `No result returned from dataStrategy for route ${match.route.id}`\n            )\n          };\n        }\n      }\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: \"redirect\" /* redirect */,\n          response: normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            routeId,\n            matches,\n            basename\n          )\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(result);\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(matches, fetchersToLoad, request, scopedContext) {\n    let loaderResultsPromise = callDataStrategy(\n      request,\n      matches,\n      scopedContext,\n      null\n    );\n    let fetcherResultsPromise = Promise.all(\n      fetchersToLoad.map(async (f) => {\n        if (f.matches && f.match && f.request && f.controller) {\n          let results = await callDataStrategy(\n            f.request,\n            f.matches,\n            scopedContext,\n            f.key\n          );\n          let result = results[f.match.route.id];\n          return { [f.key]: result };\n        } else {\n          return Promise.resolve({\n            [f.key]: {\n              type: \"error\" /* error */,\n              error: getInternalRouterError(404, {\n                pathname: f.path\n              })\n            }\n          });\n        }\n      })\n    );\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce(\n      (acc, r) => Object.assign(acc, r),\n      {}\n    );\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    isRevalidationRequired = true;\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts = {}) {\n    state.fetchers.set(key, fetcher);\n    updateState(\n      { fetchers: new Map(state.fetchers) },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function setFetcherError(key, routeId, error, opts = {}) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState(\n      {\n        errors: {\n          [boundaryMatch.route.id]: error\n        },\n        fetchers: new Map(state.fetchers)\n      },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function getFetcher(key) {\n    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n    if (fetchersQueuedForDeletion.has(key)) {\n      fetchersQueuedForDeletion.delete(key);\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function resetFetcher(key, opts) {\n    abortFetcher(key, opts?.reason);\n    updateFetcherState(key, getDoneFetcher(null));\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    fetchersQueuedForDeletion.delete(key);\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function queueFetcherForDeletion(key) {\n    let count = (activeFetchers.get(key) || 0) - 1;\n    if (count <= 0) {\n      activeFetchers.delete(key);\n      fetchersQueuedForDeletion.add(key);\n    } else {\n      activeFetchers.set(key, count);\n    }\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n  function abortFetcher(key, reason) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort(reason);\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    invariant(\n      blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\",\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction\n  }) {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      return;\n    }\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, { pathname });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { matches, route } = getShortCircuitMatches(routesToUse);\n    return { notFoundMatches: matches, route, error };\n  }\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions2 = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey2 = getKey || null;\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n    return () => {\n      savedScrollPositions2 = null;\n      getScrollPosition = null;\n      getScrollRestorationKey2 = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey2) {\n      let key = getScrollRestorationKey2(\n        location,\n        matches.map((m) => convertRouteMatchToUiMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions2 && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions2[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions2) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions2[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (init.patchRoutesOnNavigation) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(\n          routesToUse,\n          pathname,\n          basename,\n          true\n        );\n        return { active: true, matches: fogMatches || [] };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          let partialMatches = matchRoutesImpl(\n            routesToUse,\n            pathname,\n            basename,\n            true\n          );\n          return { active: true, matches: partialMatches };\n        }\n      }\n    }\n    return { active: false, matches: null };\n  }\n  async function discoverRoutes(matches, pathname, signal, fetcherKey) {\n    if (!init.patchRoutesOnNavigation) {\n      return { type: \"success\", matches };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await init.patchRoutesOnNavigation({\n          signal,\n          path: pathname,\n          matches: partialMatches,\n          fetcherKey,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(\n              routeId,\n              children,\n              routesToUse,\n              localManifest,\n              mapRouteProperties2,\n              false\n            );\n          }\n        });\n      } catch (e) {\n        return { type: \"error\", error: e, partialMatches };\n      } finally {\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return { type: \"aborted\" };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      let newPartialMatches = null;\n      if (newMatches) {\n        if (Object.keys(newMatches[0].params).length === 0) {\n          return { type: \"success\", matches: newMatches };\n        } else {\n          newPartialMatches = matchRoutesImpl(\n            routesToUse,\n            pathname,\n            basename,\n            true\n          );\n          let matchedDeeper = newPartialMatches && partialMatches.length < newPartialMatches.length && compareMatches(\n            partialMatches,\n            newPartialMatches.slice(0, partialMatches.length)\n          );\n          if (!matchedDeeper) {\n            return { type: \"success\", matches: newMatches };\n          }\n        }\n      }\n      if (!newPartialMatches) {\n        newPartialMatches = matchRoutesImpl(\n          routesToUse,\n          pathname,\n          basename,\n          true\n        );\n      }\n      if (!newPartialMatches || compareMatches(partialMatches, newPartialMatches)) {\n        return { type: \"success\", matches: null };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function compareMatches(a, b) {\n    return a.length === b.length && a.every((m, i) => m.route.id === b[i].route.id);\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties2,\n      void 0,\n      manifest\n    );\n  }\n  function patchRoutes(routeId, children, unstable_allowElementMutations = false) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(\n      routeId,\n      children,\n      routesToUse,\n      manifest,\n      mapRouteProperties2,\n      unstable_allowElementMutations\n    );\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch: fetch2,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to) => init.history.createHref(to),\n    encodeLocation: (to) => init.history.encodeLocation(to),\n    getFetcher,\n    resetFetcher,\n    deleteFetcher: queueFetcherForDeletion,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes,\n    _internalSetStateDoNotUseOrYouWillBreakYourApp(newState) {\n      updateState(newState);\n    }\n  };\n  if (init.unstable_instrumentations) {\n    router = instrumentClientSideRouter(\n      router,\n      init.unstable_instrumentations.map((i) => i.router).filter(Boolean)\n    );\n  }\n  return router;\n}\nfunction createStaticHandler(routes, opts) {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let _mapRouteProperties = opts?.mapRouteProperties || defaultMapRouteProperties;\n  let mapRouteProperties2 = _mapRouteProperties;\n  if (opts?.unstable_instrumentations) {\n    let instrumentations = opts.unstable_instrumentations;\n    mapRouteProperties2 = (route) => {\n      return {\n        ..._mapRouteProperties(route),\n        ...getRouteInstrumentationUpdates(\n          instrumentations.map((i) => i.route).filter(Boolean),\n          route\n        )\n      };\n    };\n  }\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  async function query(request, {\n    requestContext,\n    filterMatchesToLoad,\n    skipLoaderErrorBubbling,\n    skipRevalidation,\n    dataStrategy,\n    generateMiddlewareResponse\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return generateMiddlewareResponse ? generateMiddlewareResponse(() => Promise.resolve(staticContext)) : staticContext;\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return generateMiddlewareResponse ? generateMiddlewareResponse(() => Promise.resolve(staticContext)) : staticContext;\n    }\n    if (generateMiddlewareResponse) {\n      invariant(\n        requestContext instanceof RouterContextProvider,\n        \"When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `RouterContextProvider`\"\n      );\n      try {\n        await loadLazyMiddlewareForMatches(\n          matches,\n          manifest,\n          mapRouteProperties2\n        );\n        let renderedStaticContext;\n        let response = await runServerMiddlewarePipeline(\n          {\n            request,\n            unstable_pattern: getRoutePattern(matches),\n            matches,\n            params: matches[0].params,\n            // If we're calling middleware then it must be enabled so we can cast\n            // this to the proper type knowing it's not an `AppLoadContext`\n            context: requestContext\n          },\n          async () => {\n            let res = await generateMiddlewareResponse(\n              async (revalidationRequest, opts2 = {}) => {\n                let result2 = await queryImpl(\n                  revalidationRequest,\n                  location,\n                  matches,\n                  requestContext,\n                  dataStrategy || null,\n                  skipLoaderErrorBubbling === true,\n                  null,\n                  \"filterMatchesToLoad\" in opts2 ? opts2.filterMatchesToLoad ?? null : filterMatchesToLoad ?? null,\n                  skipRevalidation === true\n                );\n                if (isResponse(result2)) {\n                  return result2;\n                }\n                renderedStaticContext = { location, basename, ...result2 };\n                return renderedStaticContext;\n              }\n            );\n            return res;\n          },\n          async (error, routeId) => {\n            if (isRedirectResponse(error)) {\n              return error;\n            }\n            if (isResponse(error)) {\n              try {\n                error = new ErrorResponseImpl(\n                  error.status,\n                  error.statusText,\n                  await parseResponseBody(error)\n                );\n              } catch (e) {\n                error = e;\n              }\n            }\n            if (isDataWithResponseInit(error)) {\n              error = dataWithResponseInitToErrorResponse(error);\n            }\n            if (renderedStaticContext) {\n              if (routeId in renderedStaticContext.loaderData) {\n                renderedStaticContext.loaderData[routeId] = void 0;\n              }\n              let staticContext = getStaticContextFromError(\n                dataRoutes,\n                renderedStaticContext,\n                error,\n                skipLoaderErrorBubbling ? routeId : findNearestBoundary(matches, routeId).route.id\n              );\n              return generateMiddlewareResponse(\n                () => Promise.resolve(staticContext)\n              );\n            } else {\n              let boundaryRouteId = skipLoaderErrorBubbling ? routeId : findNearestBoundary(\n                matches,\n                matches.find(\n                  (m) => m.route.id === routeId || m.route.loader\n                )?.route.id || routeId\n              ).route.id;\n              let staticContext = {\n                matches,\n                location,\n                basename,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                  [boundaryRouteId]: error\n                },\n                statusCode: isRouteErrorResponse(error) ? error.status : 500,\n                actionHeaders: {},\n                loaderHeaders: {}\n              };\n              return generateMiddlewareResponse(\n                () => Promise.resolve(staticContext)\n              );\n            }\n          }\n        );\n        invariant(isResponse(response), \"Expected a response in query()\");\n        return response;\n      } catch (e) {\n        if (isResponse(e)) {\n          return e;\n        }\n        throw e;\n      }\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      skipLoaderErrorBubbling === true,\n      null,\n      filterMatchesToLoad || null,\n      skipRevalidation === true\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    return { location, basename, ...result };\n  }\n  async function queryRoute(request, {\n    routeId,\n    requestContext,\n    dataStrategy,\n    generateMiddlewareResponse\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    let match = routeId ? matches.find((m) => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    if (generateMiddlewareResponse) {\n      invariant(\n        requestContext instanceof RouterContextProvider,\n        \"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `RouterContextProvider`\"\n      );\n      await loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2);\n      let response = await runServerMiddlewarePipeline(\n        {\n          request,\n          unstable_pattern: getRoutePattern(matches),\n          matches,\n          params: matches[0].params,\n          // If we're calling middleware then it must be enabled so we can cast\n          // this to the proper type knowing it's not an `AppLoadContext`\n          context: requestContext\n        },\n        async () => {\n          let res = await generateMiddlewareResponse(\n            async (innerRequest) => {\n              let result2 = await queryImpl(\n                innerRequest,\n                location,\n                matches,\n                requestContext,\n                dataStrategy || null,\n                false,\n                match,\n                null,\n                false\n              );\n              let processed = handleQueryResult(result2);\n              return isResponse(processed) ? processed : typeof processed === \"string\" ? new Response(processed) : Response.json(processed);\n            }\n          );\n          return res;\n        },\n        (error) => {\n          if (isDataWithResponseInit(error)) {\n            return Promise.resolve(dataWithResponseInitToResponse(error));\n          }\n          if (isResponse(error)) {\n            return Promise.resolve(error);\n          }\n          throw error;\n        }\n      );\n      return response;\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      false,\n      match,\n      null,\n      false\n    );\n    return handleQueryResult(result);\n    function handleQueryResult(result2) {\n      if (isResponse(result2)) {\n        return result2;\n      }\n      let error = result2.errors ? Object.values(result2.errors)[0] : void 0;\n      if (error !== void 0) {\n        throw error;\n      }\n      if (result2.actionData) {\n        return Object.values(result2.actionData)[0];\n      }\n      if (result2.loaderData) {\n        return Object.values(result2.loaderData)[0];\n      }\n      return void 0;\n    }\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, skipRevalidation) {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n    try {\n      if (isMutationMethod(request.method)) {\n        let result2 = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          dataStrategy,\n          skipLoaderErrorBubbling,\n          routeMatch != null,\n          filterMatchesToLoad,\n          skipRevalidation\n        );\n        return result2;\n      }\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        routeMatch,\n        filterMatchesToLoad\n      );\n      return isResponse(result) ? result : {\n        ...result,\n        actionData: null,\n        actionHeaders: {}\n      };\n    } catch (e) {\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === \"error\" /* error */) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest, filterMatchesToLoad, skipRevalidation) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: \"error\" /* error */,\n        error\n      };\n    } else {\n      let dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        actionMatch,\n        [],\n        requestContext\n      );\n      let results = await callDataStrategy(\n        request,\n        dsMatches,\n        isRouteRequest,\n        requestContext,\n        dataStrategy\n      );\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest);\n      }\n    }\n    if (isRedirectResult(result)) {\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isRouteRequest) {\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n    }\n    if (skipRevalidation) {\n      if (isErrorResult(result)) {\n        let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n        return {\n          statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n          actionData: null,\n          actionHeaders: {\n            ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n          },\n          matches,\n          loaderData: {},\n          errors: {\n            [boundaryMatch.route.id]: result.error\n          },\n          loaderHeaders: {}\n        };\n      } else {\n        return {\n          actionData: {\n            [actionMatch.route.id]: result.data\n          },\n          actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {},\n          matches,\n          loaderData: {},\n          errors: null,\n          statusCode: result.statusCode || 200,\n          loaderHeaders: {}\n        };\n      }\n    }\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let handlerContext2 = await loadRouteData(\n        loaderRequest,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        null,\n        filterMatchesToLoad,\n        [boundaryMatch.route.id, result]\n      );\n      return {\n        ...handlerContext2,\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: {\n          ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n        }\n      };\n    }\n    let handlerContext = await loadRouteData(\n      loaderRequest,\n      matches,\n      requestContext,\n      dataStrategy,\n      skipLoaderErrorBubbling,\n      null,\n      filterMatchesToLoad\n    );\n    return {\n      ...handlerContext,\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      // action status codes take precedence over loader status codes\n      ...result.statusCode ? { statusCode: result.statusCode } : {},\n      actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {}\n    };\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    if (isRouteRequest && !routeMatch?.route.loader && !routeMatch?.route.lazy) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id\n      });\n    }\n    let dsMatches;\n    if (routeMatch) {\n      dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        routeMatch,\n        [],\n        requestContext\n      );\n    } else {\n      let maxIdx = pendingActionResult && isErrorResult(pendingActionResult[1]) ? (\n        // Up to but not including the boundary\n        matches.findIndex((m) => m.route.id === pendingActionResult[0]) - 1\n      ) : void 0;\n      let pattern = getRoutePattern(matches);\n      dsMatches = matches.map((match, index) => {\n        if (maxIdx != null && index > maxIdx) {\n          return getDataStrategyMatch(\n            mapRouteProperties2,\n            manifest,\n            request,\n            pattern,\n            match,\n            [],\n            requestContext,\n            false\n          );\n        }\n        return getDataStrategyMatch(\n          mapRouteProperties2,\n          manifest,\n          request,\n          pattern,\n          match,\n          [],\n          requestContext,\n          (match.route.loader || match.route.lazy) != null && (!filterMatchesToLoad || filterMatchesToLoad(match))\n        );\n      });\n    }\n    if (!dataStrategy && !dsMatches.some((m) => m.shouldLoad)) {\n      return {\n        matches,\n        loaderData: {},\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {}\n      };\n    }\n    let results = await callDataStrategy(\n      request,\n      dsMatches,\n      isRouteRequest,\n      requestContext,\n      dataStrategy\n    );\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest);\n    }\n    let handlerContext = processRouteLoaderData(\n      matches,\n      results,\n      pendingActionResult,\n      true,\n      skipLoaderErrorBubbling\n    );\n    return {\n      ...handlerContext,\n      matches\n    };\n  }\n  async function callDataStrategy(request, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(\n      dataStrategy || defaultDataStrategy,\n      request,\n      matches,\n      null,\n      requestContext,\n      true\n    );\n    let dataResults = {};\n    await Promise.all(\n      matches.map(async (match) => {\n        if (!(match.route.id in results)) {\n          return;\n        }\n        let result = results[match.route.id];\n        if (isRedirectDataStrategyResult(result)) {\n          let response = result.result;\n          throw normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            match.route.id,\n            matches,\n            basename\n          );\n        }\n        if (isRouteRequest) {\n          if (isResponse(result.result)) {\n            throw result;\n          } else if (isDataWithResponseInit(result.result)) {\n            throw dataWithResponseInitToResponse(result.result);\n          }\n        }\n        dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n      })\n    );\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\nfunction getStaticContextFromError(routes, handlerContext, error, boundaryId) {\n  let errorBoundaryId = boundaryId || handlerContext._deepestRenderedBoundaryId || routes[0].id;\n  return {\n    ...handlerContext,\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [errorBoundaryId]: error\n    }\n  };\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest) {\n  if (request.signal.reason !== void 0) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(\n    `${method}() call aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n  );\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== void 0);\n}\nfunction normalizeTo(location, matches, basename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  let path = resolveTo(\n    to ? to : \".\",\n    getResolveToMatches(contextualMatches),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if (basename !== \"/\") {\n    path.pathname = prependBasename({ basename, pathname: path.pathname });\n  }\n  return createPath(path);\n}\nfunction normalizeNavigateOptions(isFetcher, path, opts) {\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" })\n  });\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = rawFormMethod.toUpperCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== void 0) {\n    if (opts.formEncType === \"text/plain\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? (\n        // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n        Array.from(opts.body.entries()).reduce(\n          (acc, [name, value]) => `${acc}${name}=${value}\n`,\n          \"\"\n        )\n      ) : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: void 0,\n          json: void 0,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: void 0,\n            json,\n            text: void 0\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: void 0,\n    text: void 0\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n  let parsedPath = parsePath(path);\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n  return { path: createPath(parsedPath), submission };\n}\nfunction getMatchesToLoad(request, scopedContext, mapRouteProperties2, manifest, history, state, matches, submission, location, lazyRoutePropertiesToSkip, initialHydration, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, hasPatchRoutesOnNavigation, pendingActionResult, callSiteDefaultShouldRevalidate) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : void 0;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  let maxIdx;\n  if (initialHydration && state.errors) {\n    let boundaryId = Object.keys(state.errors)[0];\n    maxIdx = matches.findIndex((m) => m.route.id === boundaryId);\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    let boundaryId = pendingActionResult[0];\n    maxIdx = matches.findIndex((m) => m.route.id === boundaryId) - 1;\n  }\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : void 0;\n  let shouldSkipRevalidation = actionStatus && actionStatus >= 400;\n  let baseShouldRevalidateArgs = {\n    currentUrl,\n    currentParams: state.matches[0]?.params || {},\n    nextUrl,\n    nextParams: matches[0].params,\n    ...submission,\n    actionResult,\n    actionStatus\n  };\n  let pattern = getRoutePattern(matches);\n  let dsMatches = matches.map((match, index) => {\n    let { route } = match;\n    let forceShouldLoad = null;\n    if (maxIdx != null && index > maxIdx) {\n      forceShouldLoad = false;\n    } else if (route.lazy) {\n      forceShouldLoad = true;\n    } else if (!routeHasLoaderOrMiddleware(route)) {\n      forceShouldLoad = false;\n    } else if (initialHydration) {\n      forceShouldLoad = shouldLoadRouteOnHydration(\n        route,\n        state.loaderData,\n        state.errors\n      );\n    } else if (isNewLoader(state.loaderData, state.matches[index], match)) {\n      forceShouldLoad = true;\n    }\n    if (forceShouldLoad !== null) {\n      return getDataStrategyMatch(\n        mapRouteProperties2,\n        manifest,\n        request,\n        pattern,\n        match,\n        lazyRoutePropertiesToSkip,\n        scopedContext,\n        forceShouldLoad\n      );\n    }\n    let defaultShouldRevalidate = false;\n    if (typeof callSiteDefaultShouldRevalidate === \"boolean\") {\n      defaultShouldRevalidate = callSiteDefaultShouldRevalidate;\n    } else if (shouldSkipRevalidation) {\n      defaultShouldRevalidate = false;\n    } else if (isRevalidationRequired) {\n      defaultShouldRevalidate = true;\n    } else if (currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search) {\n      defaultShouldRevalidate = true;\n    } else if (currentUrl.search !== nextUrl.search) {\n      defaultShouldRevalidate = true;\n    } else if (isNewRouteInstance(state.matches[index], match)) {\n      defaultShouldRevalidate = true;\n    }\n    let shouldRevalidateArgs = {\n      ...baseShouldRevalidateArgs,\n      defaultShouldRevalidate\n    };\n    let shouldLoad = shouldRevalidateLoader(match, shouldRevalidateArgs);\n    return getDataStrategyMatch(\n      mapRouteProperties2,\n      manifest,\n      request,\n      pattern,\n      match,\n      lazyRoutePropertiesToSkip,\n      scopedContext,\n      shouldLoad,\n      shouldRevalidateArgs,\n      callSiteDefaultShouldRevalidate\n    );\n  });\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    if (initialHydration || !matches.some((m) => m.route.id === f.routeId) || fetchersQueuedForDeletion.has(key)) {\n      return;\n    }\n    let fetcher = state.fetchers.get(key);\n    let isMidInitialLoad = fetcher && fetcher.state !== \"idle\" && fetcher.data === void 0;\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    if (!fetcherMatches) {\n      if (hasPatchRoutesOnNavigation && isMidInitialLoad) {\n        return;\n      }\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        request: null,\n        controller: null\n      });\n      return;\n    }\n    if (fetchRedirectIds.has(key)) {\n      return;\n    }\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let fetchController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      history,\n      f.path,\n      fetchController.signal\n    );\n    let fetcherDsMatches = null;\n    if (cancelledFetcherLoads.has(key)) {\n      cancelledFetcherLoads.delete(key);\n      fetcherDsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        fetchRequest,\n        fetcherMatches,\n        fetcherMatch,\n        lazyRoutePropertiesToSkip,\n        scopedContext\n      );\n    } else if (isMidInitialLoad) {\n      if (isRevalidationRequired) {\n        fetcherDsMatches = getTargetedDataStrategyMatches(\n          mapRouteProperties2,\n          manifest,\n          fetchRequest,\n          fetcherMatches,\n          fetcherMatch,\n          lazyRoutePropertiesToSkip,\n          scopedContext\n        );\n      }\n    } else {\n      let defaultShouldRevalidate;\n      if (typeof callSiteDefaultShouldRevalidate === \"boolean\") {\n        defaultShouldRevalidate = callSiteDefaultShouldRevalidate;\n      } else if (shouldSkipRevalidation) {\n        defaultShouldRevalidate = false;\n      } else {\n        defaultShouldRevalidate = isRevalidationRequired;\n      }\n      let shouldRevalidateArgs = {\n        ...baseShouldRevalidateArgs,\n        defaultShouldRevalidate\n      };\n      if (shouldRevalidateLoader(fetcherMatch, shouldRevalidateArgs)) {\n        fetcherDsMatches = getTargetedDataStrategyMatches(\n          mapRouteProperties2,\n          manifest,\n          fetchRequest,\n          fetcherMatches,\n          fetcherMatch,\n          lazyRoutePropertiesToSkip,\n          scopedContext,\n          shouldRevalidateArgs\n        );\n      }\n    }\n    if (fetcherDsMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherDsMatches,\n        match: fetcherMatch,\n        request: fetchRequest,\n        controller: fetchController\n      });\n    }\n  });\n  return { dsMatches, revalidatingFetchers };\n}\nfunction routeHasLoaderOrMiddleware(route) {\n  return route.loader != null || route.middleware != null && route.middleware.length > 0;\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  if (route.lazy) {\n    return true;\n  }\n  if (!routeHasLoaderOrMiddleware(route)) {\n    return false;\n  }\n  let hasData = loaderData != null && route.id in loaderData;\n  let hasError = errors != null && errors[route.id] !== void 0;\n  if (!hasData && hasError) {\n    return false;\n  }\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew = (\n    // [a] -> [a, b]\n    !currentMatch || // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id\n  );\n  let isMissingData = !currentLoaderData.hasOwnProperty(match.route.id);\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname || // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2, allowElementMutations) {\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(\n      route,\n      `No route found to patch children into: routeId = ${routeId}`\n    );\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  let uniqueChildren = [];\n  let existingChildren = [];\n  children.forEach((newRoute) => {\n    let existingRoute = childrenToPatch.find(\n      (existingRoute2) => isSameRoute(newRoute, existingRoute2)\n    );\n    if (existingRoute) {\n      existingChildren.push({ existingRoute, newRoute });\n    } else {\n      uniqueChildren.push(newRoute);\n    }\n  });\n  if (uniqueChildren.length > 0) {\n    let newRoutes = convertRoutesToDataRoutes(\n      uniqueChildren,\n      mapRouteProperties2,\n      [routeId || \"_\", \"patch\", String(childrenToPatch?.length || \"0\")],\n      manifest\n    );\n    childrenToPatch.push(...newRoutes);\n  }\n  if (allowElementMutations && existingChildren.length > 0) {\n    for (let i = 0; i < existingChildren.length; i++) {\n      let { existingRoute, newRoute } = existingChildren[i];\n      let existingRouteTyped = existingRoute;\n      let [newRouteTyped] = convertRoutesToDataRoutes(\n        [newRoute],\n        mapRouteProperties2,\n        [],\n        // Doesn't matter for mutated routes since they already have an id\n        {},\n        // Don't touch the manifest here since we're updating in place\n        true\n      );\n      Object.assign(existingRouteTyped, {\n        element: newRouteTyped.element ? newRouteTyped.element : existingRouteTyped.element,\n        errorElement: newRouteTyped.errorElement ? newRouteTyped.errorElement : existingRouteTyped.errorElement,\n        hydrateFallbackElement: newRouteTyped.hydrateFallbackElement ? newRouteTyped.hydrateFallbackElement : existingRouteTyped.hydrateFallbackElement\n      });\n    }\n  }\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  return newRoute.children.every(\n    (aChild, i) => existingRoute.children?.some((bChild) => isSameRoute(aChild, bChild))\n  );\n}\nvar lazyRoutePropertyCache = /* @__PURE__ */ new WeakMap();\nvar loadLazyRouteProperty = ({\n  key,\n  route,\n  manifest,\n  mapRouteProperties: mapRouteProperties2\n}) => {\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  if (!routeToUpdate.lazy || typeof routeToUpdate.lazy !== \"object\") {\n    return;\n  }\n  let lazyFn = routeToUpdate.lazy[key];\n  if (!lazyFn) {\n    return;\n  }\n  let cache = lazyRoutePropertyCache.get(routeToUpdate);\n  if (!cache) {\n    cache = {};\n    lazyRoutePropertyCache.set(routeToUpdate, cache);\n  }\n  let cachedPromise = cache[key];\n  if (cachedPromise) {\n    return cachedPromise;\n  }\n  let propertyPromise = (async () => {\n    let isUnsupported = isUnsupportedLazyRouteObjectKey(key);\n    let staticRouteValue = routeToUpdate[key];\n    let isStaticallyDefined = staticRouteValue !== void 0 && key !== \"hasErrorBoundary\";\n    if (isUnsupported) {\n      warning(\n        !isUnsupported,\n        \"Route property \" + key + \" is not a supported lazy route property. This property will be ignored.\"\n      );\n      cache[key] = Promise.resolve();\n    } else if (isStaticallyDefined) {\n      warning(\n        false,\n        `Route \"${routeToUpdate.id}\" has a static property \"${key}\" defined. The lazy property will be ignored.`\n      );\n    } else {\n      let value = await lazyFn();\n      if (value != null) {\n        Object.assign(routeToUpdate, { [key]: value });\n        Object.assign(routeToUpdate, mapRouteProperties2(routeToUpdate));\n      }\n    }\n    if (typeof routeToUpdate.lazy === \"object\") {\n      routeToUpdate.lazy[key] = void 0;\n      if (Object.values(routeToUpdate.lazy).every((value) => value === void 0)) {\n        routeToUpdate.lazy = void 0;\n      }\n    }\n  })();\n  cache[key] = propertyPromise;\n  return propertyPromise;\n};\nvar lazyRouteFunctionCache = /* @__PURE__ */ new WeakMap();\nfunction loadLazyRoute(route, type, manifest, mapRouteProperties2, lazyRoutePropertiesToSkip) {\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  if (!route.lazy) {\n    return {\n      lazyRoutePromise: void 0,\n      lazyHandlerPromise: void 0\n    };\n  }\n  if (typeof route.lazy === \"function\") {\n    let cachedPromise = lazyRouteFunctionCache.get(routeToUpdate);\n    if (cachedPromise) {\n      return {\n        lazyRoutePromise: cachedPromise,\n        lazyHandlerPromise: cachedPromise\n      };\n    }\n    let lazyRoutePromise2 = (async () => {\n      invariant(\n        typeof route.lazy === \"function\",\n        \"No lazy route function found\"\n      );\n      let lazyRoute = await route.lazy();\n      let routeUpdates = {};\n      for (let lazyRouteProperty in lazyRoute) {\n        let lazyValue = lazyRoute[lazyRouteProperty];\n        if (lazyValue === void 0) {\n          continue;\n        }\n        let isUnsupported = isUnsupportedLazyRouteFunctionKey(lazyRouteProperty);\n        let staticRouteValue = routeToUpdate[lazyRouteProperty];\n        let isStaticallyDefined = staticRouteValue !== void 0 && // This property isn't static since it should always be updated based\n        // on the route updates\n        lazyRouteProperty !== \"hasErrorBoundary\";\n        if (isUnsupported) {\n          warning(\n            !isUnsupported,\n            \"Route property \" + lazyRouteProperty + \" is not a supported property to be returned from a lazy route function. This property will be ignored.\"\n          );\n        } else if (isStaticallyDefined) {\n          warning(\n            !isStaticallyDefined,\n            `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" defined but its lazy function is also returning a value for this property. The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n          );\n        } else {\n          routeUpdates[lazyRouteProperty] = lazyValue;\n        }\n      }\n      Object.assign(routeToUpdate, routeUpdates);\n      Object.assign(routeToUpdate, {\n        // To keep things framework agnostic, we use the provided `mapRouteProperties`\n        // function to set the framework-aware properties (`element`/`hasErrorBoundary`)\n        // since the logic will differ between frameworks.\n        ...mapRouteProperties2(routeToUpdate),\n        lazy: void 0\n      });\n    })();\n    lazyRouteFunctionCache.set(routeToUpdate, lazyRoutePromise2);\n    lazyRoutePromise2.catch(() => {\n    });\n    return {\n      lazyRoutePromise: lazyRoutePromise2,\n      lazyHandlerPromise: lazyRoutePromise2\n    };\n  }\n  let lazyKeys = Object.keys(route.lazy);\n  let lazyPropertyPromises = [];\n  let lazyHandlerPromise = void 0;\n  for (let key of lazyKeys) {\n    if (lazyRoutePropertiesToSkip && lazyRoutePropertiesToSkip.includes(key)) {\n      continue;\n    }\n    let promise = loadLazyRouteProperty({\n      key,\n      route,\n      manifest,\n      mapRouteProperties: mapRouteProperties2\n    });\n    if (promise) {\n      lazyPropertyPromises.push(promise);\n      if (key === type) {\n        lazyHandlerPromise = promise;\n      }\n    }\n  }\n  let lazyRoutePromise = lazyPropertyPromises.length > 0 ? Promise.all(lazyPropertyPromises).then(() => {\n  }) : void 0;\n  lazyRoutePromise?.catch(() => {\n  });\n  lazyHandlerPromise?.catch(() => {\n  });\n  return {\n    lazyRoutePromise,\n    lazyHandlerPromise\n  };\n}\nfunction isNonNullable(value) {\n  return value !== void 0;\n}\nfunction loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2) {\n  let promises = matches.map(({ route }) => {\n    if (typeof route.lazy !== \"object\" || !route.lazy.middleware) {\n      return void 0;\n    }\n    return loadLazyRouteProperty({\n      key: \"middleware\",\n      route,\n      manifest,\n      mapRouteProperties: mapRouteProperties2\n    });\n  }).filter(isNonNullable);\n  return promises.length > 0 ? Promise.all(promises) : void 0;\n}\nasync function defaultDataStrategy(args) {\n  let matchesToLoad = args.matches.filter((m) => m.shouldLoad);\n  let keyedResults = {};\n  let results = await Promise.all(matchesToLoad.map((m) => m.resolve()));\n  results.forEach((result, i) => {\n    keyedResults[matchesToLoad[i].route.id] = result;\n  });\n  return keyedResults;\n}\nasync function defaultDataStrategyWithMiddleware(args) {\n  if (!args.matches.some((m) => m.route.middleware)) {\n    return defaultDataStrategy(args);\n  }\n  return runClientMiddlewarePipeline(args, () => defaultDataStrategy(args));\n}\nfunction runServerMiddlewarePipeline(args, handler, errorHandler) {\n  return runMiddlewarePipeline(\n    args,\n    handler,\n    processResult,\n    isResponse,\n    errorHandler\n  );\n  function processResult(result) {\n    return isDataWithResponseInit(result) ? dataWithResponseInitToResponse(result) : result;\n  }\n}\nfunction runClientMiddlewarePipeline(args, handler) {\n  return runMiddlewarePipeline(\n    args,\n    handler,\n    (r) => {\n      if (isRedirectResponse(r)) {\n        throw r;\n      }\n      return r;\n    },\n    isDataStrategyResults,\n    errorHandler\n  );\n  function errorHandler(error, routeId, nextResult) {\n    if (nextResult) {\n      return Promise.resolve(\n        Object.assign(nextResult.value, {\n          [routeId]: { type: \"error\", result: error }\n        })\n      );\n    } else {\n      let { matches } = args;\n      let maxBoundaryIdx = Math.min(\n        // Throwing route\n        Math.max(\n          matches.findIndex((m) => m.route.id === routeId),\n          0\n        ),\n        // or the shallowest route that needs to load data\n        Math.max(\n          matches.findIndex((m) => m.shouldCallHandler()),\n          0\n        )\n      );\n      let boundaryRouteId = findNearestBoundary(\n        matches,\n        matches[maxBoundaryIdx].route.id\n      ).route.id;\n      return Promise.resolve({\n        [boundaryRouteId]: { type: \"error\", result: error }\n      });\n    }\n  }\n}\nasync function runMiddlewarePipeline(args, handler, processResult, isResult, errorHandler) {\n  let { matches, request, params, context, unstable_pattern } = args;\n  let tuples = matches.flatMap(\n    (m) => m.route.middleware ? m.route.middleware.map((fn) => [m.route.id, fn]) : []\n  );\n  let result = await callRouteMiddleware(\n    {\n      request,\n      params,\n      context,\n      unstable_pattern\n    },\n    tuples,\n    handler,\n    processResult,\n    isResult,\n    errorHandler\n  );\n  return result;\n}\nasync function callRouteMiddleware(args, middlewares, handler, processResult, isResult, errorHandler, idx = 0) {\n  let { request } = args;\n  if (request.signal.aborted) {\n    throw request.signal.reason ?? new Error(`Request aborted: ${request.method} ${request.url}`);\n  }\n  let tuple = middlewares[idx];\n  if (!tuple) {\n    let result = await handler();\n    return result;\n  }\n  let [routeId, middleware] = tuple;\n  let nextResult;\n  let next = async () => {\n    if (nextResult) {\n      throw new Error(\"You may only call `next()` once per middleware\");\n    }\n    try {\n      let result = await callRouteMiddleware(\n        args,\n        middlewares,\n        handler,\n        processResult,\n        isResult,\n        errorHandler,\n        idx + 1\n      );\n      nextResult = { value: result };\n      return nextResult.value;\n    } catch (error) {\n      nextResult = { value: await errorHandler(error, routeId, nextResult) };\n      return nextResult.value;\n    }\n  };\n  try {\n    let value = await middleware(args, next);\n    let result = value != null ? processResult(value) : void 0;\n    if (isResult(result)) {\n      return result;\n    } else if (nextResult) {\n      return result ?? nextResult.value;\n    } else {\n      nextResult = { value: await next() };\n      return nextResult.value;\n    }\n  } catch (error) {\n    let response = await errorHandler(error, routeId, nextResult);\n    return response;\n  }\n}\nfunction getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip) {\n  let lazyMiddlewarePromise = loadLazyRouteProperty({\n    key: \"middleware\",\n    route: match.route,\n    manifest,\n    mapRouteProperties: mapRouteProperties2\n  });\n  let lazyRoutePromises = loadLazyRoute(\n    match.route,\n    isMutationMethod(request.method) ? \"action\" : \"loader\",\n    manifest,\n    mapRouteProperties2,\n    lazyRoutePropertiesToSkip\n  );\n  return {\n    middleware: lazyMiddlewarePromise,\n    route: lazyRoutePromises.lazyRoutePromise,\n    handler: lazyRoutePromises.lazyHandlerPromise\n  };\n}\nfunction getDataStrategyMatch(mapRouteProperties2, manifest, request, unstable_pattern, match, lazyRoutePropertiesToSkip, scopedContext, shouldLoad, shouldRevalidateArgs = null, callSiteDefaultShouldRevalidate) {\n  let isUsingNewApi = false;\n  let _lazyPromises = getDataStrategyMatchLazyPromises(\n    mapRouteProperties2,\n    manifest,\n    request,\n    match,\n    lazyRoutePropertiesToSkip\n  );\n  return {\n    ...match,\n    _lazyPromises,\n    shouldLoad,\n    shouldRevalidateArgs,\n    shouldCallHandler(defaultShouldRevalidate) {\n      isUsingNewApi = true;\n      if (!shouldRevalidateArgs) {\n        return shouldLoad;\n      }\n      if (typeof callSiteDefaultShouldRevalidate === \"boolean\") {\n        return shouldRevalidateLoader(match, {\n          ...shouldRevalidateArgs,\n          defaultShouldRevalidate: callSiteDefaultShouldRevalidate\n        });\n      }\n      if (typeof defaultShouldRevalidate === \"boolean\") {\n        return shouldRevalidateLoader(match, {\n          ...shouldRevalidateArgs,\n          defaultShouldRevalidate\n        });\n      }\n      return shouldRevalidateLoader(match, shouldRevalidateArgs);\n    },\n    resolve(handlerOverride) {\n      let { lazy, loader, middleware } = match.route;\n      let callHandler = isUsingNewApi || shouldLoad || handlerOverride && !isMutationMethod(request.method) && (lazy || loader);\n      let isMiddlewareOnlyRoute = middleware && middleware.length > 0 && !loader && !lazy;\n      if (callHandler && (isMutationMethod(request.method) || !isMiddlewareOnlyRoute)) {\n        return callLoaderOrAction({\n          request,\n          unstable_pattern,\n          match,\n          lazyHandlerPromise: _lazyPromises?.handler,\n          lazyRoutePromise: _lazyPromises?.route,\n          handlerOverride,\n          scopedContext\n        });\n      }\n      return Promise.resolve({ type: \"data\" /* data */, result: void 0 });\n    }\n  };\n}\nfunction getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, targetMatch, lazyRoutePropertiesToSkip, scopedContext, shouldRevalidateArgs = null) {\n  return matches.map((match) => {\n    if (match.route.id !== targetMatch.route.id) {\n      return {\n        ...match,\n        shouldLoad: false,\n        shouldRevalidateArgs,\n        shouldCallHandler: () => false,\n        _lazyPromises: getDataStrategyMatchLazyPromises(\n          mapRouteProperties2,\n          manifest,\n          request,\n          match,\n          lazyRoutePropertiesToSkip\n        ),\n        resolve: () => Promise.resolve({ type: \"data\", result: void 0 })\n      };\n    }\n    return getDataStrategyMatch(\n      mapRouteProperties2,\n      manifest,\n      request,\n      getRoutePattern(matches),\n      match,\n      lazyRoutePropertiesToSkip,\n      scopedContext,\n      true,\n      shouldRevalidateArgs\n    );\n  });\n}\nasync function callDataStrategyImpl(dataStrategyImpl, request, matches, fetcherKey, scopedContext, isStaticHandler) {\n  if (matches.some((m) => m._lazyPromises?.middleware)) {\n    await Promise.all(matches.map((m) => m._lazyPromises?.middleware));\n  }\n  let dataStrategyArgs = {\n    request,\n    unstable_pattern: getRoutePattern(matches),\n    params: matches[0].params,\n    context: scopedContext,\n    matches\n  };\n  let runClientMiddleware = isStaticHandler ? () => {\n    throw new Error(\n      \"You cannot call `runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`\"\n    );\n  } : (cb) => {\n    let typedDataStrategyArgs = dataStrategyArgs;\n    return runClientMiddlewarePipeline(typedDataStrategyArgs, () => {\n      return cb({\n        ...typedDataStrategyArgs,\n        fetcherKey,\n        runClientMiddleware: () => {\n          throw new Error(\n            \"Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler\"\n          );\n        }\n      });\n    });\n  };\n  let results = await dataStrategyImpl({\n    ...dataStrategyArgs,\n    fetcherKey,\n    runClientMiddleware\n  });\n  try {\n    await Promise.all(\n      matches.flatMap((m) => [\n        m._lazyPromises?.handler,\n        m._lazyPromises?.route\n      ])\n    );\n  } catch (e) {\n  }\n  return results;\n}\nasync function callLoaderOrAction({\n  request,\n  unstable_pattern,\n  match,\n  lazyHandlerPromise,\n  lazyRoutePromise,\n  handlerOverride,\n  scopedContext\n}) {\n  let result;\n  let onReject;\n  let isAction = isMutationMethod(request.method);\n  let type = isAction ? \"action\" : \"loader\";\n  let runHandler = (handler) => {\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = (ctx) => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(\n          new Error(\n            `You cannot call the handler for a route which defines a boolean \"${type}\" [routeId: ${match.route.id}]`\n          )\n        );\n      }\n      return handler(\n        {\n          request,\n          unstable_pattern,\n          params: match.params,\n          context: scopedContext\n        },\n        ...ctx !== void 0 ? [ctx] : []\n      );\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride((ctx) => actualHandler(ctx)) : actualHandler());\n        return { type: \"data\", result: val };\n      } catch (e) {\n        return { type: \"error\", result: e };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = isAction ? match.route.action : match.route.loader;\n    if (lazyHandlerPromise || lazyRoutePromise) {\n      if (handler) {\n        let handlerError;\n        let [value] = await Promise.all([\n          // If the handler throws, don't let it immediately bubble out,\n          // since we need to let the lazy() execution finish so we know if this\n          // route has a boundary that can handle the error\n          runHandler(handler).catch((e) => {\n            handlerError = e;\n          }),\n          // Ensure all lazy route promises are resolved before continuing\n          lazyHandlerPromise,\n          lazyRoutePromise\n        ]);\n        if (handlerError !== void 0) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        await lazyHandlerPromise;\n        let handler2 = isAction ? match.route.action : match.route.loader;\n        if (handler2) {\n          [result] = await Promise.all([runHandler(handler2), lazyRoutePromise]);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          return { type: \"data\" /* data */, result: void 0 };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n  } catch (e) {\n    return { type: \"error\" /* error */, result: e };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function parseResponseBody(response) {\n  let contentType = response.headers.get(\"Content-Type\");\n  if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n    return response.body == null ? null : response.json();\n  }\n  return response.text();\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let { result, type } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data2;\n    try {\n      data2 = await parseResponseBody(result);\n    } catch (e) {\n      return { type: \"error\" /* error */, error: e };\n    }\n    if (type === \"error\" /* error */) {\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(result.status, result.statusText, data2),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: \"data\" /* data */,\n      data: data2,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === \"error\" /* error */) {\n    if (isDataWithResponseInit(result)) {\n      if (result.data instanceof Error) {\n        return {\n          type: \"error\" /* error */,\n          error: result.data,\n          statusCode: result.init?.status,\n          headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n        };\n      }\n      return {\n        type: \"error\" /* error */,\n        error: dataWithResponseInitToErrorResponse(result),\n        statusCode: isRouteErrorResponse(result) ? result.status : void 0,\n        headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n      };\n    }\n    return {\n      type: \"error\" /* error */,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : void 0\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    return {\n      type: \"data\" /* data */,\n      data: result.data,\n      statusCode: result.init?.status,\n      headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n    };\n  }\n  return { type: \"data\" /* data */, data: result };\n}\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename) {\n  let location = response.headers.get(\"Location\");\n  invariant(\n    location,\n    \"Redirects returned/thrown from loaders/actions must have a Location header\"\n  );\n  if (!isAbsoluteUrl(location)) {\n    let trimmedMatches = matches.slice(\n      0,\n      matches.findIndex((m) => m.route.id === routeId) + 1\n    );\n    location = normalizeTo(\n      new URL(request.url),\n      trimmedMatches,\n      basename,\n      location\n    );\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename, historyInstance) {\n  let invalidProtocols = [\n    \"about:\",\n    \"blob:\",\n    \"chrome:\",\n    \"chrome-untrusted:\",\n    \"content:\",\n    \"data:\",\n    \"devtools:\",\n    \"file:\",\n    \"filesystem:\",\n    // eslint-disable-next-line no-script-url\n    \"javascript:\"\n  ];\n  if (isAbsoluteUrl(location)) {\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    if (invalidProtocols.includes(url.protocol)) {\n      throw new Error(\"Invalid redirect location\");\n    }\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  try {\n    let url = historyInstance.createURL(location);\n    if (invalidProtocols.includes(url.protocol)) {\n      throw new Error(\"Invalid redirect location\");\n    }\n  } catch (e) {\n  }\n  return location;\n}\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = { signal };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, isStaticHandler = false, skipLoaderErrorBubbling = false) {\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : void 0;\n  matches.forEach((match) => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      let error = result.error;\n      if (pendingError !== void 0) {\n        error = pendingError;\n        pendingError = void 0;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      if (!isStaticHandler) {\n        loaderData[id] = ResetLoaderDataSymbol;\n      }\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      loaderData[id] = result.data;\n      if (result.statusCode && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  if (pendingError !== void 0 && pendingActionResult) {\n    errors = { [pendingActionResult[0]]: pendingError };\n    if (pendingActionResult[2]) {\n      loaderData[pendingActionResult[2]] = void 0;\n    }\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults) {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    results,\n    pendingActionResult\n  );\n  revalidatingFetchers.filter((f) => !f.matches || f.matches.some((m) => m.shouldLoad)).forEach((rf) => {\n    let { key, match, controller } = rf;\n    if (controller && controller.signal.aborted) {\n      return;\n    }\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return { loaderData, errors };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = Object.entries(newLoaderData).filter(([, v]) => v !== ResetLoaderDataSymbol).reduce((merged, [k, v]) => {\n    merged[k] = v;\n    return merged;\n  }, {});\n  for (let match of matches) {\n    let id = match.route.id;\n    if (!newLoaderData.hasOwnProperty(id) && loaderData.hasOwnProperty(id) && match.route.loader) {\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  let route = routes.length === 1 ? routes[0] : routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`\n  };\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route\n      }\n    ],\n    route\n  };\n}\nfunction getInternalRouterError(status, {\n  pathname,\n  routeId,\n  method,\n  type,\n  message\n} = {}) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method} request to \"${pathname}\" but did not provide a \\`loader\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method.toUpperCase()} request to \"${pathname}\" but did not provide an \\`action\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n  return new ErrorResponseImpl(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return { key, result };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    return true;\n  } else if (b.hash !== \"\") {\n    return true;\n  }\n  return false;\n}\nfunction dataWithResponseInitToResponse(data2) {\n  return Response.json(data2.data, data2.init ?? void 0);\n}\nfunction dataWithResponseInitToErrorResponse(data2) {\n  return new ErrorResponseImpl(\n    data2.init?.status ?? 500,\n    data2.init?.statusText ?? \"Internal Server Error\",\n    data2.data\n  );\n}\nfunction isDataStrategyResults(result) {\n  return result != null && typeof result === \"object\" && Object.entries(result).every(\n    ([key, value]) => typeof key === \"string\" && isDataStrategyResult(value)\n  );\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === \"data\" /* data */ || result.type === \"error\" /* error */);\n}\nfunction isRedirectDataStrategyResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isErrorResult(result) {\n  return result.type === \"error\" /* error */;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === \"redirect\" /* redirect */;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectStatusCode(statusCode) {\n  return redirectStatusCodes.has(statusCode);\n}\nfunction isRedirectResponse(result) {\n  return isResponse(result) && isRedirectStatusCode(result.status) && result.headers.has(\"Location\");\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toUpperCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toUpperCase());\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    return matches[matches.length - 1];\n  }\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let { formMethod, formAction, formEncType, text, formData, json } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json: void 0,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: void 0,\n      text: void 0\n    };\n  } else if (json !== void 0) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json,\n      text: void 0\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data2) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data: data2\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0,\n      data: data2\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : void 0\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data2) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: void 0,\n    formAction: void 0,\n    formEncType: void 0,\n    formData: void 0,\n    json: void 0,\n    text: void 0,\n    data: data2\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(\n      TRANSITIONS_STORAGE_KEY\n    );\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(\n        TRANSITIONS_STORAGE_KEY,\n        JSON.stringify(json)\n      );\n    } catch (error) {\n      warning(\n        false,\n        `Failed to save applied view transitions in sessionStorage (${error}).`\n      );\n    }\n  }\n}\nfunction createDeferred() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/context.ts\nimport * as React from \"react\";\nvar DataRouterContext = React.createContext(null);\nDataRouterContext.displayName = \"DataRouter\";\nvar DataRouterStateContext = React.createContext(null);\nDataRouterStateContext.displayName = \"DataRouterState\";\nvar RSCRouterContext = React.createContext(false);\nfunction useIsRSCRouterContext() {\n  return React.useContext(RSCRouterContext);\n}\nvar ViewTransitionContext = React.createContext({\n  isTransitioning: false\n});\nViewTransitionContext.displayName = \"ViewTransition\";\nvar FetchersContext = React.createContext(\n  /* @__PURE__ */ new Map()\n);\nFetchersContext.displayName = \"Fetchers\";\nvar AwaitContext = React.createContext(null);\nAwaitContext.displayName = \"Await\";\nvar AwaitContextProvider = (props) => React.createElement(AwaitContext.Provider, props);\nvar NavigationContext = React.createContext(\n  null\n);\nNavigationContext.displayName = \"Navigation\";\nvar LocationContext = React.createContext(\n  null\n);\nLocationContext.displayName = \"Location\";\nvar RouteContext = React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nRouteContext.displayName = \"Route\";\nvar RouteErrorContext = React.createContext(null);\nRouteErrorContext.displayName = \"RouteError\";\nvar ENABLE_DEV_WARNINGS = true;\n\n// lib/hooks.tsx\nimport * as React2 from \"react\";\n\n// lib/errors.ts\nvar ERROR_DIGEST_BASE = \"REACT_ROUTER_ERROR\";\nvar ERROR_DIGEST_REDIRECT = \"REDIRECT\";\nvar ERROR_DIGEST_ROUTE_ERROR_RESPONSE = \"ROUTE_ERROR_RESPONSE\";\nfunction decodeRedirectErrorDigest(digest) {\n  if (digest.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_REDIRECT}:{`)) {\n    try {\n      let parsed = JSON.parse(digest.slice(28));\n      if (typeof parsed === \"object\" && parsed && typeof parsed.status === \"number\" && typeof parsed.statusText === \"string\" && typeof parsed.location === \"string\" && typeof parsed.reloadDocument === \"boolean\" && typeof parsed.replace === \"boolean\") {\n        return parsed;\n      }\n    } catch {\n    }\n  }\n}\nfunction decodeRouteErrorResponseDigest(digest) {\n  if (digest.startsWith(\n    `${ERROR_DIGEST_BASE}:${ERROR_DIGEST_ROUTE_ERROR_RESPONSE}:{`\n  )) {\n    try {\n      let parsed = JSON.parse(digest.slice(40));\n      if (typeof parsed === \"object\" && parsed && typeof parsed.status === \"number\" && typeof parsed.statusText === \"string\") {\n        return new ErrorResponseImpl(\n          parsed.status,\n          parsed.statusText,\n          parsed.data\n        );\n      }\n    } catch {\n    }\n  }\n}\n\n// lib/hooks.tsx\nfunction useHref(to, { relative } = {}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n  let { basename, navigator } = React2.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n  let joinedPathname = pathname;\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\nfunction useInRouterContext() {\n  return React2.useContext(LocationContext) != null;\n}\nfunction useLocation() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n  return React2.useContext(LocationContext).location;\n}\nfunction useNavigationType() {\n  return React2.useContext(LocationContext).navigationType;\n}\nfunction useMatch(pattern) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n  let { pathname } = useLocation();\n  return React2.useMemo(\n    () => matchPath(pattern, decodePath(pathname)),\n    [pathname, pattern]\n  );\n}\nvar navigateEffectWarning = `You should call navigate() in a React.useEffect(), not when your component is first rendered.`;\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React2.useContext(NavigationContext).static;\n  if (!isStatic) {\n    React2.useLayoutEffect(cb);\n  }\n}\nfunction useNavigate() {\n  let { isDataRoute } = React2.useContext(RouteContext);\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  let { basename, navigator } = React2.useContext(NavigationContext);\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n      }\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext\n    ]\n  );\n  return navigate;\n}\nvar OutletContext = React2.createContext(null);\nfunction useOutletContext() {\n  return React2.useContext(OutletContext);\n}\nfunction useOutlet(context) {\n  let outlet = React2.useContext(RouteContext).outlet;\n  return React2.useMemo(\n    () => outlet && /* @__PURE__ */ React2.createElement(OutletContext.Provider, { value: context }, outlet),\n    [outlet, context]\n  );\n}\nfunction useParams() {\n  let { matches } = React2.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\nfunction useResolvedPath(to, { relative } = {}) {\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  return React2.useMemo(\n    () => resolveTo(\n      to,\n      JSON.parse(routePathnamesJson),\n      locationPathname,\n      relative === \"path\"\n    ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\nfunction useRoutesImpl(routes, locationArg, dataRouterState, onError, future) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n  let { navigator } = React2.useContext(NavigationContext);\n  let { matches: parentMatches } = React2.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (ENABLE_DEV_WARNINGS) {\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\") || parentPath.endsWith(\"*?\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at \"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the parent route path has no trailing \"*\". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path=\"${parentPath}\"> to <Route path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    invariant(\n      parentPathnameBase === \"/\" || parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n  if (ENABLE_DEV_WARNINGS) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n    warning(\n      matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page.`\n    );\n  }\n  let renderedMatches = _renderMatches(\n    matches && matches.map(\n      (match) => Object.assign({}, match, {\n        params: Object.assign({}, parentParams, match.params),\n        pathname: joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes.\n          // Pre-encode `?` and `#` ahead of `encodeLocation` because it uses\n          // `new URL()` internally and we need to prevent it from treating\n          // them as separators\n          navigator.encodeLocation ? navigator.encodeLocation(\n            match.pathname.replace(/\\?/g, \"%3F\").replace(/#/g, \"%23\")\n          ).pathname : match.pathname\n        ]),\n        pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          // Pre-encode `?` and `#` ahead of `encodeLocation` because it uses\n          // `new URL()` internally and we need to prevent it from treating\n          // them as separators\n          navigator.encodeLocation ? navigator.encodeLocation(\n            match.pathnameBase.replace(/\\?/g, \"%3F\").replace(/#/g, \"%23\")\n          ).pathname : match.pathnameBase\n        ])\n      })\n    ),\n    parentMatches,\n    dataRouterState,\n    onError,\n    future\n  );\n  if (locationArg && renderedMatches) {\n    return /* @__PURE__ */ React2.createElement(\n      LocationContext.Provider,\n      {\n        value: {\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location\n          },\n          navigationType: \"POP\" /* Pop */\n        }\n      },\n      renderedMatches\n    );\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? `${error.status} ${error.statusText}` : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n  let devInfo = null;\n  if (ENABLE_DEV_WARNINGS) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n    devInfo = /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"p\", null, \"\\u{1F4BF} Hey developer \\u{1F44B}\"), /* @__PURE__ */ React2.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"ErrorBoundary\"), \" or\", \" \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"h2\", null, \"Unexpected Application Error!\"), /* @__PURE__ */ React2.createElement(\"h3\", { style: { fontStyle: \"italic\" } }, message), stack ? /* @__PURE__ */ React2.createElement(\"pre\", { style: preStyles }, stack) : null, devInfo);\n}\nvar defaultErrorElement = /* @__PURE__ */ React2.createElement(DefaultErrorComponent, null);\nvar RenderErrorBoundary = class extends React2.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n    return {\n      error: props.error !== void 0 ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    } else {\n      console.error(\n        \"React Router caught the following error during render\",\n        error\n      );\n    }\n  }\n  render() {\n    let error = this.state.error;\n    if (this.context && typeof error === \"object\" && error && \"digest\" in error && typeof error.digest === \"string\") {\n      const decoded = decodeRouteErrorResponseDigest(error.digest);\n      if (decoded) error = decoded;\n    }\n    let result = error !== void 0 ? /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: this.props.routeContext }, /* @__PURE__ */ React2.createElement(\n      RouteErrorContext.Provider,\n      {\n        value: error,\n        children: this.props.component\n      }\n    )) : this.props.children;\n    if (this.context) {\n      return /* @__PURE__ */ React2.createElement(RSCErrorHandler, { error }, result);\n    }\n    return result;\n  }\n};\nRenderErrorBoundary.contextType = RSCRouterContext;\nvar errorRedirectHandledMap = /* @__PURE__ */ new WeakMap();\nfunction RSCErrorHandler({\n  children,\n  error\n}) {\n  let { basename } = React2.useContext(NavigationContext);\n  if (typeof error === \"object\" && error && \"digest\" in error && typeof error.digest === \"string\") {\n    let redirect2 = decodeRedirectErrorDigest(error.digest);\n    if (redirect2) {\n      let existingRedirect = errorRedirectHandledMap.get(error);\n      if (existingRedirect) throw existingRedirect;\n      let parsed = parseToInfo(redirect2.location, basename);\n      if (isBrowser && !errorRedirectHandledMap.get(error)) {\n        if (parsed.isExternal || redirect2.reloadDocument) {\n          window.location.href = parsed.absoluteURL || parsed.to;\n        } else {\n          const redirectPromise = Promise.resolve().then(\n            () => window.__reactRouterDataRouter.navigate(parsed.to, {\n              replace: redirect2.replace\n            })\n          );\n          errorRedirectHandledMap.set(error, redirectPromise);\n          throw redirectPromise;\n        }\n      }\n      return /* @__PURE__ */ React2.createElement(\n        \"meta\",\n        {\n          httpEquiv: \"refresh\",\n          content: `0;url=${parsed.absoluteURL || parsed.to}`\n        }\n      );\n    }\n  }\n  return children;\n}\nfunction RenderedRoute({ routeContext, match, children }) {\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: routeContext }, children);\n}\nfunction _renderMatches(matches, parentMatches = [], dataRouterState = null, onErrorHandler = null, future = null) {\n  if (matches == null) {\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      matches = dataRouterState.matches;\n    } else if (parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id] !== void 0\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let { loaderData, errors: errors2 } = dataRouterState;\n        let needsToRunLoader = match.route.loader && !loaderData.hasOwnProperty(match.route.id) && (!errors2 || errors2[match.route.id] === void 0);\n        if (match.route.lazy || needsToRunLoader) {\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  let onError = dataRouterState && onErrorHandler ? (error, errorInfo) => {\n    onErrorHandler(error, {\n      location: dataRouterState.location,\n      params: dataRouterState.matches?.[0]?.params ?? {},\n      unstable_pattern: getRoutePattern(dataRouterState.matches),\n      errorInfo\n    });\n  } : void 0;\n  return renderedMatches.reduceRight(\n    (outlet, match, index) => {\n      let error;\n      let shouldRenderHydrateFallback = false;\n      let errorElement = null;\n      let hydrateFallbackElement = null;\n      if (dataRouterState) {\n        error = errors && match.route.id ? errors[match.route.id] : void 0;\n        errorElement = match.route.errorElement || defaultErrorElement;\n        if (renderFallback) {\n          if (fallbackIndex < 0 && index === 0) {\n            warningOnce(\n              \"route-fallback\",\n              false,\n              \"No `HydrateFallback` element provided to render during initial hydration\"\n            );\n            shouldRenderHydrateFallback = true;\n            hydrateFallbackElement = null;\n          } else if (fallbackIndex === index) {\n            shouldRenderHydrateFallback = true;\n            hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n          }\n        }\n      }\n      let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));\n      let getChildren = () => {\n        let children;\n        if (error) {\n          children = errorElement;\n        } else if (shouldRenderHydrateFallback) {\n          children = hydrateFallbackElement;\n        } else if (match.route.Component) {\n          children = /* @__PURE__ */ React2.createElement(match.route.Component, null);\n        } else if (match.route.element) {\n          children = match.route.element;\n        } else {\n          children = outlet;\n        }\n        return /* @__PURE__ */ React2.createElement(\n          RenderedRoute,\n          {\n            match,\n            routeContext: {\n              outlet,\n              matches: matches2,\n              isDataRoute: dataRouterState != null\n            },\n            children\n          }\n        );\n      };\n      return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React2.createElement(\n        RenderErrorBoundary,\n        {\n          location: dataRouterState.location,\n          revalidation: dataRouterState.revalidation,\n          component: errorElement,\n          error,\n          children: getChildren(),\n          routeContext: { outlet: null, matches: matches2, isDataRoute: true },\n          onError\n        }\n      ) : getChildren();\n    },\n    null\n  );\n}\nfunction getDataRouterConsoleError(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React2.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React2.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React2.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\nfunction useRouteId() {\n  return useCurrentRouteId(\"useRouteId\" /* UseRouteId */);\n}\nfunction useNavigation() {\n  let state = useDataRouterState(\"useNavigation\" /* UseNavigation */);\n  return state.navigation;\n}\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(\"useRevalidator\" /* UseRevalidator */);\n  let state = useDataRouterState(\"useRevalidator\" /* UseRevalidator */);\n  let revalidate = React2.useCallback(async () => {\n    await dataRouterContext.router.revalidate();\n  }, [dataRouterContext.router]);\n  return React2.useMemo(\n    () => ({ revalidate, state: state.revalidation }),\n    [revalidate, state.revalidation]\n  );\n}\nfunction useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    \"useMatches\" /* UseMatches */\n  );\n  return React2.useMemo(\n    () => matches.map((m) => convertRouteMatchToUiMatch(m, loaderData)),\n    [matches, loaderData]\n  );\n}\nfunction useLoaderData() {\n  let state = useDataRouterState(\"useLoaderData\" /* UseLoaderData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(\"useRouteLoaderData\" /* UseRouteLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useActionData() {\n  let state = useDataRouterState(\"useActionData\" /* UseActionData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.actionData ? state.actionData[routeId] : void 0;\n}\nfunction useRouteError() {\n  let error = React2.useContext(RouteErrorContext);\n  let state = useDataRouterState(\"useRouteError\" /* UseRouteError */);\n  let routeId = useCurrentRouteId(\"useRouteError\" /* UseRouteError */);\n  if (error !== void 0) {\n    return error;\n  }\n  return state.errors?.[routeId];\n}\nfunction useAsyncValue() {\n  let value = React2.useContext(AwaitContext);\n  return value?._data;\n}\nfunction useAsyncError() {\n  let value = React2.useContext(AwaitContext);\n  return value?._error;\n}\nvar blockerId = 0;\nfunction useBlocker(shouldBlock) {\n  let { router, basename } = useDataRouterContext(\"useBlocker\" /* UseBlocker */);\n  let state = useDataRouterState(\"useBlocker\" /* UseBlocker */);\n  let [blockerKey, setBlockerKey] = React2.useState(\"\");\n  let blockerFunction = React2.useCallback(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n        },\n        historyAction\n      });\n    },\n    [basename, shouldBlock]\n  );\n  React2.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n  React2.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\nfunction useNavigateStable() {\n  let { router } = useDataRouterContext(\"useNavigate\" /* UseNavigateStable */);\n  let id = useCurrentRouteId(\"useNavigate\" /* UseNavigateStable */);\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    async (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        await router.navigate(to);\n      } else {\n        await router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n  return navigate;\n}\nvar alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\nfunction useRoute(...args) {\n  const currentRouteId = useCurrentRouteId(\n    \"useRoute\" /* UseRoute */\n  );\n  const id = args[0] ?? currentRouteId;\n  const state = useDataRouterState(\"useRoute\" /* UseRoute */);\n  const route = state.matches.find(({ route: route2 }) => route2.id === id);\n  if (route === void 0) return void 0;\n  return {\n    handle: route.route.handle,\n    loaderData: state.loaderData[id],\n    actionData: state.actionData?.[id]\n  };\n}\n\n// lib/components.tsx\nimport * as React3 from \"react\";\n\n// lib/server-runtime/warnings.ts\nvar alreadyWarned2 = {};\nfunction warnOnce(condition, message) {\n  if (!condition && !alreadyWarned2[message]) {\n    alreadyWarned2[message] = true;\n    console.warn(message);\n  }\n}\n\n// lib/components.tsx\nvar USE_OPTIMISTIC = \"useOptimistic\";\nvar useOptimisticImpl = React3[USE_OPTIMISTIC];\nvar stableUseOptimisticSetter = () => void 0;\nfunction useOptimisticSafe(val) {\n  if (useOptimisticImpl) {\n    return useOptimisticImpl(val);\n  } else {\n    return [val, stableUseOptimisticSetter];\n  }\n}\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.hasErrorBoundary || route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.element) {\n        warning(\n          false,\n          \"You should not include both `Component` and `element` on your route - `Component` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      element: React3.createElement(route.Component),\n      Component: void 0\n    });\n  }\n  if (route.HydrateFallback) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.hydrateFallbackElement) {\n        warning(\n          false,\n          \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: React3.createElement(route.HydrateFallback),\n      HydrateFallback: void 0\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.errorElement) {\n        warning(\n          false,\n          \"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      errorElement: React3.createElement(route.ErrorBoundary),\n      ErrorBoundary: void 0\n    });\n  }\n  return updates;\n}\nvar hydrationRouteProperties = [\n  \"HydrateFallback\",\n  \"hydrateFallbackElement\"\n];\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    getContext: opts?.getContext,\n    future: opts?.future,\n    history: createMemoryHistory({\n      initialEntries: opts?.initialEntries,\n      initialIndex: opts?.initialIndex\n    }),\n    hydrationData: opts?.hydrationData,\n    routes,\n    hydrationRouteProperties,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    unstable_instrumentations: opts?.unstable_instrumentations\n  }).initialize();\n}\nvar Deferred = class {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = (value) => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = (reason) => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n};\nfunction RouterProvider({\n  router,\n  flushSync: reactDomFlushSyncImpl,\n  onError,\n  unstable_useTransitions\n}) {\n  let unstable_rsc = useIsRSCRouterContext();\n  unstable_useTransitions = unstable_rsc || unstable_useTransitions;\n  let [_state, setStateImpl] = React3.useState(router.state);\n  let [state, setOptimisticState] = useOptimisticSafe(_state);\n  let [pendingState, setPendingState] = React3.useState();\n  let [vtContext, setVtContext] = React3.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React3.useState();\n  let [transition, setTransition] = React3.useState();\n  let [interruption, setInterruption] = React3.useState();\n  let fetcherData = React3.useRef(/* @__PURE__ */ new Map());\n  let setState = React3.useCallback(\n    (newState, { deletedFetchers, newErrors, flushSync, viewTransitionOpts }) => {\n      if (newErrors && onError) {\n        Object.values(newErrors).forEach(\n          (error) => onError(error, {\n            location: newState.location,\n            params: newState.matches[0]?.params ?? {},\n            unstable_pattern: getRoutePattern(newState.matches)\n          })\n        );\n      }\n      newState.fetchers.forEach((fetcher, key) => {\n        if (fetcher.data !== void 0) {\n          fetcherData.current.set(key, fetcher.data);\n        }\n      });\n      deletedFetchers.forEach((key) => fetcherData.current.delete(key));\n      warnOnce(\n        flushSync === false || reactDomFlushSyncImpl != null,\n        'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from \"react-router/dom\"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.'\n      );\n      let isViewTransitionAvailable = router.window != null && router.window.document != null && typeof router.window.document.startViewTransition === \"function\";\n      warnOnce(\n        viewTransitionOpts == null || isViewTransitionAvailable,\n        \"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.\"\n      );\n      if (!viewTransitionOpts || !isViewTransitionAvailable) {\n        if (reactDomFlushSyncImpl && flushSync) {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        } else if (unstable_useTransitions === false) {\n          setStateImpl(newState);\n        } else {\n          React3.startTransition(() => {\n            if (unstable_useTransitions === true) {\n              setOptimisticState((s) => getOptimisticRouterState(s, newState));\n            }\n            setStateImpl(newState);\n          });\n        }\n        return;\n      }\n      if (reactDomFlushSyncImpl && flushSync) {\n        reactDomFlushSyncImpl(() => {\n          if (transition) {\n            renderDfd?.resolve();\n            transition.skipTransition();\n          }\n          setVtContext({\n            isTransitioning: true,\n            flushSync: true,\n            currentLocation: viewTransitionOpts.currentLocation,\n            nextLocation: viewTransitionOpts.nextLocation\n          });\n        });\n        let t = router.window.document.startViewTransition(() => {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        });\n        t.finished.finally(() => {\n          reactDomFlushSyncImpl(() => {\n            setRenderDfd(void 0);\n            setTransition(void 0);\n            setPendingState(void 0);\n            setVtContext({ isTransitioning: false });\n          });\n        });\n        reactDomFlushSyncImpl(() => setTransition(t));\n        return;\n      }\n      if (transition) {\n        renderDfd?.resolve();\n        transition.skipTransition();\n        setInterruption({\n          state: newState,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      } else {\n        setPendingState(newState);\n        setVtContext({\n          isTransitioning: true,\n          flushSync: false,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      }\n    },\n    [\n      router.window,\n      reactDomFlushSyncImpl,\n      transition,\n      renderDfd,\n      unstable_useTransitions,\n      setOptimisticState,\n      onError\n    ]\n  );\n  React3.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React3.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition2 = router.window.document.startViewTransition(async () => {\n        if (unstable_useTransitions === false) {\n          setStateImpl(newState);\n        } else {\n          React3.startTransition(() => {\n            if (unstable_useTransitions === true) {\n              setOptimisticState((s) => getOptimisticRouterState(s, newState));\n            }\n            setStateImpl(newState);\n          });\n        }\n        await renderPromise;\n      });\n      transition2.finished.finally(() => {\n        setRenderDfd(void 0);\n        setTransition(void 0);\n        setPendingState(void 0);\n        setVtContext({ isTransitioning: false });\n      });\n      setTransition(transition2);\n    }\n  }, [\n    pendingState,\n    renderDfd,\n    router.window,\n    unstable_useTransitions,\n    setOptimisticState\n  ]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  React3.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(void 0);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  let navigator = React3.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state2, opts) => router.navigate(to, {\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      }),\n      replace: (to, state2, opts) => router.navigate(to, {\n        replace: true,\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React3.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename,\n      onError\n    }),\n    [router, navigator, basename, onError]\n  );\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, /* @__PURE__ */ React3.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React3.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React3.createElement(FetchersContext.Provider, { value: fetcherData.current }, /* @__PURE__ */ React3.createElement(ViewTransitionContext.Provider, { value: vtContext }, /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator,\n      unstable_useTransitions\n    },\n    /* @__PURE__ */ React3.createElement(\n      MemoizedDataRoutes,\n      {\n        routes: router.routes,\n        future: router.future,\n        state,\n        onError\n      }\n    )\n  ))))), null);\n}\nfunction getOptimisticRouterState(currentState, newState) {\n  return {\n    // Don't surface \"current location specific\" stuff mid-navigation\n    // (historyAction, location, matches, loaderData, errors, initialized,\n    // restoreScroll, preventScrollReset, blockers, etc.)\n    ...currentState,\n    // Only surface \"pending/in-flight stuff\"\n    // (navigation, revalidation, actionData, fetchers, )\n    navigation: newState.navigation.state !== \"idle\" ? newState.navigation : currentState.navigation,\n    revalidation: newState.revalidation !== \"idle\" ? newState.revalidation : currentState.revalidation,\n    actionData: newState.navigation.state !== \"submitting\" ? newState.actionData : currentState.actionData,\n    fetchers: newState.fetchers\n  };\n}\nvar MemoizedDataRoutes = React3.memo(DataRoutes);\nfunction DataRoutes({\n  routes,\n  future,\n  state,\n  onError\n}) {\n  return useRoutesImpl(routes, void 0, state, onError, future);\n}\nfunction MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex,\n  unstable_useTransitions\n}) {\n  let historyRef = React3.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React3.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React3.useCallback(\n    (newState) => {\n      if (unstable_useTransitions === false) {\n        setStateImpl(newState);\n      } else {\n        React3.startTransition(() => setStateImpl(newState));\n      }\n    },\n    [unstable_useTransitions]\n  );\n  React3.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history,\n      unstable_useTransitions\n    }\n  );\n}\nfunction Navigate({\n  to,\n  replace: replace2,\n  state,\n  relative\n}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n  let { static: isStatic } = React3.useContext(NavigationContext);\n  warning(\n    !isStatic,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`\n  );\n  let { matches } = React3.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n  let path = resolveTo(\n    to,\n    getResolveToMatches(matches),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n  React3.useEffect(() => {\n    navigate(JSON.parse(jsonPath), { replace: replace2, state, relative });\n  }, [navigate, jsonPath, relative, replace2, state]);\n  return null;\n}\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\nfunction Route(props) {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\nfunction Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = \"POP\" /* Pop */,\n  navigator,\n  static: staticProp = false,\n  unstable_useTransitions\n}) {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`\n  );\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React3.useMemo(\n    () => ({\n      basename,\n      navigator,\n      static: staticProp,\n      unstable_useTransitions,\n      future: {}\n    }),\n    [basename, navigator, staticProp, unstable_useTransitions]\n  );\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React3.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL \"${pathname}${search}${hash}\" because it does not start with the basename, so the <Router> won't render anything.`\n  );\n  if (locationContext == null) {\n    return null;\n  }\n  return /* @__PURE__ */ React3.createElement(NavigationContext.Provider, { value: navigationContext }, /* @__PURE__ */ React3.createElement(LocationContext.Provider, { children, value: locationContext }));\n}\nfunction Routes({\n  children,\n  location\n}) {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\nfunction Await({\n  children,\n  errorElement,\n  resolve\n}) {\n  let dataRouterContext = React3.useContext(DataRouterContext);\n  let dataRouterStateContext = React3.useContext(DataRouterStateContext);\n  let onError = React3.useCallback(\n    (error, errorInfo) => {\n      if (dataRouterContext && dataRouterContext.onError && dataRouterStateContext) {\n        dataRouterContext.onError(error, {\n          location: dataRouterStateContext.location,\n          params: dataRouterStateContext.matches[0]?.params || {},\n          unstable_pattern: getRoutePattern(dataRouterStateContext.matches),\n          errorInfo\n        });\n      }\n    },\n    [dataRouterContext, dataRouterStateContext]\n  );\n  return /* @__PURE__ */ React3.createElement(\n    AwaitErrorBoundary,\n    {\n      resolve,\n      errorElement,\n      onError\n    },\n    /* @__PURE__ */ React3.createElement(ResolveAwait, null, children)\n  );\n}\nvar AwaitErrorBoundary = class extends React3.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  componentDidCatch(error, errorInfo) {\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    } else {\n      console.error(\n        \"<Await> caught the following error during render\",\n        error,\n        errorInfo\n      );\n    }\n  }\n  render() {\n    let { children, errorElement, resolve } = this.props;\n    let promise = null;\n    let status = 0 /* pending */;\n    if (!(resolve instanceof Promise)) {\n      status = 1 /* success */;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      status = 2 /* error */;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {\n      });\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if (resolve._tracked) {\n      promise = resolve;\n      status = \"_error\" in promise ? 2 /* error */ : \"_data\" in promise ? 1 /* success */ : 0 /* pending */;\n    } else {\n      status = 0 /* pending */;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data2) => Object.defineProperty(resolve, \"_data\", { get: () => data2 }),\n        (error) => {\n          this.props.onError?.(error);\n          Object.defineProperty(resolve, \"_error\", { get: () => error });\n        }\n      );\n    }\n    if (status === 2 /* error */ && !errorElement) {\n      throw promise._error;\n    }\n    if (status === 2 /* error */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children: errorElement });\n    }\n    if (status === 1 /* success */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children });\n    }\n    throw promise;\n  }\n};\nfunction ResolveAwait({\n  children\n}) {\n  let data2 = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data2) : children;\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, toRender);\n}\nfunction createRoutesFromChildren(children, parentPath = []) {\n  let routes = [];\n  React3.Children.forEach(children, (element, index) => {\n    if (!React3.isValidElement(element)) {\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React3.Fragment) {\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n    invariant(\n      element.type === Route,\n      `[${typeof element.type === \"string\" ? element.type : element.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      middleware: element.props.middleware,\n      loader: element.props.loader,\n      action: element.props.action,\n      hydrateFallbackElement: element.props.hydrateFallbackElement,\n      HydrateFallback: element.props.HydrateFallback,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.hasErrorBoundary === true || element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n    routes.push(route);\n  });\n  return routes;\n}\nvar createRoutesFromElements = createRoutesFromChildren;\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\nfunction useRouteComponentProps() {\n  return {\n    params: useParams(),\n    loaderData: useLoaderData(),\n    actionData: useActionData(),\n    matches: useMatches()\n  };\n}\nfunction WithComponentProps({\n  children\n}) {\n  const props = useRouteComponentProps();\n  return React3.cloneElement(children, props);\n}\nfunction withComponentProps(Component4) {\n  return function WithComponentProps2() {\n    const props = useRouteComponentProps();\n    return React3.createElement(Component4, props);\n  };\n}\nfunction useHydrateFallbackProps() {\n  return {\n    params: useParams(),\n    loaderData: useLoaderData(),\n    actionData: useActionData()\n  };\n}\nfunction WithHydrateFallbackProps({\n  children\n}) {\n  const props = useHydrateFallbackProps();\n  return React3.cloneElement(children, props);\n}\nfunction withHydrateFallbackProps(HydrateFallback) {\n  return function WithHydrateFallbackProps2() {\n    const props = useHydrateFallbackProps();\n    return React3.createElement(HydrateFallback, props);\n  };\n}\nfunction useErrorBoundaryProps() {\n  return {\n    params: useParams(),\n    loaderData: useLoaderData(),\n    actionData: useActionData(),\n    error: useRouteError()\n  };\n}\nfunction WithErrorBoundaryProps({\n  children\n}) {\n  const props = useErrorBoundaryProps();\n  return React3.cloneElement(children, props);\n}\nfunction withErrorBoundaryProps(ErrorBoundary) {\n  return function WithErrorBoundaryProps2() {\n    const props = useErrorBoundaryProps();\n    return React3.createElement(ErrorBoundary, props);\n  };\n}\n\n// lib/dom/dom.ts\nvar defaultMethod = \"get\";\nvar defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return typeof HTMLElement !== \"undefined\" && object instanceof HTMLElement;\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && // Ignore everything but left clicks\n  (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event);\n}\nfunction createSearchParams(init = \"\") {\n  return new URLSearchParams(\n    typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo2, key) => {\n      let value = init[key];\n      return memo2.concat(\n        Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n      );\n    }, [])\n  );\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\nvar _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nvar supportedFormEncTypes = /* @__PURE__ */ new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\"\n]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` and will default to \"${defaultEncType}\"`\n    );\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(form, target);\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = void 0;\n  }\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n\n// lib/dom/ssr/single-fetch.tsx\nimport * as React4 from \"react\";\n\n// vendor/turbo-stream-v2/utils.ts\nvar HOLE = -1;\nvar NAN = -2;\nvar NEGATIVE_INFINITY = -3;\nvar NEGATIVE_ZERO = -4;\nvar NULL = -5;\nvar POSITIVE_INFINITY = -6;\nvar UNDEFINED = -7;\nvar TYPE_BIGINT = \"B\";\nvar TYPE_DATE = \"D\";\nvar TYPE_ERROR = \"E\";\nvar TYPE_MAP = \"M\";\nvar TYPE_NULL_OBJECT = \"N\";\nvar TYPE_PROMISE = \"P\";\nvar TYPE_REGEXP = \"R\";\nvar TYPE_SET = \"S\";\nvar TYPE_SYMBOL = \"Y\";\nvar TYPE_URL = \"U\";\nvar TYPE_PREVIOUS_RESOLVED = \"Z\";\nvar Deferred2 = class {\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n};\nfunction createLineSplittingTransform() {\n  const decoder = new TextDecoder();\n  let leftover = \"\";\n  return new TransformStream({\n    transform(chunk, controller) {\n      const str = decoder.decode(chunk, { stream: true });\n      const parts = (leftover + str).split(\"\\n\");\n      leftover = parts.pop() || \"\";\n      for (const part of parts) {\n        controller.enqueue(part);\n      }\n    },\n    flush(controller) {\n      if (leftover) {\n        controller.enqueue(leftover);\n      }\n    }\n  });\n}\n\n// vendor/turbo-stream-v2/flatten.ts\nfunction flatten(input) {\n  const { indices } = this;\n  const existing = indices.get(input);\n  if (existing) return [existing];\n  if (input === void 0) return UNDEFINED;\n  if (input === null) return NULL;\n  if (Number.isNaN(input)) return NAN;\n  if (input === Number.POSITIVE_INFINITY) return POSITIVE_INFINITY;\n  if (input === Number.NEGATIVE_INFINITY) return NEGATIVE_INFINITY;\n  if (input === 0 && 1 / input < 0) return NEGATIVE_ZERO;\n  const index = this.index++;\n  indices.set(input, index);\n  stringify.call(this, input, index);\n  return index;\n}\nfunction stringify(input, index) {\n  const { deferred, plugins, postPlugins } = this;\n  const str = this.stringified;\n  const stack = [[input, index]];\n  while (stack.length > 0) {\n    const [input2, index2] = stack.pop();\n    const partsForObj = (obj) => Object.keys(obj).map((k) => `\"_${flatten.call(this, k)}\":${flatten.call(this, obj[k])}`).join(\",\");\n    let error = null;\n    switch (typeof input2) {\n      case \"boolean\":\n      case \"number\":\n      case \"string\":\n        str[index2] = JSON.stringify(input2);\n        break;\n      case \"bigint\":\n        str[index2] = `[\"${TYPE_BIGINT}\",\"${input2}\"]`;\n        break;\n      case \"symbol\": {\n        const keyFor = Symbol.keyFor(input2);\n        if (!keyFor) {\n          error = new Error(\n            \"Cannot encode symbol unless created with Symbol.for()\"\n          );\n        } else {\n          str[index2] = `[\"${TYPE_SYMBOL}\",${JSON.stringify(keyFor)}]`;\n        }\n        break;\n      }\n      case \"object\": {\n        if (!input2) {\n          str[index2] = `${NULL}`;\n          break;\n        }\n        const isArray = Array.isArray(input2);\n        let pluginHandled = false;\n        if (!isArray && plugins) {\n          for (const plugin of plugins) {\n            const pluginResult = plugin(input2);\n            if (Array.isArray(pluginResult)) {\n              pluginHandled = true;\n              const [pluginIdentifier, ...rest] = pluginResult;\n              str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n              if (rest.length > 0) {\n                str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n              }\n              str[index2] += \"]\";\n              break;\n            }\n          }\n        }\n        if (!pluginHandled) {\n          let result = isArray ? \"[\" : \"{\";\n          if (isArray) {\n            for (let i = 0; i < input2.length; i++)\n              result += (i ? \",\" : \"\") + (i in input2 ? flatten.call(this, input2[i]) : HOLE);\n            str[index2] = `${result}]`;\n          } else if (input2 instanceof Date) {\n            const dateTime = input2.getTime();\n            str[index2] = `[\"${TYPE_DATE}\",${Number.isNaN(dateTime) ? JSON.stringify(\"invalid\") : dateTime}]`;\n          } else if (input2 instanceof URL) {\n            str[index2] = `[\"${TYPE_URL}\",${JSON.stringify(input2.href)}]`;\n          } else if (input2 instanceof RegExp) {\n            str[index2] = `[\"${TYPE_REGEXP}\",${JSON.stringify(\n              input2.source\n            )},${JSON.stringify(input2.flags)}]`;\n          } else if (input2 instanceof Set) {\n            if (input2.size > 0) {\n              str[index2] = `[\"${TYPE_SET}\",${[...input2].map((val) => flatten.call(this, val)).join(\",\")}]`;\n            } else {\n              str[index2] = `[\"${TYPE_SET}\"]`;\n            }\n          } else if (input2 instanceof Map) {\n            if (input2.size > 0) {\n              str[index2] = `[\"${TYPE_MAP}\",${[...input2].flatMap(([k, v]) => [\n                flatten.call(this, k),\n                flatten.call(this, v)\n              ]).join(\",\")}]`;\n            } else {\n              str[index2] = `[\"${TYPE_MAP}\"]`;\n            }\n          } else if (input2 instanceof Promise) {\n            str[index2] = `[\"${TYPE_PROMISE}\",${index2}]`;\n            deferred[index2] = input2;\n          } else if (input2 instanceof Error) {\n            str[index2] = `[\"${TYPE_ERROR}\",${JSON.stringify(input2.message)}`;\n            if (input2.name !== \"Error\") {\n              str[index2] += `,${JSON.stringify(input2.name)}`;\n            }\n            str[index2] += \"]\";\n          } else if (Object.getPrototypeOf(input2) === null) {\n            str[index2] = `[\"${TYPE_NULL_OBJECT}\",{${partsForObj(input2)}}]`;\n          } else if (isPlainObject2(input2)) {\n            str[index2] = `{${partsForObj(input2)}}`;\n          } else {\n            error = new Error(\"Cannot encode object with prototype\");\n          }\n        }\n        break;\n      }\n      default: {\n        const isArray = Array.isArray(input2);\n        let pluginHandled = false;\n        if (!isArray && plugins) {\n          for (const plugin of plugins) {\n            const pluginResult = plugin(input2);\n            if (Array.isArray(pluginResult)) {\n              pluginHandled = true;\n              const [pluginIdentifier, ...rest] = pluginResult;\n              str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n              if (rest.length > 0) {\n                str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n              }\n              str[index2] += \"]\";\n              break;\n            }\n          }\n        }\n        if (!pluginHandled) {\n          error = new Error(\"Cannot encode function or unexpected type\");\n        }\n      }\n    }\n    if (error) {\n      let pluginHandled = false;\n      if (postPlugins) {\n        for (const plugin of postPlugins) {\n          const pluginResult = plugin(input2);\n          if (Array.isArray(pluginResult)) {\n            pluginHandled = true;\n            const [pluginIdentifier, ...rest] = pluginResult;\n            str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n            if (rest.length > 0) {\n              str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n            }\n            str[index2] += \"]\";\n            break;\n          }\n        }\n      }\n      if (!pluginHandled) {\n        throw error;\n      }\n    }\n  }\n}\nvar objectProtoNames2 = Object.getOwnPropertyNames(Object.prototype).sort().join(\"\\0\");\nfunction isPlainObject2(thing) {\n  const proto = Object.getPrototypeOf(thing);\n  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join(\"\\0\") === objectProtoNames2;\n}\n\n// vendor/turbo-stream-v2/unflatten.ts\nvar globalObj = typeof window !== \"undefined\" ? window : typeof globalThis !== \"undefined\" ? globalThis : void 0;\nfunction unflatten(parsed) {\n  const { hydrated, values } = this;\n  if (typeof parsed === \"number\") return hydrate.call(this, parsed);\n  if (!Array.isArray(parsed) || !parsed.length) throw new SyntaxError();\n  const startIndex = values.length;\n  for (const value of parsed) {\n    values.push(value);\n  }\n  hydrated.length = values.length;\n  return hydrate.call(this, startIndex);\n}\nfunction hydrate(index) {\n  const { hydrated, values, deferred, plugins } = this;\n  let result;\n  const stack = [\n    [\n      index,\n      (v) => {\n        result = v;\n      }\n    ]\n  ];\n  let postRun = [];\n  while (stack.length > 0) {\n    const [index2, set] = stack.pop();\n    switch (index2) {\n      case UNDEFINED:\n        set(void 0);\n        continue;\n      case NULL:\n        set(null);\n        continue;\n      case NAN:\n        set(NaN);\n        continue;\n      case POSITIVE_INFINITY:\n        set(Infinity);\n        continue;\n      case NEGATIVE_INFINITY:\n        set(-Infinity);\n        continue;\n      case NEGATIVE_ZERO:\n        set(-0);\n        continue;\n    }\n    if (hydrated[index2]) {\n      set(hydrated[index2]);\n      continue;\n    }\n    const value = values[index2];\n    if (!value || typeof value !== \"object\") {\n      hydrated[index2] = value;\n      set(value);\n      continue;\n    }\n    if (Array.isArray(value)) {\n      if (typeof value[0] === \"string\") {\n        const [type, b, c] = value;\n        switch (type) {\n          case TYPE_DATE:\n            set(hydrated[index2] = new Date(b));\n            continue;\n          case TYPE_URL:\n            set(hydrated[index2] = new URL(b));\n            continue;\n          case TYPE_BIGINT:\n            set(hydrated[index2] = BigInt(b));\n            continue;\n          case TYPE_REGEXP:\n            set(hydrated[index2] = new RegExp(b, c));\n            continue;\n          case TYPE_SYMBOL:\n            set(hydrated[index2] = Symbol.for(b));\n            continue;\n          case TYPE_SET:\n            const newSet = /* @__PURE__ */ new Set();\n            hydrated[index2] = newSet;\n            for (let i = value.length - 1; i > 0; i--)\n              stack.push([\n                value[i],\n                (v) => {\n                  newSet.add(v);\n                }\n              ]);\n            set(newSet);\n            continue;\n          case TYPE_MAP:\n            const map = /* @__PURE__ */ new Map();\n            hydrated[index2] = map;\n            for (let i = value.length - 2; i > 0; i -= 2) {\n              const r = [];\n              stack.push([\n                value[i + 1],\n                (v) => {\n                  r[1] = v;\n                }\n              ]);\n              stack.push([\n                value[i],\n                (k) => {\n                  r[0] = k;\n                }\n              ]);\n              postRun.push(() => {\n                map.set(r[0], r[1]);\n              });\n            }\n            set(map);\n            continue;\n          case TYPE_NULL_OBJECT:\n            const obj = /* @__PURE__ */ Object.create(null);\n            hydrated[index2] = obj;\n            for (const key of Object.keys(b).reverse()) {\n              const r = [];\n              stack.push([\n                b[key],\n                (v) => {\n                  r[1] = v;\n                }\n              ]);\n              stack.push([\n                Number(key.slice(1)),\n                (k) => {\n                  r[0] = k;\n                }\n              ]);\n              postRun.push(() => {\n                obj[r[0]] = r[1];\n              });\n            }\n            set(obj);\n            continue;\n          case TYPE_PROMISE:\n            if (hydrated[b]) {\n              set(hydrated[index2] = hydrated[b]);\n            } else {\n              const d = new Deferred2();\n              deferred[b] = d;\n              set(hydrated[index2] = d.promise);\n            }\n            continue;\n          case TYPE_ERROR:\n            const [, message, errorType] = value;\n            let error = errorType && globalObj && globalObj[errorType] ? new globalObj[errorType](message) : new Error(message);\n            hydrated[index2] = error;\n            set(error);\n            continue;\n          case TYPE_PREVIOUS_RESOLVED:\n            set(hydrated[index2] = hydrated[b]);\n            continue;\n          default:\n            if (Array.isArray(plugins)) {\n              const r = [];\n              const vals = value.slice(1);\n              for (let i = 0; i < vals.length; i++) {\n                const v = vals[i];\n                stack.push([\n                  v,\n                  (v2) => {\n                    r[i] = v2;\n                  }\n                ]);\n              }\n              postRun.push(() => {\n                for (const plugin of plugins) {\n                  const result2 = plugin(value[0], ...r);\n                  if (result2) {\n                    set(hydrated[index2] = result2.value);\n                    return;\n                  }\n                }\n                throw new SyntaxError();\n              });\n              continue;\n            }\n            throw new SyntaxError();\n        }\n      } else {\n        const array = [];\n        hydrated[index2] = array;\n        for (let i = 0; i < value.length; i++) {\n          const n = value[i];\n          if (n !== HOLE) {\n            stack.push([\n              n,\n              (v) => {\n                array[i] = v;\n              }\n            ]);\n          }\n        }\n        set(array);\n        continue;\n      }\n    } else {\n      const object = {};\n      hydrated[index2] = object;\n      for (const key of Object.keys(value).reverse()) {\n        const r = [];\n        stack.push([\n          value[key],\n          (v) => {\n            r[1] = v;\n          }\n        ]);\n        stack.push([\n          Number(key.slice(1)),\n          (k) => {\n            r[0] = k;\n          }\n        ]);\n        postRun.push(() => {\n          object[r[0]] = r[1];\n        });\n      }\n      set(object);\n      continue;\n    }\n  }\n  while (postRun.length > 0) {\n    postRun.pop()();\n  }\n  return result;\n}\n\n// vendor/turbo-stream-v2/turbo-stream.ts\nasync function decode(readable, options) {\n  const { plugins } = options ?? {};\n  const done = new Deferred2();\n  const reader = readable.pipeThrough(createLineSplittingTransform()).getReader();\n  const decoder = {\n    values: [],\n    hydrated: [],\n    deferred: {},\n    plugins\n  };\n  const decoded = await decodeInitial.call(decoder, reader);\n  let donePromise = done.promise;\n  if (decoded.done) {\n    done.resolve();\n  } else {\n    donePromise = decodeDeferred.call(decoder, reader).then(done.resolve).catch((reason) => {\n      for (const deferred of Object.values(decoder.deferred)) {\n        deferred.reject(reason);\n      }\n      done.reject(reason);\n    });\n  }\n  return {\n    done: donePromise.then(() => reader.closed),\n    value: decoded.value\n  };\n}\nasync function decodeInitial(reader) {\n  const read = await reader.read();\n  if (!read.value) {\n    throw new SyntaxError();\n  }\n  let line;\n  try {\n    line = JSON.parse(read.value);\n  } catch (reason) {\n    throw new SyntaxError();\n  }\n  return {\n    done: read.done,\n    value: unflatten.call(this, line)\n  };\n}\nasync function decodeDeferred(reader) {\n  let read = await reader.read();\n  while (!read.done) {\n    if (!read.value) continue;\n    const line = read.value;\n    switch (line[0]) {\n      case TYPE_PROMISE: {\n        const colonIndex = line.indexOf(\":\");\n        const deferredId = Number(line.slice(1, colonIndex));\n        const deferred = this.deferred[deferredId];\n        if (!deferred) {\n          throw new Error(`Deferred ID ${deferredId} not found in stream`);\n        }\n        const lineData = line.slice(colonIndex + 1);\n        let jsonLine;\n        try {\n          jsonLine = JSON.parse(lineData);\n        } catch (reason) {\n          throw new SyntaxError();\n        }\n        const value = unflatten.call(this, jsonLine);\n        deferred.resolve(value);\n        break;\n      }\n      case TYPE_ERROR: {\n        const colonIndex = line.indexOf(\":\");\n        const deferredId = Number(line.slice(1, colonIndex));\n        const deferred = this.deferred[deferredId];\n        if (!deferred) {\n          throw new Error(`Deferred ID ${deferredId} not found in stream`);\n        }\n        const lineData = line.slice(colonIndex + 1);\n        let jsonLine;\n        try {\n          jsonLine = JSON.parse(lineData);\n        } catch (reason) {\n          throw new SyntaxError();\n        }\n        const value = unflatten.call(this, jsonLine);\n        deferred.reject(value);\n        break;\n      }\n      default:\n        throw new SyntaxError();\n    }\n    read = await reader.read();\n  }\n}\nfunction encode(input, options) {\n  const { plugins, postPlugins, signal } = options ?? {};\n  const encoder = {\n    deferred: {},\n    index: 0,\n    indices: /* @__PURE__ */ new Map(),\n    stringified: [],\n    plugins,\n    postPlugins,\n    signal\n  };\n  const textEncoder = new TextEncoder();\n  let lastSentIndex = 0;\n  const readable = new ReadableStream({\n    async start(controller) {\n      const id = flatten.call(encoder, input);\n      if (Array.isArray(id)) {\n        throw new Error(\"This should never happen\");\n      }\n      if (id < 0) {\n        controller.enqueue(textEncoder.encode(`${id}\n`));\n      } else {\n        controller.enqueue(\n          textEncoder.encode(`[${encoder.stringified.join(\",\")}]\n`)\n        );\n        lastSentIndex = encoder.stringified.length - 1;\n      }\n      const seenPromises = /* @__PURE__ */ new WeakSet();\n      if (Object.keys(encoder.deferred).length) {\n        let raceDone;\n        const racePromise = new Promise((resolve, reject) => {\n          raceDone = resolve;\n          if (signal) {\n            const rejectPromise = () => reject(signal.reason || new Error(\"Signal was aborted.\"));\n            if (signal.aborted) {\n              rejectPromise();\n            } else {\n              signal.addEventListener(\"abort\", (event) => {\n                rejectPromise();\n              });\n            }\n          }\n        });\n        while (Object.keys(encoder.deferred).length > 0) {\n          for (const [deferredId, deferred] of Object.entries(\n            encoder.deferred\n          )) {\n            if (seenPromises.has(deferred)) continue;\n            seenPromises.add(\n              // biome-ignore lint/suspicious/noAssignInExpressions: <explanation>\n              encoder.deferred[Number(deferredId)] = Promise.race([\n                racePromise,\n                deferred\n              ]).then(\n                (resolved) => {\n                  const id2 = flatten.call(encoder, resolved);\n                  if (Array.isArray(id2)) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:[[\"${TYPE_PREVIOUS_RESOLVED}\",${id2[0]}]]\n`\n                      )\n                    );\n                    encoder.index++;\n                    lastSentIndex++;\n                  } else if (id2 < 0) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:${id2}\n`\n                      )\n                    );\n                  } else {\n                    const values = encoder.stringified.slice(lastSentIndex + 1).join(\",\");\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:[${values}]\n`\n                      )\n                    );\n                    lastSentIndex = encoder.stringified.length - 1;\n                  }\n                },\n                (reason) => {\n                  if (!reason || typeof reason !== \"object\" || !(reason instanceof Error)) {\n                    reason = new Error(\"An unknown error occurred\");\n                  }\n                  const id2 = flatten.call(encoder, reason);\n                  if (Array.isArray(id2)) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:[[\"${TYPE_PREVIOUS_RESOLVED}\",${id2[0]}]]\n`\n                      )\n                    );\n                    encoder.index++;\n                    lastSentIndex++;\n                  } else if (id2 < 0) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:${id2}\n`\n                      )\n                    );\n                  } else {\n                    const values = encoder.stringified.slice(lastSentIndex + 1).join(\",\");\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:[${values}]\n`\n                      )\n                    );\n                    lastSentIndex = encoder.stringified.length - 1;\n                  }\n                }\n              ).finally(() => {\n                delete encoder.deferred[Number(deferredId)];\n              })\n            );\n          }\n          await Promise.race(Object.values(encoder.deferred));\n        }\n        raceDone();\n      }\n      await Promise.all(Object.values(encoder.deferred));\n      controller.close();\n    }\n  });\n  return readable;\n}\n\n// lib/dom/ssr/data.ts\nasync function createRequestInit(request) {\n  let init = { signal: request.signal };\n  if (request.method !== \"GET\") {\n    init.method = request.method;\n    let contentType = request.headers.get(\"Content-Type\");\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = JSON.stringify(await request.json());\n    } else if (contentType && /\\btext\\/plain\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = await request.text();\n    } else if (contentType && /\\bapplication\\/x-www-form-urlencoded\\b/.test(contentType)) {\n      init.body = new URLSearchParams(await request.text());\n    } else {\n      init.body = await request.formData();\n    }\n  }\n  return init;\n}\n\n// lib/dom/ssr/markup.ts\nvar ESCAPE_LOOKUP = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml(html) {\n  return html.replace(ESCAPE_REGEX, (match) => ESCAPE_LOOKUP[match]);\n}\n\n// lib/dom/ssr/invariant.ts\nfunction invariant2(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\n// lib/dom/ssr/single-fetch.tsx\nvar SingleFetchRedirectSymbol = Symbol(\"SingleFetchRedirect\");\nvar SingleFetchNoResultError = class extends Error {\n};\nvar SINGLE_FETCH_REDIRECT_STATUS = 202;\nvar NO_BODY_STATUS_CODES = /* @__PURE__ */ new Set([100, 101, 204, 205]);\nfunction StreamTransfer({\n  context,\n  identifier,\n  reader,\n  textDecoder,\n  nonce\n}) {\n  if (!context.renderMeta || !context.renderMeta.didRenderScripts) {\n    return null;\n  }\n  if (!context.renderMeta.streamCache) {\n    context.renderMeta.streamCache = {};\n  }\n  let { streamCache } = context.renderMeta;\n  let promise = streamCache[identifier];\n  if (!promise) {\n    promise = streamCache[identifier] = reader.read().then((result) => {\n      streamCache[identifier].result = {\n        done: result.done,\n        value: textDecoder.decode(result.value, { stream: true })\n      };\n    }).catch((e) => {\n      streamCache[identifier].error = e;\n    });\n  }\n  if (promise.error) {\n    throw promise.error;\n  }\n  if (promise.result === void 0) {\n    throw promise;\n  }\n  let { done, value } = promise.result;\n  let scriptTag = value ? /* @__PURE__ */ React4.createElement(\n    \"script\",\n    {\n      nonce,\n      dangerouslySetInnerHTML: {\n        __html: `window.__reactRouterContext.streamController.enqueue(${escapeHtml(\n          JSON.stringify(value)\n        )});`\n      }\n    }\n  ) : null;\n  if (done) {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(\n      \"script\",\n      {\n        nonce,\n        dangerouslySetInnerHTML: {\n          __html: `window.__reactRouterContext.streamController.close();`\n        }\n      }\n    ));\n  } else {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(React4.Suspense, null, /* @__PURE__ */ React4.createElement(\n      StreamTransfer,\n      {\n        context,\n        identifier: identifier + 1,\n        reader,\n        textDecoder,\n        nonce\n      }\n    )));\n  }\n}\nfunction getTurboStreamSingleFetchDataStrategy(getRouter, manifest, routeModules, ssr, basename, trailingSlashAware) {\n  let dataStrategy = getSingleFetchDataStrategyImpl(\n    getRouter,\n    (match) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      invariant2(manifestRoute, \"Route not found in manifest\");\n      let routeModule = routeModules[match.route.id];\n      return {\n        hasLoader: manifestRoute.hasLoader,\n        hasClientLoader: manifestRoute.hasClientLoader,\n        hasShouldRevalidate: Boolean(routeModule?.shouldRevalidate)\n      };\n    },\n    fetchAndDecodeViaTurboStream,\n    ssr,\n    basename,\n    trailingSlashAware\n  );\n  return async (args) => args.runClientMiddleware(dataStrategy);\n}\nfunction getSingleFetchDataStrategyImpl(getRouter, getRouteInfo, fetchAndDecode, ssr, basename, trailingSlashAware, shouldAllowOptOut = () => true) {\n  return async (args) => {\n    let { request, matches, fetcherKey } = args;\n    let router = getRouter();\n    if (request.method !== \"GET\") {\n      return singleFetchActionStrategy(\n        args,\n        fetchAndDecode,\n        basename,\n        trailingSlashAware\n      );\n    }\n    let foundRevalidatingServerLoader = matches.some((m) => {\n      let { hasLoader, hasClientLoader } = getRouteInfo(m);\n      return m.shouldCallHandler() && hasLoader && !hasClientLoader;\n    });\n    if (!ssr && !foundRevalidatingServerLoader) {\n      return nonSsrStrategy(\n        args,\n        getRouteInfo,\n        fetchAndDecode,\n        basename,\n        trailingSlashAware\n      );\n    }\n    if (fetcherKey) {\n      return singleFetchLoaderFetcherStrategy(\n        args,\n        fetchAndDecode,\n        basename,\n        trailingSlashAware\n      );\n    }\n    return singleFetchLoaderNavigationStrategy(\n      args,\n      router,\n      getRouteInfo,\n      fetchAndDecode,\n      ssr,\n      basename,\n      trailingSlashAware,\n      shouldAllowOptOut\n    );\n  };\n}\nasync function singleFetchActionStrategy(args, fetchAndDecode, basename, trailingSlashAware) {\n  let actionMatch = args.matches.find((m) => m.shouldCallHandler());\n  invariant2(actionMatch, \"No action match found\");\n  let actionStatus = void 0;\n  let result = await actionMatch.resolve(async (handler) => {\n    let result2 = await handler(async () => {\n      let { data: data2, status } = await fetchAndDecode(\n        args,\n        basename,\n        trailingSlashAware,\n        [actionMatch.route.id]\n      );\n      actionStatus = status;\n      return unwrapSingleFetchResult(data2, actionMatch.route.id);\n    });\n    return result2;\n  });\n  if (isResponse(result.result) || isRouteErrorResponse(result.result) || isDataWithResponseInit(result.result)) {\n    return { [actionMatch.route.id]: result };\n  }\n  return {\n    [actionMatch.route.id]: {\n      type: result.type,\n      result: data(result.result, actionStatus)\n    }\n  };\n}\nasync function nonSsrStrategy(args, getRouteInfo, fetchAndDecode, basename, trailingSlashAware) {\n  let matchesToLoad = args.matches.filter((m) => m.shouldCallHandler());\n  let results = {};\n  await Promise.all(\n    matchesToLoad.map(\n      (m) => m.resolve(async (handler) => {\n        try {\n          let { hasClientLoader } = getRouteInfo(m);\n          let routeId = m.route.id;\n          let result = hasClientLoader ? await handler(async () => {\n            let { data: data2 } = await fetchAndDecode(\n              args,\n              basename,\n              trailingSlashAware,\n              [routeId]\n            );\n            return unwrapSingleFetchResult(data2, routeId);\n          }) : await handler();\n          results[m.route.id] = { type: \"data\", result };\n        } catch (e) {\n          results[m.route.id] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  return results;\n}\nasync function singleFetchLoaderNavigationStrategy(args, router, getRouteInfo, fetchAndDecode, ssr, basename, trailingSlashAware, shouldAllowOptOut = () => true) {\n  let routesParams = /* @__PURE__ */ new Set();\n  let foundOptOutRoute = false;\n  let routeDfds = args.matches.map(() => createDeferred2());\n  let singleFetchDfd = createDeferred2();\n  let results = {};\n  let resolvePromise = Promise.all(\n    args.matches.map(\n      async (m, i) => m.resolve(async (handler) => {\n        routeDfds[i].resolve();\n        let routeId = m.route.id;\n        let { hasLoader, hasClientLoader, hasShouldRevalidate } = getRouteInfo(m);\n        let defaultShouldRevalidate = !m.shouldRevalidateArgs || m.shouldRevalidateArgs.actionStatus == null || m.shouldRevalidateArgs.actionStatus < 400;\n        let shouldCall = m.shouldCallHandler(defaultShouldRevalidate);\n        if (!shouldCall) {\n          foundOptOutRoute || (foundOptOutRoute = m.shouldRevalidateArgs != null && // This is a revalidation,\n          hasLoader && // for a route with a server loader,\n          hasShouldRevalidate === true);\n          return;\n        }\n        if (shouldAllowOptOut(m) && hasClientLoader) {\n          if (hasLoader) {\n            foundOptOutRoute = true;\n          }\n          try {\n            let result = await handler(async () => {\n              let { data: data2 } = await fetchAndDecode(\n                args,\n                basename,\n                trailingSlashAware,\n                [routeId]\n              );\n              return unwrapSingleFetchResult(data2, routeId);\n            });\n            results[routeId] = { type: \"data\", result };\n          } catch (e) {\n            results[routeId] = { type: \"error\", result: e };\n          }\n          return;\n        }\n        if (hasLoader) {\n          routesParams.add(routeId);\n        }\n        try {\n          let result = await handler(async () => {\n            let data2 = await singleFetchDfd.promise;\n            return unwrapSingleFetchResult(data2, routeId);\n          });\n          results[routeId] = { type: \"data\", result };\n        } catch (e) {\n          results[routeId] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  await Promise.all(routeDfds.map((d) => d.promise));\n  let isInitialLoad = !router.state.initialized && router.state.navigation.state === \"idle\";\n  if ((isInitialLoad || routesParams.size === 0) && !window.__reactRouterHdrActive) {\n    singleFetchDfd.resolve({ routes: {} });\n  } else {\n    let targetRoutes = ssr && foundOptOutRoute && routesParams.size > 0 ? [...routesParams.keys()] : void 0;\n    try {\n      let data2 = await fetchAndDecode(\n        args,\n        basename,\n        trailingSlashAware,\n        targetRoutes\n      );\n      singleFetchDfd.resolve(data2.data);\n    } catch (e) {\n      singleFetchDfd.reject(e);\n    }\n  }\n  await resolvePromise;\n  await bubbleMiddlewareErrors(\n    singleFetchDfd.promise,\n    args.matches,\n    routesParams,\n    results\n  );\n  return results;\n}\nasync function bubbleMiddlewareErrors(singleFetchPromise, matches, routesParams, results) {\n  try {\n    let middlewareError;\n    let fetchedData = await singleFetchPromise;\n    if (\"routes\" in fetchedData) {\n      for (let match of matches) {\n        if (match.route.id in fetchedData.routes) {\n          let routeResult = fetchedData.routes[match.route.id];\n          if (\"error\" in routeResult) {\n            middlewareError = routeResult.error;\n            if (results[match.route.id]?.result == null) {\n              results[match.route.id] = {\n                type: \"error\",\n                result: middlewareError\n              };\n            }\n            break;\n          }\n        }\n      }\n    }\n    if (middlewareError !== void 0) {\n      Array.from(routesParams.values()).forEach((routeId) => {\n        if (results[routeId].result instanceof SingleFetchNoResultError) {\n          results[routeId].result = middlewareError;\n        }\n      });\n    }\n  } catch (e) {\n  }\n}\nasync function singleFetchLoaderFetcherStrategy(args, fetchAndDecode, basename, trailingSlashAware) {\n  let fetcherMatch = args.matches.find((m) => m.shouldCallHandler());\n  invariant2(fetcherMatch, \"No fetcher match found\");\n  let routeId = fetcherMatch.route.id;\n  let result = await fetcherMatch.resolve(\n    async (handler) => handler(async () => {\n      let { data: data2 } = await fetchAndDecode(args, basename, trailingSlashAware, [\n        routeId\n      ]);\n      return unwrapSingleFetchResult(data2, routeId);\n    })\n  );\n  return { [fetcherMatch.route.id]: result };\n}\nfunction stripIndexParam(url) {\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  return url;\n}\nfunction singleFetchUrl(reqUrl, basename, trailingSlashAware, extension) {\n  let url = typeof reqUrl === \"string\" ? new URL(\n    reqUrl,\n    // This can be called during the SSR flow via PrefetchPageLinksImpl so\n    // don't assume window is available\n    typeof window === \"undefined\" ? \"server://singlefetch/\" : window.location.origin\n  ) : reqUrl;\n  if (trailingSlashAware) {\n    if (url.pathname.endsWith(\"/\")) {\n      url.pathname = `${url.pathname}_.${extension}`;\n    } else {\n      url.pathname = `${url.pathname}.${extension}`;\n    }\n  } else {\n    if (url.pathname === \"/\") {\n      url.pathname = `_root.${extension}`;\n    } else if (basename && stripBasename(url.pathname, basename) === \"/\") {\n      url.pathname = `${basename.replace(/\\/$/, \"\")}/_root.${extension}`;\n    } else {\n      url.pathname = `${url.pathname.replace(/\\/$/, \"\")}.${extension}`;\n    }\n  }\n  return url;\n}\nasync function fetchAndDecodeViaTurboStream(args, basename, trailingSlashAware, targetRoutes) {\n  let { request } = args;\n  let url = singleFetchUrl(request.url, basename, trailingSlashAware, \"data\");\n  if (request.method === \"GET\") {\n    url = stripIndexParam(url);\n    if (targetRoutes) {\n      url.searchParams.set(\"_routes\", targetRoutes.join(\",\"));\n    }\n  }\n  let res = await fetch(url, await createRequestInit(request));\n  if (res.status >= 400 && !res.headers.has(\"X-Remix-Response\")) {\n    throw new ErrorResponseImpl(res.status, res.statusText, await res.text());\n  }\n  if (res.status === 204 && res.headers.has(\"X-Remix-Redirect\")) {\n    return {\n      status: SINGLE_FETCH_REDIRECT_STATUS,\n      data: {\n        redirect: {\n          redirect: res.headers.get(\"X-Remix-Redirect\"),\n          status: Number(res.headers.get(\"X-Remix-Status\") || \"302\"),\n          revalidate: res.headers.get(\"X-Remix-Revalidate\") === \"true\",\n          reload: res.headers.get(\"X-Remix-Reload-Document\") === \"true\",\n          replace: res.headers.get(\"X-Remix-Replace\") === \"true\"\n        }\n      }\n    };\n  }\n  if (NO_BODY_STATUS_CODES.has(res.status)) {\n    let routes = {};\n    if (targetRoutes && request.method !== \"GET\") {\n      routes[targetRoutes[0]] = { data: void 0 };\n    }\n    return {\n      status: res.status,\n      data: { routes }\n    };\n  }\n  invariant2(res.body, \"No response body to decode\");\n  try {\n    let decoded = await decodeViaTurboStream(res.body, window);\n    let data2;\n    if (request.method === \"GET\") {\n      let typed = decoded.value;\n      if (SingleFetchRedirectSymbol in typed) {\n        data2 = { redirect: typed[SingleFetchRedirectSymbol] };\n      } else {\n        data2 = { routes: typed };\n      }\n    } else {\n      let typed = decoded.value;\n      let routeId = targetRoutes?.[0];\n      invariant2(routeId, \"No routeId found for single fetch call decoding\");\n      if (\"redirect\" in typed) {\n        data2 = { redirect: typed };\n      } else {\n        data2 = { routes: { [routeId]: typed } };\n      }\n    }\n    return { status: res.status, data: data2 };\n  } catch (e) {\n    throw new Error(\"Unable to decode turbo-stream response\");\n  }\n}\nfunction decodeViaTurboStream(body, global) {\n  return decode(body, {\n    plugins: [\n      (type, ...rest) => {\n        if (type === \"SanitizedError\") {\n          let [name, message, stack] = rest;\n          let Constructor = Error;\n          if (name && name in global && typeof global[name] === \"function\") {\n            Constructor = global[name];\n          }\n          let error = new Constructor(message);\n          error.stack = stack;\n          return { value: error };\n        }\n        if (type === \"ErrorResponse\") {\n          let [data2, status, statusText] = rest;\n          return {\n            value: new ErrorResponseImpl(status, statusText, data2)\n          };\n        }\n        if (type === \"SingleFetchRedirect\") {\n          return { value: { [SingleFetchRedirectSymbol]: rest[0] } };\n        }\n        if (type === \"SingleFetchClassInstance\") {\n          return { value: rest[0] };\n        }\n        if (type === \"SingleFetchFallback\") {\n          return { value: void 0 };\n        }\n      }\n    ]\n  });\n}\nfunction unwrapSingleFetchResult(result, routeId) {\n  if (\"redirect\" in result) {\n    let {\n      redirect: location,\n      revalidate,\n      reload,\n      replace: replace2,\n      status\n    } = result.redirect;\n    throw redirect(location, {\n      status,\n      headers: {\n        // Three R's of redirecting (lol Veep)\n        ...revalidate ? { \"X-Remix-Revalidate\": \"yes\" } : null,\n        ...reload ? { \"X-Remix-Reload-Document\": \"yes\" } : null,\n        ...replace2 ? { \"X-Remix-Replace\": \"yes\" } : null\n      }\n    });\n  }\n  let routeResult = result.routes[routeId];\n  if (routeResult == null) {\n    throw new SingleFetchNoResultError(\n      `No result found for routeId \"${routeId}\"`\n    );\n  } else if (\"error\" in routeResult) {\n    throw routeResult.error;\n  } else if (\"data\" in routeResult) {\n    return routeResult.data;\n  } else {\n    throw new Error(`Invalid response found for routeId \"${routeId}\"`);\n  }\n}\nfunction createDeferred2() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/dom/ssr/errorBoundaries.tsx\nimport * as React9 from \"react\";\n\n// lib/dom/ssr/components.tsx\nimport * as React8 from \"react\";\n\n// lib/dom/ssr/routeModules.ts\nasync function loadRouteModule(route, routeModulesCache) {\n  if (route.id in routeModulesCache) {\n    return routeModulesCache[route.id];\n  }\n  try {\n    let routeModule = await import(\n      /* @vite-ignore */\n      /* webpackIgnore: true */\n      route.module\n    );\n    routeModulesCache[route.id] = routeModule;\n    return routeModule;\n  } catch (error) {\n    console.error(\n      `Error loading route module \\`${route.module}\\`, reloading page...`\n    );\n    console.error(error);\n    if (window.__reactRouterContext && window.__reactRouterContext.isSpaMode && // @ts-expect-error\n    import.meta.hot) {\n      throw error;\n    }\n    window.location.reload();\n    return new Promise(() => {\n    });\n  }\n}\n\n// lib/dom/ssr/links.ts\nfunction getKeyedLinksForMatches(matches, routeModules, manifest) {\n  let descriptors = matches.map((match) => {\n    let module = routeModules[match.route.id];\n    let route = manifest.routes[match.route.id];\n    return [\n      route && route.css ? route.css.map((href) => ({ rel: \"stylesheet\", href })) : [],\n      module?.links?.() || []\n    ];\n  }).flat(2);\n  let preloads = getModuleLinkHrefs(matches, manifest);\n  return dedupeLinkDescriptors(descriptors, preloads);\n}\nfunction getRouteCssDescriptors(route) {\n  if (!route.css) return [];\n  return route.css.map((href) => ({ rel: \"stylesheet\", href }));\n}\nasync function prefetchRouteCss(route) {\n  if (!route.css) return;\n  let descriptors = getRouteCssDescriptors(route);\n  await Promise.all(descriptors.map(prefetchStyleLink));\n}\nasync function prefetchStyleLinks(route, routeModule) {\n  if (!route.css && !routeModule.links || !isPreloadSupported()) return;\n  let descriptors = [];\n  if (route.css) {\n    descriptors.push(...getRouteCssDescriptors(route));\n  }\n  if (routeModule.links) {\n    descriptors.push(...routeModule.links());\n  }\n  if (descriptors.length === 0) return;\n  let styleLinks = [];\n  for (let descriptor of descriptors) {\n    if (!isPageLinkDescriptor(descriptor) && descriptor.rel === \"stylesheet\") {\n      styleLinks.push({\n        ...descriptor,\n        rel: \"preload\",\n        as: \"style\"\n      });\n    }\n  }\n  await Promise.all(styleLinks.map(prefetchStyleLink));\n}\nasync function prefetchStyleLink(descriptor) {\n  return new Promise((resolve) => {\n    if (descriptor.media && !window.matchMedia(descriptor.media).matches || document.querySelector(\n      `link[rel=\"stylesheet\"][href=\"${descriptor.href}\"]`\n    )) {\n      return resolve();\n    }\n    let link = document.createElement(\"link\");\n    Object.assign(link, descriptor);\n    function removeLink() {\n      if (document.head.contains(link)) {\n        document.head.removeChild(link);\n      }\n    }\n    link.onload = () => {\n      removeLink();\n      resolve();\n    };\n    link.onerror = () => {\n      removeLink();\n      resolve();\n    };\n    document.head.appendChild(link);\n  });\n}\nfunction isPageLinkDescriptor(object) {\n  return object != null && typeof object.page === \"string\";\n}\nfunction isHtmlLinkDescriptor(object) {\n  if (object == null) {\n    return false;\n  }\n  if (object.href == null) {\n    return object.rel === \"preload\" && typeof object.imageSrcSet === \"string\" && typeof object.imageSizes === \"string\";\n  }\n  return typeof object.rel === \"string\" && typeof object.href === \"string\";\n}\nasync function getKeyedPrefetchLinks(matches, manifest, routeModules) {\n  let links = await Promise.all(\n    matches.map(async (match) => {\n      let route = manifest.routes[match.route.id];\n      if (route) {\n        let mod = await loadRouteModule(route, routeModules);\n        return mod.links ? mod.links() : [];\n      }\n      return [];\n    })\n  );\n  return dedupeLinkDescriptors(\n    links.flat(1).filter(isHtmlLinkDescriptor).filter((link) => link.rel === \"stylesheet\" || link.rel === \"preload\").map(\n      (link) => link.rel === \"stylesheet\" ? { ...link, rel: \"prefetch\", as: \"style\" } : { ...link, rel: \"prefetch\" }\n    )\n  );\n}\nfunction getNewMatchesForLinks(page, nextMatches, currentMatches, manifest, location, mode) {\n  let isNew = (match, index) => {\n    if (!currentMatches[index]) return true;\n    return match.route.id !== currentMatches[index].route.id;\n  };\n  let matchPathChanged = (match, index) => {\n    return (\n      // param change, /users/123 -> /users/456\n      currentMatches[index].pathname !== match.pathname || // splat param changed, which is not present in match.path\n      // e.g. /files/images/avatar.jpg -> files/finances.xls\n      currentMatches[index].route.path?.endsWith(\"*\") && currentMatches[index].params[\"*\"] !== match.params[\"*\"]\n    );\n  };\n  if (mode === \"assets\") {\n    return nextMatches.filter(\n      (match, index) => isNew(match, index) || matchPathChanged(match, index)\n    );\n  }\n  if (mode === \"data\") {\n    return nextMatches.filter((match, index) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return false;\n      }\n      if (isNew(match, index) || matchPathChanged(match, index)) {\n        return true;\n      }\n      if (match.route.shouldRevalidate) {\n        let routeChoice = match.route.shouldRevalidate({\n          currentUrl: new URL(\n            location.pathname + location.search + location.hash,\n            window.origin\n          ),\n          currentParams: currentMatches[0]?.params || {},\n          nextUrl: new URL(page, window.origin),\n          nextParams: match.params,\n          defaultShouldRevalidate: true\n        });\n        if (typeof routeChoice === \"boolean\") {\n          return routeChoice;\n        }\n      }\n      return true;\n    });\n  }\n  return [];\n}\nfunction getModuleLinkHrefs(matches, manifest, { includeHydrateFallback } = {}) {\n  return dedupeHrefs(\n    matches.map((match) => {\n      let route = manifest.routes[match.route.id];\n      if (!route) return [];\n      let hrefs = [route.module];\n      if (route.clientActionModule) {\n        hrefs = hrefs.concat(route.clientActionModule);\n      }\n      if (route.clientLoaderModule) {\n        hrefs = hrefs.concat(route.clientLoaderModule);\n      }\n      if (includeHydrateFallback && route.hydrateFallbackModule) {\n        hrefs = hrefs.concat(route.hydrateFallbackModule);\n      }\n      if (route.imports) {\n        hrefs = hrefs.concat(route.imports);\n      }\n      return hrefs;\n    }).flat(1)\n  );\n}\nfunction dedupeHrefs(hrefs) {\n  return [...new Set(hrefs)];\n}\nfunction sortKeys(obj) {\n  let sorted = {};\n  let keys = Object.keys(obj).sort();\n  for (let key of keys) {\n    sorted[key] = obj[key];\n  }\n  return sorted;\n}\nfunction dedupeLinkDescriptors(descriptors, preloads) {\n  let set = /* @__PURE__ */ new Set();\n  let preloadsSet = new Set(preloads);\n  return descriptors.reduce((deduped, descriptor) => {\n    let alreadyModulePreload = preloads && !isPageLinkDescriptor(descriptor) && descriptor.as === \"script\" && descriptor.href && preloadsSet.has(descriptor.href);\n    if (alreadyModulePreload) {\n      return deduped;\n    }\n    let key = JSON.stringify(sortKeys(descriptor));\n    if (!set.has(key)) {\n      set.add(key);\n      deduped.push({ key, link: descriptor });\n    }\n    return deduped;\n  }, []);\n}\nvar _isPreloadSupported;\nfunction isPreloadSupported() {\n  if (_isPreloadSupported !== void 0) {\n    return _isPreloadSupported;\n  }\n  let el = document.createElement(\"link\");\n  _isPreloadSupported = el.relList.supports(\"preload\");\n  el = null;\n  return _isPreloadSupported;\n}\n\n// lib/dom/ssr/fog-of-war.ts\nimport * as React7 from \"react\";\n\n// lib/dom/ssr/routes.tsx\nimport * as React6 from \"react\";\n\n// lib/dom/ssr/fallback.tsx\nimport * as React5 from \"react\";\nfunction RemixRootDefaultHydrateFallback() {\n  return /* @__PURE__ */ React5.createElement(BoundaryShell, { title: \"Loading...\", renderScripts: true }, ENABLE_DEV_WARNINGS ? /* @__PURE__ */ React5.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n              console.log(\n                \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this \" +\n                \"when your app is loading JS modules and/or running \\`clientLoader\\` \" +\n                \"functions. Check out https://reactrouter.com/start/framework/route-module#hydratefallback \" +\n                \"for more information.\"\n              );\n            `\n      }\n    }\n  ) : null);\n}\n\n// lib/dom/ssr/routes.tsx\nfunction groupRoutesByParentId(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction getRouteComponents(route, routeModule, isSpaMode) {\n  let Component4 = getRouteModuleComponent(routeModule);\n  let HydrateFallback = routeModule.HydrateFallback && (!isSpaMode || route.id === \"root\") ? routeModule.HydrateFallback : route.id === \"root\" ? RemixRootDefaultHydrateFallback : void 0;\n  let ErrorBoundary = routeModule.ErrorBoundary ? routeModule.ErrorBoundary : route.id === \"root\" ? () => /* @__PURE__ */ React6.createElement(RemixRootDefaultErrorBoundary, { error: useRouteError() }) : void 0;\n  if (route.id === \"root\" && routeModule.Layout) {\n    return {\n      ...Component4 ? {\n        element: /* @__PURE__ */ React6.createElement(routeModule.Layout, null, /* @__PURE__ */ React6.createElement(Component4, null))\n      } : { Component: Component4 },\n      ...ErrorBoundary ? {\n        errorElement: /* @__PURE__ */ React6.createElement(routeModule.Layout, null, /* @__PURE__ */ React6.createElement(ErrorBoundary, null))\n      } : { ErrorBoundary },\n      ...HydrateFallback ? {\n        hydrateFallbackElement: /* @__PURE__ */ React6.createElement(routeModule.Layout, null, /* @__PURE__ */ React6.createElement(HydrateFallback, null))\n      } : { HydrateFallback }\n    };\n  }\n  return { Component: Component4, ErrorBoundary, HydrateFallback };\n}\nfunction createServerRoutes(manifest, routeModules, future, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), spaModeLazyPromise = Promise.resolve({ Component: () => null })) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModules[route.id];\n    invariant2(\n      routeModule,\n      \"No `routeModule` available to create server routes\"\n    );\n    let dataRoute = {\n      ...getRouteComponents(route, routeModule, isSpaMode),\n      caseSensitive: route.caseSensitive,\n      id: route.id,\n      index: route.index,\n      path: route.path,\n      handle: routeModule.handle,\n      // For SPA Mode, all routes are lazy except root.  However we tell the\n      // router root is also lazy here too since we don't need a full\n      // implementation - we just need a `lazy` prop to tell the RR rendering\n      // where to stop which is always at the root route in SPA mode\n      lazy: isSpaMode ? () => spaModeLazyPromise : void 0,\n      // For partial hydration rendering, we need to indicate when the route\n      // has a loader/clientLoader, but it won't ever be called during the static\n      // render, so just give it a no-op function so we can render down to the\n      // proper fallback\n      loader: route.hasLoader || route.hasClientLoader ? () => null : void 0\n      // We don't need middleware/action/shouldRevalidate on these routes since\n      // they're for a static render\n    };\n    let children = createServerRoutes(\n      manifest,\n      routeModules,\n      future,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      spaModeLazyPromise\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction createClientRoutesWithHMRRevalidationOptOut(needsRevalidation, manifest, routeModulesCache, initialState, ssr, isSpaMode) {\n  return createClientRoutes(\n    manifest,\n    routeModulesCache,\n    initialState,\n    ssr,\n    isSpaMode,\n    \"\",\n    groupRoutesByParentId(manifest),\n    needsRevalidation\n  );\n}\nfunction preventInvalidServerHandlerCall(type, route) {\n  if (type === \"loader\" && !route.hasLoader || type === \"action\" && !route.hasAction) {\n    let fn = type === \"action\" ? \"serverAction()\" : \"serverLoader()\";\n    let msg = `You are trying to call ${fn} on a route that does not have a server ${type} (routeId: \"${route.id}\")`;\n    console.error(msg);\n    throw new ErrorResponseImpl(400, \"Bad Request\", new Error(msg), true);\n  }\n}\nfunction noActionDefinedError(type, routeId) {\n  let article = type === \"clientAction\" ? \"a\" : \"an\";\n  let msg = `Route \"${routeId}\" does not have ${article} ${type}, but you are trying to submit to it. To fix this, please add ${article} \\`${type}\\` function to the route`;\n  console.error(msg);\n  throw new ErrorResponseImpl(405, \"Method Not Allowed\", new Error(msg), true);\n}\nfunction createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), needsRevalidation) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModulesCache[route.id];\n    function fetchServerHandler(singleFetch) {\n      invariant2(\n        typeof singleFetch === \"function\",\n        \"No single fetch function available for route handler\"\n      );\n      return singleFetch();\n    }\n    function fetchServerLoader(singleFetch) {\n      if (!route.hasLoader) return Promise.resolve(null);\n      return fetchServerHandler(singleFetch);\n    }\n    function fetchServerAction(singleFetch) {\n      if (!route.hasAction) {\n        throw noActionDefinedError(\"action\", route.id);\n      }\n      return fetchServerHandler(singleFetch);\n    }\n    function prefetchModule(modulePath) {\n      import(\n        /* @vite-ignore */\n        /* webpackIgnore: true */\n        modulePath\n      );\n    }\n    function prefetchRouteModuleChunks(route2) {\n      if (route2.clientActionModule) {\n        prefetchModule(route2.clientActionModule);\n      }\n      if (route2.clientLoaderModule) {\n        prefetchModule(route2.clientLoaderModule);\n      }\n    }\n    async function prefetchStylesAndCallHandler(handler) {\n      let cachedModule = routeModulesCache[route.id];\n      let linkPrefetchPromise = cachedModule ? prefetchStyleLinks(route, cachedModule) : Promise.resolve();\n      try {\n        return handler();\n      } finally {\n        await linkPrefetchPromise;\n      }\n    }\n    let dataRoute = {\n      id: route.id,\n      index: route.index,\n      path: route.path\n    };\n    if (routeModule) {\n      Object.assign(dataRoute, {\n        ...dataRoute,\n        ...getRouteComponents(route, routeModule, isSpaMode),\n        middleware: routeModule.clientMiddleware,\n        handle: routeModule.handle,\n        shouldRevalidate: getShouldRevalidateFunction(\n          dataRoute.path,\n          routeModule,\n          route,\n          ssr,\n          needsRevalidation\n        )\n      });\n      let hasInitialData = initialState && initialState.loaderData && route.id in initialState.loaderData;\n      let initialData = hasInitialData ? initialState?.loaderData?.[route.id] : void 0;\n      let hasInitialError = initialState && initialState.errors && route.id in initialState.errors;\n      let initialError = hasInitialError ? initialState?.errors?.[route.id] : void 0;\n      let isHydrationRequest = needsRevalidation == null && (routeModule.clientLoader?.hydrate === true || !route.hasLoader);\n      dataRoute.loader = async ({ request, params, context, unstable_pattern }, singleFetch) => {\n        try {\n          let result = await prefetchStylesAndCallHandler(async () => {\n            invariant2(\n              routeModule,\n              \"No `routeModule` available for critical-route loader\"\n            );\n            if (!routeModule.clientLoader) {\n              return fetchServerLoader(singleFetch);\n            }\n            return routeModule.clientLoader({\n              request,\n              params,\n              context,\n              unstable_pattern,\n              async serverLoader() {\n                preventInvalidServerHandlerCall(\"loader\", route);\n                if (isHydrationRequest) {\n                  if (hasInitialData) {\n                    return initialData;\n                  }\n                  if (hasInitialError) {\n                    throw initialError;\n                  }\n                }\n                return fetchServerLoader(singleFetch);\n              }\n            });\n          });\n          return result;\n        } finally {\n          isHydrationRequest = false;\n        }\n      };\n      dataRoute.loader.hydrate = shouldHydrateRouteLoader(\n        route.id,\n        routeModule.clientLoader,\n        route.hasLoader,\n        isSpaMode\n      );\n      dataRoute.action = ({ request, params, context, unstable_pattern }, singleFetch) => {\n        return prefetchStylesAndCallHandler(async () => {\n          invariant2(\n            routeModule,\n            \"No `routeModule` available for critical-route action\"\n          );\n          if (!routeModule.clientAction) {\n            if (isSpaMode) {\n              throw noActionDefinedError(\"clientAction\", route.id);\n            }\n            return fetchServerAction(singleFetch);\n          }\n          return routeModule.clientAction({\n            request,\n            params,\n            context,\n            unstable_pattern,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        });\n      };\n    } else {\n      if (!route.hasClientLoader) {\n        dataRoute.loader = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          return fetchServerLoader(singleFetch);\n        });\n      }\n      if (!route.hasClientAction) {\n        dataRoute.action = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          if (isSpaMode) {\n            throw noActionDefinedError(\"clientAction\", route.id);\n          }\n          return fetchServerAction(singleFetch);\n        });\n      }\n      let lazyRoutePromise;\n      async function getLazyRoute() {\n        if (lazyRoutePromise) {\n          return await lazyRoutePromise;\n        }\n        lazyRoutePromise = (async () => {\n          if (route.clientLoaderModule || route.clientActionModule) {\n            await new Promise((resolve) => setTimeout(resolve, 0));\n          }\n          let routeModulePromise = loadRouteModuleWithBlockingLinks(\n            route,\n            routeModulesCache\n          );\n          prefetchRouteModuleChunks(route);\n          return await routeModulePromise;\n        })();\n        return await lazyRoutePromise;\n      }\n      dataRoute.lazy = {\n        loader: route.hasClientLoader ? async () => {\n          let { clientLoader } = route.clientLoaderModule ? await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientLoaderModule\n          ) : await getLazyRoute();\n          invariant2(clientLoader, \"No `clientLoader` export found\");\n          return (args, singleFetch) => clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        } : void 0,\n        action: route.hasClientAction ? async () => {\n          let clientActionPromise = route.clientActionModule ? import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientActionModule\n          ) : getLazyRoute();\n          prefetchRouteModuleChunks(route);\n          let { clientAction } = await clientActionPromise;\n          invariant2(clientAction, \"No `clientAction` export found\");\n          return (args, singleFetch) => clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        } : void 0,\n        middleware: route.hasClientMiddleware ? async () => {\n          let { clientMiddleware } = route.clientMiddlewareModule ? await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientMiddlewareModule\n          ) : await getLazyRoute();\n          invariant2(clientMiddleware, \"No `clientMiddleware` export found\");\n          return clientMiddleware;\n        } : void 0,\n        shouldRevalidate: async () => {\n          let lazyRoute = await getLazyRoute();\n          return getShouldRevalidateFunction(\n            dataRoute.path,\n            lazyRoute,\n            route,\n            ssr,\n            needsRevalidation\n          );\n        },\n        handle: async () => (await getLazyRoute()).handle,\n        // No need to wrap these in layout since the root route is never\n        // loaded via route.lazy()\n        Component: async () => (await getLazyRoute()).Component,\n        ErrorBoundary: route.hasErrorBoundary ? async () => (await getLazyRoute()).ErrorBoundary : void 0\n      };\n    }\n    let children = createClientRoutes(\n      manifest,\n      routeModulesCache,\n      initialState,\n      ssr,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      needsRevalidation\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction getShouldRevalidateFunction(path, route, manifestRoute, ssr, needsRevalidation) {\n  if (needsRevalidation) {\n    return wrapShouldRevalidateForHdr(\n      manifestRoute.id,\n      route.shouldRevalidate,\n      needsRevalidation\n    );\n  }\n  if (!ssr && manifestRoute.hasLoader && !manifestRoute.hasClientLoader) {\n    let myParams = path ? compilePath(path)[1].map((p) => p.paramName) : [];\n    const didParamsChange = (opts) => myParams.some((p) => opts.currentParams[p] !== opts.nextParams[p]);\n    if (route.shouldRevalidate) {\n      let fn = route.shouldRevalidate;\n      return (opts) => fn({\n        ...opts,\n        defaultShouldRevalidate: didParamsChange(opts)\n      });\n    } else {\n      return (opts) => didParamsChange(opts);\n    }\n  }\n  return route.shouldRevalidate;\n}\nfunction wrapShouldRevalidateForHdr(routeId, routeShouldRevalidate, needsRevalidation) {\n  let handledRevalidation = false;\n  return (arg) => {\n    if (!handledRevalidation) {\n      handledRevalidation = true;\n      return needsRevalidation.has(routeId);\n    }\n    return routeShouldRevalidate ? routeShouldRevalidate(arg) : arg.defaultShouldRevalidate;\n  };\n}\nasync function loadRouteModuleWithBlockingLinks(route, routeModules) {\n  let routeModulePromise = loadRouteModule(route, routeModules);\n  let prefetchRouteCssPromise = prefetchRouteCss(route);\n  let routeModule = await routeModulePromise;\n  await Promise.all([\n    prefetchRouteCssPromise,\n    prefetchStyleLinks(route, routeModule)\n  ]);\n  return {\n    Component: getRouteModuleComponent(routeModule),\n    ErrorBoundary: routeModule.ErrorBoundary,\n    clientMiddleware: routeModule.clientMiddleware,\n    clientAction: routeModule.clientAction,\n    clientLoader: routeModule.clientLoader,\n    handle: routeModule.handle,\n    links: routeModule.links,\n    meta: routeModule.meta,\n    shouldRevalidate: routeModule.shouldRevalidate\n  };\n}\nfunction getRouteModuleComponent(routeModule) {\n  if (routeModule.default == null) return void 0;\n  let isEmptyObject = typeof routeModule.default === \"object\" && Object.keys(routeModule.default).length === 0;\n  if (!isEmptyObject) {\n    return routeModule.default;\n  }\n}\nfunction shouldHydrateRouteLoader(routeId, clientLoader, hasLoader, isSpaMode) {\n  return isSpaMode && routeId !== \"root\" || clientLoader != null && (clientLoader.hydrate === true || hasLoader !== true);\n}\n\n// lib/dom/ssr/fog-of-war.ts\nvar nextPaths = /* @__PURE__ */ new Set();\nvar discoveredPathsMaxSize = 1e3;\nvar discoveredPaths = /* @__PURE__ */ new Set();\nvar URL_LIMIT = 7680;\nfunction isFogOfWarEnabled(routeDiscovery, ssr) {\n  return routeDiscovery.mode === \"lazy\" && ssr === true;\n}\nfunction getPartialManifest({ sri, ...manifest }, router) {\n  let routeIds = new Set(router.state.matches.map((m) => m.route.id));\n  let segments = router.state.location.pathname.split(\"/\").filter(Boolean);\n  let paths = [\"/\"];\n  segments.pop();\n  while (segments.length > 0) {\n    paths.push(`/${segments.join(\"/\")}`);\n    segments.pop();\n  }\n  paths.forEach((path) => {\n    let matches = matchRoutes(router.routes, path, router.basename);\n    if (matches) {\n      matches.forEach((m) => routeIds.add(m.route.id));\n    }\n  });\n  let initialRoutes = [...routeIds].reduce(\n    (acc, id) => Object.assign(acc, { [id]: manifest.routes[id] }),\n    {}\n  );\n  return {\n    ...manifest,\n    routes: initialRoutes,\n    sri: sri ? true : void 0\n  };\n}\nfunction getPatchRoutesOnNavigationFunction(manifest, routeModules, ssr, routeDiscovery, isSpaMode, basename) {\n  if (!isFogOfWarEnabled(routeDiscovery, ssr)) {\n    return void 0;\n  }\n  return async ({ path, patch, signal, fetcherKey }) => {\n    if (discoveredPaths.has(path)) {\n      return;\n    }\n    await fetchAndApplyManifestPatches(\n      [path],\n      fetcherKey ? window.location.href : path,\n      manifest,\n      routeModules,\n      ssr,\n      isSpaMode,\n      basename,\n      routeDiscovery.manifestPath,\n      patch,\n      signal\n    );\n  };\n}\nfunction useFogOFWarDiscovery(router, manifest, routeModules, ssr, routeDiscovery, isSpaMode) {\n  React7.useEffect(() => {\n    if (!isFogOfWarEnabled(routeDiscovery, ssr) || // @ts-expect-error - TS doesn't know about this yet\n    window.navigator?.connection?.saveData === true) {\n      return;\n    }\n    function registerElement(el) {\n      let path = el.tagName === \"FORM\" ? el.getAttribute(\"action\") : el.getAttribute(\"href\");\n      if (!path) {\n        return;\n      }\n      let pathname = el.tagName === \"A\" ? el.pathname : new URL(path, window.location.origin).pathname;\n      if (!discoveredPaths.has(pathname)) {\n        nextPaths.add(pathname);\n      }\n    }\n    async function fetchPatches() {\n      document.querySelectorAll(\"a[data-discover], form[data-discover]\").forEach(registerElement);\n      let lazyPaths = Array.from(nextPaths.keys()).filter((path) => {\n        if (discoveredPaths.has(path)) {\n          nextPaths.delete(path);\n          return false;\n        }\n        return true;\n      });\n      if (lazyPaths.length === 0) {\n        return;\n      }\n      try {\n        await fetchAndApplyManifestPatches(\n          lazyPaths,\n          null,\n          manifest,\n          routeModules,\n          ssr,\n          isSpaMode,\n          router.basename,\n          routeDiscovery.manifestPath,\n          router.patchRoutes\n        );\n      } catch (e) {\n        console.error(\"Failed to fetch manifest patches\", e);\n      }\n    }\n    let debouncedFetchPatches = debounce(fetchPatches, 100);\n    fetchPatches();\n    let observer = new MutationObserver(() => debouncedFetchPatches());\n    observer.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"data-discover\", \"href\", \"action\"]\n    });\n    return () => observer.disconnect();\n  }, [ssr, isSpaMode, manifest, routeModules, router, routeDiscovery]);\n}\nfunction getManifestPath(_manifestPath, basename) {\n  let manifestPath = _manifestPath || \"/__manifest\";\n  if (basename == null) {\n    return manifestPath;\n  }\n  return `${basename}${manifestPath}`.replace(/\\/+/g, \"/\");\n}\nvar MANIFEST_VERSION_STORAGE_KEY = \"react-router-manifest-version\";\nasync function fetchAndApplyManifestPatches(paths, errorReloadPath, manifest, routeModules, ssr, isSpaMode, basename, manifestPath, patchRoutes, signal) {\n  const searchParams = new URLSearchParams();\n  searchParams.set(\"paths\", paths.sort().join(\",\"));\n  searchParams.set(\"version\", manifest.version);\n  let url = new URL(\n    getManifestPath(manifestPath, basename),\n    window.location.origin\n  );\n  url.search = searchParams.toString();\n  if (url.toString().length > URL_LIMIT) {\n    nextPaths.clear();\n    return;\n  }\n  let serverPatches;\n  try {\n    let res = await fetch(url, { signal });\n    if (!res.ok) {\n      throw new Error(`${res.status} ${res.statusText}`);\n    } else if (res.status === 204 && res.headers.has(\"X-Remix-Reload-Document\")) {\n      if (!errorReloadPath) {\n        console.warn(\n          \"Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.\"\n        );\n        return;\n      }\n      try {\n        if (sessionStorage.getItem(MANIFEST_VERSION_STORAGE_KEY) === manifest.version) {\n          console.error(\n            \"Unable to discover routes due to manifest version mismatch.\"\n          );\n          return;\n        }\n        sessionStorage.setItem(MANIFEST_VERSION_STORAGE_KEY, manifest.version);\n      } catch {\n      }\n      window.location.href = errorReloadPath;\n      console.warn(\"Detected manifest version mismatch, reloading...\");\n      await new Promise(() => {\n      });\n    } else if (res.status >= 400) {\n      throw new Error(await res.text());\n    }\n    try {\n      sessionStorage.removeItem(MANIFEST_VERSION_STORAGE_KEY);\n    } catch {\n    }\n    serverPatches = await res.json();\n  } catch (e) {\n    if (signal?.aborted) return;\n    throw e;\n  }\n  let knownRoutes = new Set(Object.keys(manifest.routes));\n  let patches = Object.values(serverPatches).reduce((acc, route) => {\n    if (route && !knownRoutes.has(route.id)) {\n      acc[route.id] = route;\n    }\n    return acc;\n  }, {});\n  Object.assign(manifest.routes, patches);\n  paths.forEach((p) => addToFifoQueue(p, discoveredPaths));\n  let parentIds = /* @__PURE__ */ new Set();\n  Object.values(patches).forEach((patch) => {\n    if (patch && (!patch.parentId || !patches[patch.parentId])) {\n      parentIds.add(patch.parentId);\n    }\n  });\n  parentIds.forEach(\n    (parentId) => patchRoutes(\n      parentId || null,\n      createClientRoutes(patches, routeModules, null, ssr, isSpaMode, parentId)\n    )\n  );\n}\nfunction addToFifoQueue(path, queue) {\n  if (queue.size >= discoveredPathsMaxSize) {\n    let first = queue.values().next().value;\n    queue.delete(first);\n  }\n  queue.add(path);\n}\nfunction debounce(callback, wait) {\n  let timeoutId;\n  return (...args) => {\n    window.clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(() => callback(...args), wait);\n  };\n}\n\n// lib/dom/ssr/components.tsx\nfunction useDataRouterContext2() {\n  let context = React8.useContext(DataRouterContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterContext.Provider> element\"\n  );\n  return context;\n}\nfunction useDataRouterStateContext() {\n  let context = React8.useContext(DataRouterStateContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterStateContext.Provider> element\"\n  );\n  return context;\n}\nvar FrameworkContext = React8.createContext(void 0);\nFrameworkContext.displayName = \"FrameworkContext\";\nfunction useFrameworkContext() {\n  let context = React8.useContext(FrameworkContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <HydratedRouter> element\"\n  );\n  return context;\n}\nfunction usePrefetchBehavior(prefetch, theirElementProps) {\n  let frameworkContext = React8.useContext(FrameworkContext);\n  let [maybePrefetch, setMaybePrefetch] = React8.useState(false);\n  let [shouldPrefetch, setShouldPrefetch] = React8.useState(false);\n  let { onFocus, onBlur, onMouseEnter, onMouseLeave, onTouchStart } = theirElementProps;\n  let ref = React8.useRef(null);\n  React8.useEffect(() => {\n    if (prefetch === \"render\") {\n      setShouldPrefetch(true);\n    }\n    if (prefetch === \"viewport\") {\n      let callback = (entries) => {\n        entries.forEach((entry) => {\n          setShouldPrefetch(entry.isIntersecting);\n        });\n      };\n      let observer = new IntersectionObserver(callback, { threshold: 0.5 });\n      if (ref.current) observer.observe(ref.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [prefetch]);\n  React8.useEffect(() => {\n    if (maybePrefetch) {\n      let id = setTimeout(() => {\n        setShouldPrefetch(true);\n      }, 100);\n      return () => {\n        clearTimeout(id);\n      };\n    }\n  }, [maybePrefetch]);\n  let setIntent = () => {\n    setMaybePrefetch(true);\n  };\n  let cancelIntent = () => {\n    setMaybePrefetch(false);\n    setShouldPrefetch(false);\n  };\n  if (!frameworkContext) {\n    return [false, ref, {}];\n  }\n  if (prefetch !== \"intent\") {\n    return [shouldPrefetch, ref, {}];\n  }\n  return [\n    shouldPrefetch,\n    ref,\n    {\n      onFocus: composeEventHandlers(onFocus, setIntent),\n      onBlur: composeEventHandlers(onBlur, cancelIntent),\n      onMouseEnter: composeEventHandlers(onMouseEnter, setIntent),\n      onMouseLeave: composeEventHandlers(onMouseLeave, cancelIntent),\n      onTouchStart: composeEventHandlers(onTouchStart, setIntent)\n    }\n  ];\n}\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return (event) => {\n    theirHandler && theirHandler(event);\n    if (!event.defaultPrevented) {\n      ourHandler(event);\n    }\n  };\n}\nfunction getActiveMatches(matches, errors, isSpaMode) {\n  if (isSpaMode && !isHydrated) {\n    return [matches[0]];\n  }\n  if (errors) {\n    let errorIdx = matches.findIndex((m) => errors[m.route.id] !== void 0);\n    return matches.slice(0, errorIdx + 1);\n  }\n  return matches;\n}\nvar CRITICAL_CSS_DATA_ATTRIBUTE = \"data-react-router-critical-css\";\nfunction Links({ nonce }) {\n  let { isSpaMode, manifest, routeModules, criticalCss } = useFrameworkContext();\n  let { errors, matches: routerMatches } = useDataRouterStateContext();\n  let matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let keyedLinks = React8.useMemo(\n    () => getKeyedLinksForMatches(matches, routeModules, manifest),\n    [matches, routeModules, manifest]\n  );\n  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, typeof criticalCss === \"string\" ? /* @__PURE__ */ React8.createElement(\n    \"style\",\n    {\n      ...{ [CRITICAL_CSS_DATA_ATTRIBUTE]: \"\" },\n      dangerouslySetInnerHTML: { __html: criticalCss }\n    }\n  ) : null, typeof criticalCss === \"object\" ? /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      ...{ [CRITICAL_CSS_DATA_ATTRIBUTE]: \"\" },\n      rel: \"stylesheet\",\n      href: criticalCss.href,\n      nonce\n    }\n  ) : null, keyedLinks.map(\n    ({ key, link }) => isPageLinkDescriptor(link) ? /* @__PURE__ */ React8.createElement(PrefetchPageLinks, { key, nonce, ...link }) : /* @__PURE__ */ React8.createElement(\"link\", { key, nonce, ...link })\n  ));\n}\nfunction PrefetchPageLinks({ page, ...linkProps }) {\n  let { router } = useDataRouterContext2();\n  let matches = React8.useMemo(\n    () => matchRoutes(router.routes, page, router.basename),\n    [router.routes, page, router.basename]\n  );\n  if (!matches) {\n    return null;\n  }\n  return /* @__PURE__ */ React8.createElement(PrefetchPageLinksImpl, { page, matches, ...linkProps });\n}\nfunction useKeyedPrefetchLinks(matches) {\n  let { manifest, routeModules } = useFrameworkContext();\n  let [keyedPrefetchLinks, setKeyedPrefetchLinks] = React8.useState([]);\n  React8.useEffect(() => {\n    let interrupted = false;\n    void getKeyedPrefetchLinks(matches, manifest, routeModules).then(\n      (links) => {\n        if (!interrupted) {\n          setKeyedPrefetchLinks(links);\n        }\n      }\n    );\n    return () => {\n      interrupted = true;\n    };\n  }, [matches, manifest, routeModules]);\n  return keyedPrefetchLinks;\n}\nfunction PrefetchPageLinksImpl({\n  page,\n  matches: nextMatches,\n  ...linkProps\n}) {\n  let location = useLocation();\n  let { future, manifest, routeModules } = useFrameworkContext();\n  let { basename } = useDataRouterContext2();\n  let { loaderData, matches } = useDataRouterStateContext();\n  let newMatchesForData = React8.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"data\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let newMatchesForAssets = React8.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"assets\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let dataHrefs = React8.useMemo(() => {\n    if (page === location.pathname + location.search + location.hash) {\n      return [];\n    }\n    let routesParams = /* @__PURE__ */ new Set();\n    let foundOptOutRoute = false;\n    nextMatches.forEach((m) => {\n      let manifestRoute = manifest.routes[m.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return;\n      }\n      if (!newMatchesForData.some((m2) => m2.route.id === m.route.id) && m.route.id in loaderData && routeModules[m.route.id]?.shouldRevalidate) {\n        foundOptOutRoute = true;\n      } else if (manifestRoute.hasClientLoader) {\n        foundOptOutRoute = true;\n      } else {\n        routesParams.add(m.route.id);\n      }\n    });\n    if (routesParams.size === 0) {\n      return [];\n    }\n    let url = singleFetchUrl(\n      page,\n      basename,\n      future.unstable_trailingSlashAwareDataRequests,\n      \"data\"\n    );\n    if (foundOptOutRoute && routesParams.size > 0) {\n      url.searchParams.set(\n        \"_routes\",\n        nextMatches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n      );\n    }\n    return [url.pathname + url.search];\n  }, [\n    basename,\n    future.unstable_trailingSlashAwareDataRequests,\n    loaderData,\n    location,\n    manifest,\n    newMatchesForData,\n    nextMatches,\n    page,\n    routeModules\n  ]);\n  let moduleHrefs = React8.useMemo(\n    () => getModuleLinkHrefs(newMatchesForAssets, manifest),\n    [newMatchesForAssets, manifest]\n  );\n  let keyedPrefetchLinks = useKeyedPrefetchLinks(newMatchesForAssets);\n  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, dataHrefs.map((href) => /* @__PURE__ */ React8.createElement(\"link\", { key: href, rel: \"prefetch\", as: \"fetch\", href, ...linkProps })), moduleHrefs.map((href) => /* @__PURE__ */ React8.createElement(\"link\", { key: href, rel: \"modulepreload\", href, ...linkProps })), keyedPrefetchLinks.map(({ key, link }) => (\n    // these don't spread `linkProps` because they are full link descriptors\n    // already with their own props\n    /* @__PURE__ */ React8.createElement(\"link\", { key, nonce: linkProps.nonce, ...link })\n  )));\n}\nfunction Meta() {\n  let { isSpaMode, routeModules } = useFrameworkContext();\n  let {\n    errors,\n    matches: routerMatches,\n    loaderData\n  } = useDataRouterStateContext();\n  let location = useLocation();\n  let _matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let error = null;\n  if (errors) {\n    error = errors[_matches[_matches.length - 1].route.id];\n  }\n  let meta = [];\n  let leafMeta = null;\n  let matches = [];\n  for (let i = 0; i < _matches.length; i++) {\n    let _match = _matches[i];\n    let routeId = _match.route.id;\n    let data2 = loaderData[routeId];\n    let params = _match.params;\n    let routeModule = routeModules[routeId];\n    let routeMeta = [];\n    let match = {\n      id: routeId,\n      data: data2,\n      loaderData: data2,\n      meta: [],\n      params: _match.params,\n      pathname: _match.pathname,\n      handle: _match.route.handle,\n      error\n    };\n    matches[i] = match;\n    if (routeModule?.meta) {\n      routeMeta = typeof routeModule.meta === \"function\" ? routeModule.meta({\n        data: data2,\n        loaderData: data2,\n        params,\n        location,\n        matches,\n        error\n      }) : Array.isArray(routeModule.meta) ? [...routeModule.meta] : routeModule.meta;\n    } else if (leafMeta) {\n      routeMeta = [...leafMeta];\n    }\n    routeMeta = routeMeta || [];\n    if (!Array.isArray(routeMeta)) {\n      throw new Error(\n        \"The route at \" + _match.route.path + \" returns an invalid value. All route meta functions must return an array of meta objects.\\n\\nTo reference the meta function API, see https://remix.run/route/meta\"\n      );\n    }\n    match.meta = routeMeta;\n    matches[i] = match;\n    meta = [...routeMeta];\n    leafMeta = meta;\n  }\n  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, meta.flat().map((metaProps) => {\n    if (!metaProps) {\n      return null;\n    }\n    if (\"tagName\" in metaProps) {\n      let { tagName, ...rest } = metaProps;\n      if (!isValidMetaTag(tagName)) {\n        console.warn(\n          `A meta object uses an invalid tagName: ${tagName}. Expected either 'link' or 'meta'`\n        );\n        return null;\n      }\n      let Comp = tagName;\n      return /* @__PURE__ */ React8.createElement(Comp, { key: JSON.stringify(rest), ...rest });\n    }\n    if (\"title\" in metaProps) {\n      return /* @__PURE__ */ React8.createElement(\"title\", { key: \"title\" }, String(metaProps.title));\n    }\n    if (\"charset\" in metaProps) {\n      metaProps.charSet ?? (metaProps.charSet = metaProps.charset);\n      delete metaProps.charset;\n    }\n    if (\"charSet\" in metaProps && metaProps.charSet != null) {\n      return typeof metaProps.charSet === \"string\" ? /* @__PURE__ */ React8.createElement(\"meta\", { key: \"charSet\", charSet: metaProps.charSet }) : null;\n    }\n    if (\"script:ld+json\" in metaProps) {\n      try {\n        let json = JSON.stringify(metaProps[\"script:ld+json\"]);\n        return /* @__PURE__ */ React8.createElement(\n          \"script\",\n          {\n            key: `script:ld+json:${json}`,\n            type: \"application/ld+json\",\n            dangerouslySetInnerHTML: { __html: escapeHtml(json) }\n          }\n        );\n      } catch (err) {\n        return null;\n      }\n    }\n    return /* @__PURE__ */ React8.createElement(\"meta\", { key: JSON.stringify(metaProps), ...metaProps });\n  }));\n}\nfunction isValidMetaTag(tagName) {\n  return typeof tagName === \"string\" && /^(meta|link)$/.test(tagName);\n}\nvar isHydrated = false;\nfunction setIsHydrated() {\n  isHydrated = true;\n}\nfunction Scripts(scriptProps) {\n  let {\n    manifest,\n    serverHandoffString,\n    isSpaMode,\n    renderMeta,\n    routeDiscovery,\n    ssr\n  } = useFrameworkContext();\n  let { router, static: isStatic, staticContext } = useDataRouterContext2();\n  let { matches: routerMatches } = useDataRouterStateContext();\n  let isRSCRouterContext = useIsRSCRouterContext();\n  let enableFogOfWar = isFogOfWarEnabled(routeDiscovery, ssr);\n  if (renderMeta) {\n    renderMeta.didRenderScripts = true;\n  }\n  let matches = getActiveMatches(routerMatches, null, isSpaMode);\n  React8.useEffect(() => {\n    setIsHydrated();\n  }, []);\n  let initialScripts = React8.useMemo(() => {\n    if (isRSCRouterContext) {\n      return null;\n    }\n    let streamScript = \"window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());\";\n    let contextScript = staticContext ? `window.__reactRouterContext = ${serverHandoffString};${streamScript}` : \" \";\n    let routeModulesScript = !isStatic ? \" \" : `${manifest.hmr?.runtime ? `import ${JSON.stringify(manifest.hmr.runtime)};` : \"\"}${!enableFogOfWar ? `import ${JSON.stringify(manifest.url)}` : \"\"};\n${matches.map((match, routeIndex) => {\n      let routeVarName = `route${routeIndex}`;\n      let manifestEntry = manifest.routes[match.route.id];\n      invariant2(manifestEntry, `Route ${match.route.id} not found in manifest`);\n      let {\n        clientActionModule,\n        clientLoaderModule,\n        clientMiddlewareModule,\n        hydrateFallbackModule,\n        module\n      } = manifestEntry;\n      let chunks = [\n        ...clientActionModule ? [\n          {\n            module: clientActionModule,\n            varName: `${routeVarName}_clientAction`\n          }\n        ] : [],\n        ...clientLoaderModule ? [\n          {\n            module: clientLoaderModule,\n            varName: `${routeVarName}_clientLoader`\n          }\n        ] : [],\n        ...clientMiddlewareModule ? [\n          {\n            module: clientMiddlewareModule,\n            varName: `${routeVarName}_clientMiddleware`\n          }\n        ] : [],\n        ...hydrateFallbackModule ? [\n          {\n            module: hydrateFallbackModule,\n            varName: `${routeVarName}_HydrateFallback`\n          }\n        ] : [],\n        { module, varName: `${routeVarName}_main` }\n      ];\n      if (chunks.length === 1) {\n        return `import * as ${routeVarName} from ${JSON.stringify(module)};`;\n      }\n      let chunkImportsSnippet = chunks.map((chunk) => `import * as ${chunk.varName} from \"${chunk.module}\";`).join(\"\\n\");\n      let mergedChunksSnippet = `const ${routeVarName} = {${chunks.map((chunk) => `...${chunk.varName}`).join(\",\")}};`;\n      return [chunkImportsSnippet, mergedChunksSnippet].join(\"\\n\");\n    }).join(\"\\n\")}\n  ${enableFogOfWar ? (\n      // Inline a minimal manifest with the SSR matches\n      `window.__reactRouterManifest = ${JSON.stringify(\n        getPartialManifest(manifest, router),\n        null,\n        2\n      )};`\n    ) : \"\"}\n  window.__reactRouterRouteModules = {${matches.map((match, index) => `${JSON.stringify(match.route.id)}:route${index}`).join(\",\")}};\n\nimport(${JSON.stringify(manifest.entry.module)});`;\n    return /* @__PURE__ */ React8.createElement(React8.Fragment, null, /* @__PURE__ */ React8.createElement(\n      \"script\",\n      {\n        ...scriptProps,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: { __html: contextScript },\n        type: void 0\n      }\n    ), /* @__PURE__ */ React8.createElement(\n      \"script\",\n      {\n        ...scriptProps,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: { __html: routeModulesScript },\n        type: \"module\",\n        async: true\n      }\n    ));\n  }, []);\n  let preloads = isHydrated || isRSCRouterContext ? [] : dedupe(\n    manifest.entry.imports.concat(\n      getModuleLinkHrefs(matches, manifest, {\n        includeHydrateFallback: true\n      })\n    )\n  );\n  let sri = typeof manifest.sri === \"object\" ? manifest.sri : {};\n  warnOnce(\n    !isRSCRouterContext,\n    \"The <Scripts /> element is a no-op when using RSC and can be safely removed.\"\n  );\n  return isHydrated || isRSCRouterContext ? null : /* @__PURE__ */ React8.createElement(React8.Fragment, null, typeof manifest.sri === \"object\" ? /* @__PURE__ */ React8.createElement(\n    \"script\",\n    {\n      ...scriptProps,\n      \"rr-importmap\": \"\",\n      type: \"importmap\",\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: JSON.stringify({\n          integrity: sri\n        })\n      }\n    }\n  ) : null, !enableFogOfWar ? /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.url,\n      crossOrigin: scriptProps.crossOrigin,\n      integrity: sri[manifest.url],\n      suppressHydrationWarning: true\n    }\n  ) : null, /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.entry.module,\n      crossOrigin: scriptProps.crossOrigin,\n      integrity: sri[manifest.entry.module],\n      suppressHydrationWarning: true\n    }\n  ), preloads.map((path) => /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      key: path,\n      rel: \"modulepreload\",\n      href: path,\n      crossOrigin: scriptProps.crossOrigin,\n      integrity: sri[path],\n      suppressHydrationWarning: true\n    }\n  )), initialScripts);\n}\nfunction dedupe(array) {\n  return [...new Set(array)];\n}\nfunction mergeRefs(...refs) {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\n// lib/dom/ssr/errorBoundaries.tsx\nvar RemixErrorBoundary = class extends React9.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: props.error || null, location: props.location };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location) {\n      return { error: props.error || null, location: props.location };\n    }\n    return { error: props.error || state.error, location: state.location };\n  }\n  render() {\n    if (this.state.error) {\n      return /* @__PURE__ */ React9.createElement(\n        RemixRootDefaultErrorBoundary,\n        {\n          error: this.state.error,\n          isOutsideRemixApp: true\n        }\n      );\n    } else {\n      return this.props.children;\n    }\n  }\n};\nfunction RemixRootDefaultErrorBoundary({\n  error,\n  isOutsideRemixApp\n}) {\n  console.error(error);\n  let heyDeveloper = /* @__PURE__ */ React9.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n        console.log(\n          \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information.\"\n        );\n      `\n      }\n    }\n  );\n  if (isRouteErrorResponse(error)) {\n    return /* @__PURE__ */ React9.createElement(BoundaryShell, { title: \"Unhandled Thrown Response!\" }, /* @__PURE__ */ React9.createElement(\"h1\", { style: { fontSize: \"24px\" } }, error.status, \" \", error.statusText), ENABLE_DEV_WARNINGS ? heyDeveloper : null);\n  }\n  let errorInstance;\n  if (error instanceof Error) {\n    errorInstance = error;\n  } else {\n    let errorString = error == null ? \"Unknown Error\" : typeof error === \"object\" && \"toString\" in error ? error.toString() : JSON.stringify(error);\n    errorInstance = new Error(errorString);\n  }\n  return /* @__PURE__ */ React9.createElement(\n    BoundaryShell,\n    {\n      title: \"Application Error!\",\n      isOutsideRemixApp\n    },\n    /* @__PURE__ */ React9.createElement(\"h1\", { style: { fontSize: \"24px\" } }, \"Application Error\"),\n    /* @__PURE__ */ React9.createElement(\n      \"pre\",\n      {\n        style: {\n          padding: \"2rem\",\n          background: \"hsla(10, 50%, 50%, 0.1)\",\n          color: \"red\",\n          overflow: \"auto\"\n        }\n      },\n      errorInstance.stack\n    ),\n    heyDeveloper\n  );\n}\nfunction BoundaryShell({\n  title,\n  renderScripts,\n  isOutsideRemixApp,\n  children\n}) {\n  let { routeModules } = useFrameworkContext();\n  if (routeModules.root?.Layout && !isOutsideRemixApp) {\n    return children;\n  }\n  return /* @__PURE__ */ React9.createElement(\"html\", { lang: \"en\" }, /* @__PURE__ */ React9.createElement(\"head\", null, /* @__PURE__ */ React9.createElement(\"meta\", { charSet: \"utf-8\" }), /* @__PURE__ */ React9.createElement(\n    \"meta\",\n    {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1,viewport-fit=cover\"\n    }\n  ), /* @__PURE__ */ React9.createElement(\"title\", null, title)), /* @__PURE__ */ React9.createElement(\"body\", null, /* @__PURE__ */ React9.createElement(\"main\", { style: { fontFamily: \"system-ui, sans-serif\", padding: \"2rem\" } }, children, renderScripts ? /* @__PURE__ */ React9.createElement(Scripts, null) : null)));\n}\n\n// lib/dom/lib.tsx\nimport * as React10 from \"react\";\nvar isBrowser2 = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\ntry {\n  if (isBrowser2) {\n    window.__reactRouterVersion = // @ts-expect-error\n    \"7.12.0\";\n  }\n} catch (e) {\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    getContext: opts?.getContext,\n    future: opts?.future,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    hydrationRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window,\n    unstable_instrumentations: opts?.unstable_instrumentations\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    getContext: opts?.getContext,\n    future: opts?.future,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    hydrationRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window,\n    unstable_instrumentations: opts?.unstable_instrumentations\n  }).initialize();\n}\nfunction parseHydrationData() {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors)\n    };\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction BrowserRouter({\n  basename,\n  children,\n  unstable_useTransitions,\n  window: window2\n}) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      if (unstable_useTransitions === false) {\n        setStateImpl(newState);\n      } else {\n        React10.startTransition(() => setStateImpl(newState));\n      }\n    },\n    [unstable_useTransitions]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history,\n      unstable_useTransitions\n    }\n  );\n}\nfunction HashRouter({\n  basename,\n  children,\n  unstable_useTransitions,\n  window: window2\n}) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      if (unstable_useTransitions === false) {\n        setStateImpl(newState);\n      } else {\n        React10.startTransition(() => setStateImpl(newState));\n      }\n    },\n    [unstable_useTransitions]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history,\n      unstable_useTransitions\n    }\n  );\n}\nfunction HistoryRouter({\n  basename,\n  children,\n  history,\n  unstable_useTransitions\n}) {\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      if (unstable_useTransitions === false) {\n        setStateImpl(newState);\n      } else {\n        React10.startTransition(() => setStateImpl(newState));\n      }\n    },\n    [unstable_useTransitions]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history,\n      unstable_useTransitions\n    }\n  );\n}\nHistoryRouter.displayName = \"unstable_HistoryRouter\";\nvar ABSOLUTE_URL_REGEX2 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar Link = React10.forwardRef(\n  function LinkWithRef({\n    onClick,\n    discover = \"render\",\n    prefetch = \"none\",\n    relative,\n    reloadDocument,\n    replace: replace2,\n    state,\n    target,\n    to,\n    preventScrollReset,\n    viewTransition,\n    unstable_defaultShouldRevalidate,\n    ...rest\n  }, forwardedRef) {\n    let { basename, unstable_useTransitions } = React10.useContext(NavigationContext);\n    let isAbsolute = typeof to === \"string\" && ABSOLUTE_URL_REGEX2.test(to);\n    let parsed = parseToInfo(to, basename);\n    to = parsed.to;\n    let href = useHref(to, { relative });\n    let [shouldPrefetch, prefetchRef, prefetchHandlers] = usePrefetchBehavior(\n      prefetch,\n      rest\n    );\n    let internalOnClick = useLinkClickHandler(to, {\n      replace: replace2,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n      viewTransition,\n      unstable_defaultShouldRevalidate,\n      unstable_useTransitions\n    });\n    function handleClick(event) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n    let link = (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      /* @__PURE__ */ React10.createElement(\n        \"a\",\n        {\n          ...rest,\n          ...prefetchHandlers,\n          href: parsed.absoluteURL || href,\n          onClick: parsed.isExternal || reloadDocument ? onClick : handleClick,\n          ref: mergeRefs(forwardedRef, prefetchRef),\n          target,\n          \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n        }\n      )\n    );\n    return shouldPrefetch && !isAbsolute ? /* @__PURE__ */ React10.createElement(React10.Fragment, null, link, /* @__PURE__ */ React10.createElement(PrefetchPageLinks, { page: href })) : link;\n  }\n);\nLink.displayName = \"Link\";\nvar NavLink = React10.forwardRef(\n  function NavLinkWithRef({\n    \"aria-current\": ariaCurrentProp = \"page\",\n    caseSensitive = false,\n    className: classNameProp = \"\",\n    end = false,\n    style: styleProp,\n    to,\n    viewTransition,\n    children,\n    ...rest\n  }, ref) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React10.useContext(DataRouterStateContext);\n    let { navigator, basename } = React10.useContext(NavigationContext);\n    let isTransitioning = routerState != null && // Conditional usage is OK here because the usage of a data router is static\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useViewTransitionState(path) && viewTransition === true;\n    let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n      toPathname = toPathname.toLowerCase();\n    }\n    if (nextLocationPathname && basename) {\n      nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n    }\n    const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n    let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n    let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n    let renderProps = {\n      isActive,\n      isPending,\n      isTransitioning\n    };\n    let ariaCurrent = isActive ? ariaCurrentProp : void 0;\n    let className;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp(renderProps);\n    } else {\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n        isTransitioning ? \"transitioning\" : null\n      ].filter(Boolean).join(\" \");\n    }\n    let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n    return /* @__PURE__ */ React10.createElement(\n      Link,\n      {\n        ...rest,\n        \"aria-current\": ariaCurrent,\n        className,\n        ref,\n        style,\n        to,\n        viewTransition\n      },\n      typeof children === \"function\" ? children(renderProps) : children\n    );\n  }\n);\nNavLink.displayName = \"NavLink\";\nvar Form = React10.forwardRef(\n  ({\n    discover = \"render\",\n    fetcherKey,\n    navigate,\n    reloadDocument,\n    replace: replace2,\n    state,\n    method = defaultMethod,\n    action,\n    onSubmit,\n    relative,\n    preventScrollReset,\n    viewTransition,\n    unstable_defaultShouldRevalidate,\n    ...props\n  }, forwardedRef) => {\n    let { unstable_useTransitions } = React10.useContext(NavigationContext);\n    let submit = useSubmit();\n    let formAction = useFormAction(action, { relative });\n    let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let isAbsolute = typeof action === \"string\" && ABSOLUTE_URL_REGEX2.test(action);\n    let submitHandler = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n      let submitter = event.nativeEvent.submitter;\n      let submitMethod = submitter?.getAttribute(\"formmethod\") || method;\n      let doSubmit = () => submit(submitter || event.currentTarget, {\n        fetcherKey,\n        method: submitMethod,\n        navigate,\n        replace: replace2,\n        state,\n        relative,\n        preventScrollReset,\n        viewTransition,\n        unstable_defaultShouldRevalidate\n      });\n      if (unstable_useTransitions && navigate !== false) {\n        React10.startTransition(() => doSubmit());\n      } else {\n        doSubmit();\n      }\n    };\n    return /* @__PURE__ */ React10.createElement(\n      \"form\",\n      {\n        ref: forwardedRef,\n        method: formMethod,\n        action: formAction,\n        onSubmit: reloadDocument ? onSubmit : submitHandler,\n        ...props,\n        \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n      }\n    );\n  }\n);\nForm.displayName = \"Form\";\nfunction ScrollRestoration({\n  getKey,\n  storageKey,\n  ...props\n}) {\n  let remixContext = React10.useContext(FrameworkContext);\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  useScrollRestoration({ getKey, storageKey });\n  let ssrKey = React10.useMemo(\n    () => {\n      if (!remixContext || !getKey) return null;\n      let userKey = getScrollRestorationKey(\n        location,\n        matches,\n        basename,\n        getKey\n      );\n      return userKey !== location.key ? userKey : null;\n    },\n    // Nah, we only need this the first time for the SSR render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  if (!remixContext || remixContext.isSpaMode) {\n    return null;\n  }\n  let restoreScroll = ((storageKey2, restoreKey) => {\n    if (!window.history.state || !window.history.state.key) {\n      let key = Math.random().toString(32).slice(2);\n      window.history.replaceState({ key }, \"\");\n    }\n    try {\n      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || \"{}\");\n      let storedY = positions[restoreKey || window.history.state.key];\n      if (typeof storedY === \"number\") {\n        window.scrollTo(0, storedY);\n      }\n    } catch (error) {\n      console.error(error);\n      sessionStorage.removeItem(storageKey2);\n    }\n  }).toString();\n  return /* @__PURE__ */ React10.createElement(\n    \"script\",\n    {\n      ...props,\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: `(${restoreScroll})(${escapeHtml(\n          JSON.stringify(storageKey || SCROLL_RESTORATION_STORAGE_KEY)\n        )}, ${escapeHtml(JSON.stringify(ssrKey))})`\n      }\n    }\n  );\n}\nScrollRestoration.displayName = \"ScrollRestoration\";\nfunction getDataRouterConsoleError2(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext3(hookName) {\n  let ctx = React10.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError2(hookName));\n  return ctx;\n}\nfunction useDataRouterState2(hookName) {\n  let state = React10.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError2(hookName));\n  return state;\n}\nfunction useLinkClickHandler(to, {\n  target,\n  replace: replaceProp,\n  state,\n  preventScrollReset,\n  relative,\n  viewTransition,\n  unstable_defaultShouldRevalidate,\n  unstable_useTransitions\n} = {}) {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n  return React10.useCallback(\n    (event) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n        let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location) === createPath(path);\n        let doNavigate = () => navigate(to, {\n          replace: replace2,\n          state,\n          preventScrollReset,\n          relative,\n          viewTransition,\n          unstable_defaultShouldRevalidate\n        });\n        if (unstable_useTransitions) {\n          React10.startTransition(() => doNavigate());\n        } else {\n          doNavigate();\n        }\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n      viewTransition,\n      unstable_defaultShouldRevalidate,\n      unstable_useTransitions\n    ]\n  );\n}\nfunction useSearchParams(defaultInit) {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.`\n  );\n  let defaultSearchParamsRef = React10.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React10.useRef(false);\n  let location = useLocation();\n  let searchParams = React10.useMemo(\n    () => (\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      )\n    ),\n    [location.search]\n  );\n  let navigate = useNavigate();\n  let setSearchParams = React10.useCallback(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(new URLSearchParams(searchParams)) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n  return [searchParams, setSearchParams];\n}\nvar fetcherId = 0;\nvar getUniqueFetcherId = () => `__${String(++fetcherId)}__`;\nfunction useSubmit() {\n  let { router } = useDataRouterContext3(\"useSubmit\" /* UseSubmit */);\n  let { basename } = React10.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n  let routerFetch = router.fetch;\n  let routerNavigate = router.navigate;\n  return React10.useCallback(\n    async (target, options = {}) => {\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n      if (options.navigate === false) {\n        let key = options.fetcherKey || getUniqueFetcherId();\n        await routerFetch(key, currentRouteId, options.action || action, {\n          unstable_defaultShouldRevalidate: options.unstable_defaultShouldRevalidate,\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          flushSync: options.flushSync\n        });\n      } else {\n        await routerNavigate(options.action || action, {\n          unstable_defaultShouldRevalidate: options.unstable_defaultShouldRevalidate,\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          replace: options.replace,\n          state: options.state,\n          fromRouteId: currentRouteId,\n          flushSync: options.flushSync,\n          viewTransition: options.viewTransition\n        });\n      }\n    },\n    [routerFetch, routerNavigate, basename, currentRouteId]\n  );\n}\nfunction useFormAction(action, { relative } = {}) {\n  let { basename } = React10.useContext(NavigationContext);\n  let routeContext = React10.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n  let [match] = routeContext.matches.slice(-1);\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n  let location = useLocation();\n  if (action == null) {\n    path.search = location.search;\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some((v) => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction useFetcher({\n  key\n} = {}) {\n  let { router } = useDataRouterContext3(\"useFetcher\" /* UseFetcher */);\n  let state = useDataRouterState2(\"useFetcher\" /* UseFetcher */);\n  let fetcherData = React10.useContext(FetchersContext);\n  let route = React10.useContext(RouteContext);\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(fetcherData, `useFetcher must be used inside a FetchersContext`);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n  let defaultKey = React10.useId();\n  let [fetcherKey, setFetcherKey] = React10.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  }\n  let { deleteFetcher, getFetcher, resetFetcher, fetch: routerFetch } = router;\n  React10.useEffect(() => {\n    getFetcher(fetcherKey);\n    return () => deleteFetcher(fetcherKey);\n  }, [deleteFetcher, getFetcher, fetcherKey]);\n  let load = React10.useCallback(\n    async (href, opts) => {\n      invariant(routeId, \"No routeId available for fetcher.load()\");\n      await routerFetch(fetcherKey, routeId, href, opts);\n    },\n    [fetcherKey, routeId, routerFetch]\n  );\n  let submitImpl = useSubmit();\n  let submit = React10.useCallback(\n    async (target, opts) => {\n      await submitImpl(target, {\n        ...opts,\n        navigate: false,\n        fetcherKey\n      });\n    },\n    [fetcherKey, submitImpl]\n  );\n  let reset = React10.useCallback(\n    (opts) => resetFetcher(fetcherKey, opts),\n    [resetFetcher, fetcherKey]\n  );\n  let FetcherForm = React10.useMemo(() => {\n    let FetcherForm2 = React10.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ React10.createElement(Form, { ...props, navigate: false, fetcherKey, ref });\n      }\n    );\n    FetcherForm2.displayName = \"fetcher.Form\";\n    return FetcherForm2;\n  }, [fetcherKey]);\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data2 = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React10.useMemo(\n    () => ({\n      Form: FetcherForm,\n      submit,\n      load,\n      reset,\n      ...fetcher,\n      data: data2\n    }),\n    [FetcherForm, submit, load, reset, fetcher, data2]\n  );\n  return fetcherWithComponents;\n}\nfunction useFetchers() {\n  let state = useDataRouterState2(\"useFetchers\" /* UseFetchers */);\n  return Array.from(state.fetchers.entries()).map(([key, fetcher]) => ({\n    ...fetcher,\n    key\n  }));\n}\nvar SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nvar savedScrollPositions = {};\nfunction getScrollRestorationKey(location, matches, basename, getKey) {\n  let key = null;\n  if (getKey) {\n    if (basename !== \"/\") {\n      key = getKey(\n        {\n          ...location,\n          pathname: stripBasename(location.pathname, basename) || location.pathname\n        },\n        matches\n      );\n    } else {\n      key = getKey(location, matches);\n    }\n  }\n  if (key == null) {\n    key = location.key;\n  }\n  return key;\n}\nfunction useScrollRestoration({\n  getKey,\n  storageKey\n} = {}) {\n  let { router } = useDataRouterContext3(\"useScrollRestoration\" /* UseScrollRestoration */);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState2(\n    \"useScrollRestoration\" /* UseScrollRestoration */\n  );\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  React10.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  usePageHide(\n    React10.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = getScrollRestorationKey(location, matches, basename, getKey);\n        savedScrollPositions[key] = window.scrollY;\n      }\n      try {\n        sessionStorage.setItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n          JSON.stringify(savedScrollPositions)\n        );\n      } catch (error) {\n        warning(\n          false,\n          `Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${error}).`\n        );\n      }\n      window.history.scrollRestoration = \"auto\";\n    }, [navigation.state, getKey, basename, location, matches, storageKey])\n  );\n  if (typeof document !== \"undefined\") {\n    React10.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n      }\n    }, [storageKey]);\n    React10.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey ? (location2, matches2) => getScrollRestorationKey(location2, matches2, basename, getKey) : void 0\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    React10.useLayoutEffect(() => {\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      try {\n        if (location.hash) {\n          let el = document.getElementById(\n            decodeURIComponent(location.hash.slice(1))\n          );\n          if (el) {\n            el.scrollIntoView();\n            return;\n          }\n        }\n      } catch {\n        warning(\n          false,\n          `\"${location.hash.slice(\n            1\n          )}\" is not a decodable element ID. The view will not scroll to it.`\n        );\n      }\n      if (preventScrollReset === true) {\n        return;\n      }\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\nfunction useBeforeUnload(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePageHide(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePrompt({\n  when,\n  message\n}) {\n  let blocker = useBlocker(when);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\nfunction useViewTransitionState(to, { relative } = {}) {\n  let vtContext = React10.useContext(ViewTransitionContext);\n  invariant(\n    vtContext != null,\n    \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?\"\n  );\n  let { basename } = useDataRouterContext3(\n    \"useViewTransitionState\" /* useViewTransitionState */\n  );\n  let path = useResolvedPath(to, { relative });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n\n// lib/dom/server.tsx\nimport * as React11 from \"react\";\nfunction StaticRouter({\n  basename,\n  children,\n  location: locationProp = \"/\"\n}) {\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let action = \"POP\" /* Pop */;\n  let location = {\n    pathname: locationProp.pathname || \"/\",\n    search: locationProp.search || \"\",\n    hash: locationProp.hash || \"\",\n    state: locationProp.state != null ? locationProp.state : null,\n    key: locationProp.key || \"default\"\n  };\n  let staticNavigator = getStatelessNavigator();\n  return /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location,\n      navigationType: action,\n      navigator: staticNavigator,\n      static: true,\n      unstable_useTransitions: false\n    }\n  );\n}\nfunction StaticRouterProvider({\n  context,\n  router,\n  hydrate: hydrate2 = true,\n  nonce\n}) {\n  invariant(\n    router && context,\n    \"You must provide `router` and `context` to <StaticRouterProvider>\"\n  );\n  let dataRouterContext = {\n    router,\n    navigator: getStatelessNavigator(),\n    static: true,\n    staticContext: context,\n    basename: context.basename || \"/\"\n  };\n  let fetchersContext = /* @__PURE__ */ new Map();\n  let hydrateScript = \"\";\n  if (hydrate2 !== false) {\n    let data2 = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors(context.errors)\n    };\n    let json = escapeHtml(JSON.stringify(JSON.stringify(data2)));\n    hydrateScript = `window.__staticRouterHydrationData = JSON.parse(${json});`;\n  }\n  let { state } = dataRouterContext.router;\n  return /* @__PURE__ */ React11.createElement(React11.Fragment, null, /* @__PURE__ */ React11.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React11.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React11.createElement(FetchersContext.Provider, { value: fetchersContext }, /* @__PURE__ */ React11.createElement(ViewTransitionContext.Provider, { value: { isTransitioning: false } }, /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename: dataRouterContext.basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: dataRouterContext.navigator,\n      static: dataRouterContext.static,\n      unstable_useTransitions: false\n    },\n    /* @__PURE__ */ React11.createElement(\n      DataRoutes2,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), hydrateScript ? /* @__PURE__ */ React11.createElement(\n    \"script\",\n    {\n      suppressHydrationWarning: true,\n      nonce,\n      dangerouslySetInnerHTML: { __html: hydrateScript }\n    }\n  ) : null);\n}\nfunction DataRoutes2({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, void 0, future);\n}\nfunction serializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      serialized[key] = {\n        message: val.message,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.\n        ...val.name !== \"Error\" ? {\n          __subType: val.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction getStatelessNavigator() {\n  return {\n    createHref,\n    encodeLocation,\n    push(to) {\n      throw new Error(\n        `You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)})\\` somewhere in your app.`\n      );\n    },\n    replace(to) {\n      throw new Error(\n        `You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)}, { replace: true })\\` somewhere in your app.`\n      );\n    },\n    go(delta) {\n      throw new Error(\n        `You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${delta})\\` somewhere in your app.`\n      );\n    },\n    back() {\n      throw new Error(\n        `You cannot use navigator.back() on the server because it is a stateless environment.`\n      );\n    },\n    forward() {\n      throw new Error(\n        `You cannot use navigator.forward() on the server because it is a stateless environment.`\n      );\n    }\n  };\n}\nfunction createStaticHandler2(routes, opts) {\n  return createStaticHandler(routes, {\n    ...opts,\n    mapRouteProperties\n  });\n}\nfunction createStaticRouter(routes, context, opts = {}) {\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    void 0,\n    manifest\n  );\n  let matches = context.matches.map((match) => {\n    let route = manifest[match.route.id] || match.route;\n    return {\n      ...match,\n      route\n    };\n  });\n  let msg = (method) => `You cannot use router.${method}() on the server because it is a stateless environment`;\n  return {\n    get basename() {\n      return context.basename;\n    },\n    get future() {\n      return {\n        v8_middleware: false,\n        ...opts?.future\n      };\n    },\n    get state() {\n      return {\n        historyAction: \"POP\" /* Pop */,\n        location: context.location,\n        matches,\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: context.errors,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        restoreScrollPosition: null,\n        preventScrollReset: false,\n        revalidation: \"idle\",\n        fetchers: /* @__PURE__ */ new Map(),\n        blockers: /* @__PURE__ */ new Map()\n      };\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return void 0;\n    },\n    initialize() {\n      throw msg(\"initialize\");\n    },\n    subscribe() {\n      throw msg(\"subscribe\");\n    },\n    enableScrollRestoration() {\n      throw msg(\"enableScrollRestoration\");\n    },\n    navigate() {\n      throw msg(\"navigate\");\n    },\n    fetch() {\n      throw msg(\"fetch\");\n    },\n    revalidate() {\n      throw msg(\"revalidate\");\n    },\n    createHref,\n    encodeLocation,\n    getFetcher() {\n      return IDLE_FETCHER;\n    },\n    deleteFetcher() {\n      throw msg(\"deleteFetcher\");\n    },\n    resetFetcher() {\n      throw msg(\"resetFetcher\");\n    },\n    dispose() {\n      throw msg(\"dispose\");\n    },\n    getBlocker() {\n      return IDLE_BLOCKER;\n    },\n    deleteBlocker() {\n      throw msg(\"deleteBlocker\");\n    },\n    patchRoutes() {\n      throw msg(\"patchRoutes\");\n    },\n    _internalFetchControllers: /* @__PURE__ */ new Map(),\n    _internalSetRoutes() {\n      throw msg(\"_internalSetRoutes\");\n    },\n    _internalSetStateDoNotUseOrYouWillBreakYourApp() {\n      throw msg(\"_internalSetStateDoNotUseOrYouWillBreakYourApp\");\n    }\n  };\n}\nfunction createHref(to) {\n  return typeof to === \"string\" ? to : createPath(to);\n}\nfunction encodeLocation(to) {\n  let href = typeof to === \"string\" ? to : createPath(to);\n  href = href.replace(/ $/, \"%20\");\n  let encoded = ABSOLUTE_URL_REGEX3.test(href) ? new URL(href) : new URL(href, \"http://localhost\");\n  return {\n    pathname: encoded.pathname,\n    search: encoded.search,\n    hash: encoded.hash\n  };\n}\nvar ABSOLUTE_URL_REGEX3 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\nexport {\n  Action,\n  createMemoryHistory,\n  createBrowserHistory,\n  createHashHistory,\n  invariant,\n  createPath,\n  parsePath,\n  createContext,\n  RouterContextProvider,\n  convertRoutesToDataRoutes,\n  matchRoutes,\n  generatePath,\n  matchPath,\n  stripBasename,\n  resolvePath,\n  data,\n  redirect,\n  redirectDocument,\n  replace,\n  ErrorResponseImpl,\n  isRouteErrorResponse,\n  instrumentHandler,\n  IDLE_NAVIGATION,\n  IDLE_FETCHER,\n  IDLE_BLOCKER,\n  createRouter,\n  createStaticHandler,\n  getStaticContextFromError,\n  isDataWithResponseInit,\n  isResponse,\n  isRedirectStatusCode,\n  isRedirectResponse,\n  isMutationMethod,\n  DataRouterContext,\n  DataRouterStateContext,\n  RSCRouterContext,\n  ViewTransitionContext,\n  FetchersContext,\n  AwaitContextProvider,\n  NavigationContext,\n  LocationContext,\n  RouteContext,\n  ENABLE_DEV_WARNINGS,\n  decodeRedirectErrorDigest,\n  decodeRouteErrorResponseDigest,\n  useHref,\n  useInRouterContext,\n  useLocation,\n  useNavigationType,\n  useMatch,\n  useNavigate,\n  useOutletContext,\n  useOutlet,\n  useParams,\n  useResolvedPath,\n  useRoutes,\n  useNavigation,\n  useRevalidator,\n  useMatches,\n  useLoaderData,\n  useRouteLoaderData,\n  useActionData,\n  useRouteError,\n  useAsyncValue,\n  useAsyncError,\n  useBlocker,\n  useRoute,\n  warnOnce,\n  mapRouteProperties,\n  hydrationRouteProperties,\n  createMemoryRouter,\n  RouterProvider,\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Router,\n  Routes,\n  Await,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  renderMatches,\n  WithComponentProps,\n  withComponentProps,\n  WithHydrateFallbackProps,\n  withHydrateFallbackProps,\n  WithErrorBoundaryProps,\n  withErrorBoundaryProps,\n  createSearchParams,\n  escapeHtml,\n  encode,\n  createRequestInit,\n  SingleFetchRedirectSymbol,\n  SINGLE_FETCH_REDIRECT_STATUS,\n  NO_BODY_STATUS_CODES,\n  StreamTransfer,\n  getTurboStreamSingleFetchDataStrategy,\n  getSingleFetchDataStrategyImpl,\n  stripIndexParam,\n  singleFetchUrl,\n  decodeViaTurboStream,\n  RemixErrorBoundary,\n  createServerRoutes,\n  createClientRoutesWithHMRRevalidationOptOut,\n  noActionDefinedError,\n  createClientRoutes,\n  shouldHydrateRouteLoader,\n  getPatchRoutesOnNavigationFunction,\n  useFogOFWarDiscovery,\n  getManifestPath,\n  FrameworkContext,\n  CRITICAL_CSS_DATA_ATTRIBUTE,\n  Links,\n  PrefetchPageLinks,\n  Meta,\n  setIsHydrated,\n  Scripts,\n  createBrowserRouter,\n  createHashRouter,\n  BrowserRouter,\n  HashRouter,\n  HistoryRouter,\n  Link,\n  NavLink,\n  Form,\n  ScrollRestoration,\n  useLinkClickHandler,\n  useSearchParams,\n  useSubmit,\n  useFormAction,\n  useFetcher,\n  useFetchers,\n  useScrollRestoration,\n  useBeforeUnload,\n  usePrompt,\n  useViewTransitionState,\n  StaticRouter,\n  StaticRouterProvider,\n  createStaticHandler2,\n  createStaticRouter\n};\n","// API Configuration\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5050/api\";\n\nexport default API_BASE_URL;\n","import API_BASE_URL from \"./config\";\n\n/**\n * API client with credentials (cookies) support\n */\nasync function request(endpoint, options = {}) {\n  const url = `${API_BASE_URL}${endpoint}`;\n\n  const config = {\n    credentials: \"include\", // Send cookies for auth\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...options.headers,\n    },\n    ...options,\n  };\n\n  // Don't set Content-Type for FormData (let browser set it with boundary)\n  if (options.body instanceof FormData) {\n    delete config.headers[\"Content-Type\"];\n  }\n\n  const response = await fetch(url, config);\n\n  // Parse JSON response\n  let data;\n  try {\n    data = await response.json();\n  } catch {\n    data = null;\n  }\n\n  if (!response.ok) {\n    const error = new Error(data?.error || `Request failed: ${response.status}`);\n    error.status = response.status;\n    error.data = data;\n    throw error;\n  }\n\n  return data;\n}\n\n// Convenience methods\nexport const api = {\n  get: (endpoint) => request(endpoint, { method: \"GET\" }),\n\n  post: (endpoint, body) =>\n    request(endpoint, {\n      method: \"POST\",\n      body: JSON.stringify(body),\n    }),\n\n  put: (endpoint, body) =>\n    request(endpoint, {\n      method: \"PUT\",\n      body: JSON.stringify(body),\n    }),\n\n  delete: (endpoint) => request(endpoint, { method: \"DELETE\" }),\n\n  // For file uploads\n  upload: (endpoint, formData) =>\n    request(endpoint, {\n      method: \"POST\",\n      body: formData,\n    }),\n};\n\nexport default api;\n","import api from \"./client\";\n\n/**\n * Auth API\n */\nexport const authApi = {\n  // Register new user\n  register: (data) => api.post(\"/auth/register\", data),\n\n  // Login\n  login: (data) => api.post(\"/auth/login\", data),\n\n  // Logout\n  logout: () => api.post(\"/auth/logout\"),\n\n  // Get current user\n  me: () => api.get(\"/auth/me\"),\n\n  // Check username availability\n  checkUsername: (username) => api.get(`/auth/username-available/${username}`),\n\n  // Set username (for Google OAuth users who need to choose a username)\n  setUsername: (username) => api.post(\"/auth/set-username\", { username }),\n\n  // Email verification\n  verifyEmail: (token) => api.post(\"/auth/verify-email\", { token }),\n  resendVerification: () => api.post(\"/auth/resend-verification\"),\n\n  // Password reset\n  forgotPassword: (email) => api.post(\"/auth/forgot-password\", { email }),\n  validateResetToken: (token) => api.post(\"/auth/validate-reset-token\", { token }),\n  resetPassword: (token, password) => api.post(\"/auth/reset-password\", { token, password }),\n\n  // Two-Factor Authentication\n  get2FAStatus: () => api.get(\"/auth/2fa/status\"),\n  setup2FA: () => api.post(\"/auth/2fa/setup\"),\n  verify2FA: (token) => api.post(\"/auth/2fa/verify\", { token }),\n  disable2FA: (password, token) => api.post(\"/auth/2fa/disable\", { password, token }),\n  regenerateBackupCodes: (password) => api.post(\"/auth/2fa/backup-codes\", { password }),\n  validate2FA: (userId, token) => api.post(\"/auth/2fa/validate\", { userId, token }),\n};\n\nexport default authApi;\n","import api from \"./client\";\n\n/**\n * Drafts API\n */\nexport const draftsApi = {\n  // List all my drafts\n  list: () => api.get(\"/drafts\"),\n\n  // Get single draft by ID\n  get: (id) => api.get(`/drafts/${id}`),\n\n  // Create new draft\n  create: (data = {}) => api.post(\"/drafts\", data),\n\n  // Update draft\n  update: (id, data) => api.put(`/drafts/${id}`, data),\n\n  // Delete draft\n  delete: (id) => api.delete(`/drafts/${id}`),\n\n  // Publish draft to work\n  publish: (id) => api.post(`/drafts/${id}/publish`),\n};\n\nexport default draftsApi;\n","import api from \"./client\";\n\n/**\n * Works API\n */\nexport const worksApi = {\n  // List public works (browse)\n  list: (params = {}) => {\n    const query = new URLSearchParams(params).toString();\n    return api.get(`/works${query ? `?${query}` : \"\"}`);\n  },\n\n  // List my works\n  mine: () => api.get(\"/works/mine\"),\n\n  // Get single work by ID\n  get: (id) => api.get(`/works/${id}`),\n\n  // Update work\n  update: (id, data) => api.put(`/works/${id}`, data),\n\n  // Delete work\n  delete: (id) => api.delete(`/works/${id}`),\n};\n\nexport default worksApi;\n","import api from \"./client\";\n\n/**\n * Uploads API\n */\nexport const uploadsApi = {\n  // Generic upload - type can be 'images', 'audio', 'covers'\n  upload: async (file, type = \"images\") => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    // Map type to endpoint\n    const endpoint = type === \"audio\" ? \"/uploads/audio\" : \"/uploads/image\";\n    const preset = type === \"covers\" ? \"?preset=cover\" : \"\";\n\n    const response = await api.upload(`${endpoint}${preset}`, formData);\n    return { url: response.upload.url, ...response.upload };\n  },\n\n  // Upload image\n  image: async (file, preset) => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const queryStr = preset ? `?preset=${preset}` : \"\";\n    const response = await api.upload(`/uploads/image${queryStr}`, formData);\n    return { url: response.upload.url, ...response.upload };\n  },\n\n  // Upload audio\n  audio: async (file, title, workId) => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    if (title) formData.append(\"title\", title);\n    if (workId) formData.append(\"workId\", workId);\n    const response = await api.upload(\"/uploads/audio\", formData);\n    return { url: response.url || response.upload?.url, ...response.upload };\n  },\n\n  // List my uploads\n  list: (type) => api.get(`/uploads${type ? `?type=${type}` : \"\"}`),\n\n  // Get a user's audio uploads (public)\n  getUserAudios: (username) => api.get(`/uploads/audio/user/${encodeURIComponent(username)}`),\n\n  // Delete upload\n  delete: (id) => api.delete(`/uploads/${id}`),\n\n  // Upload generic file (for chat attachments)\n  file: async (file) => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const response = await api.upload(\"/uploads/file\", formData);\n    return { url: response.upload?.url || response.url, ...response.upload };\n  },\n};\n\nexport default uploadsApi;\n","import api from \"./client\";\n\n/**\n * Notifications API\n */\nexport const notificationsApi = {\n  // Get notifications list\n  list: (params = {}) => {\n    const queryParams = new URLSearchParams();\n    if (params.page) queryParams.set(\"page\", params.page);\n    if (params.limit) queryParams.set(\"limit\", params.limit);\n    if (params.unreadOnly) queryParams.set(\"unreadOnly\", \"true\");\n\n    const query = queryParams.toString();\n    return api.get(`/notifications${query ? `?${query}` : \"\"}`);\n  },\n\n  // Get unread count\n  getCount: () => api.get(\"/notifications/count\"),\n\n  // Mark single notification as read\n  markAsRead: (notificationId) => api.put(`/notifications/${notificationId}/read`),\n\n  // Mark all notifications as read\n  markAllAsRead: () => api.put(\"/notifications/read-all\"),\n\n  // Delete a notification\n  delete: (notificationId) => api.delete(`/notifications/${notificationId}`),\n\n  // Clear all notifications\n  clearAll: () => api.delete(\"/notifications\"),\n};\n\nexport default notificationsApi;\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nexport const defaultBinaryType = \"arraybuffer\";\nexport function createCookieJar() { }\n","import { globalThisShim as globalThis } from \"./globals.node.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nexport function randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port) !== 443) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { Transport } from \"../transport.js\";\nimport { randomString } from \"../util.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","import { Polling } from \"./polling.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globals.node.js\";\nimport { hasCORS } from \"../contrib/has-cors.js\";\nfunction empty() { }\nexport class BaseXHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        installTimerFunctions(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nexport class XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { pick, randomString } from \"../util.js\";\nimport { encodePacket } from \"engine.io-parser\";\nimport { globalThisShim as globalThis, nextTick } from \"../globals.node.js\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class BaseWS extends Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = globalThis.WebSocket || globalThis.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nexport class WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n","import { XHR } from \"./polling-xhr.node.js\";\nimport { WS } from \"./websocket.node.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR,\n};\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"../globals.node.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports as DEFAULT_TRANSPORTS } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { createCookieJar, defaultBinaryType, nextTick, } from \"./globals.node.js\";\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nexport class SocketWithoutUpgrade extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = parse(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = createCookieJar();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            nextTick(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nexport class SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nexport class Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => DEFAULT_TRANSPORTS[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\", // used on the client side\n    \"connect_error\", // used on the client side\n    \"disconnect\", // used on both sides\n    \"disconnecting\", // used on the server side\n    \"newListener\", // used by the Node.js EventEmitter\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\nfunction isNamespaceValid(nsp) {\n    return typeof nsp === \"string\";\n}\n// see https://caniuse.com/mdn-javascript_builtins_number_isinteger\nconst isInteger = Number.isInteger ||\n    function (value) {\n        return (typeof value === \"number\" &&\n            isFinite(value) &&\n            Math.floor(value) === value);\n    };\nfunction isAckIdValid(id) {\n    return id === undefined || isInteger(id);\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\nfunction isDataValid(type, payload) {\n    switch (type) {\n        case PacketType.CONNECT:\n            return payload === undefined || isObject(payload);\n        case PacketType.DISCONNECT:\n            return payload === undefined;\n        case PacketType.EVENT:\n            return (Array.isArray(payload) &&\n                (typeof payload[0] === \"number\" ||\n                    (typeof payload[0] === \"string\" &&\n                        RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n        case PacketType.ACK:\n            return Array.isArray(payload);\n        case PacketType.CONNECT_ERROR:\n            return typeof payload === \"string\" || isObject(payload);\n        default:\n            return false;\n    }\n}\nexport function isPacketValid(packet) {\n    return (isNamespaceValid(packet.nsp) &&\n        isAckIdValid(packet.id) &&\n        isDataValid(packet.type, packet.data));\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this._drainQueue(true);\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import { io } from \"socket.io-client\";\nimport API_BASE_URL from \"./config\";\n\nlet socket = null;\n\n/**\n * Initialize Socket.IO connection\n */\nexport function initSocket() {\n  if (socket?.connected) {\n    return socket;\n  }\n\n  // Remove /api from the URL for socket connection\n  const socketUrl = API_BASE_URL.replace(\"/api\", \"\");\n\n  socket = io(socketUrl, {\n    withCredentials: true,\n    autoConnect: true,\n    reconnection: true,\n    reconnectionAttempts: 5,\n    reconnectionDelay: 1000,\n  });\n\n  socket.on(\"connect\", () => {\n    console.log(\"Socket connected\");\n  });\n\n  socket.on(\"disconnect\", (reason) => {\n    console.log(\"Socket disconnected:\", reason);\n  });\n\n  socket.on(\"connect_error\", (err) => {\n    console.log(\"Socket connection error:\", err.message);\n  });\n\n  return socket;\n}\n\n/**\n * Get the current socket instance\n */\nexport function getSocket() {\n  return socket;\n}\n\n/**\n * Disconnect socket\n */\nexport function disconnectSocket() {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n}\n\n/**\n * Subscribe to notifications\n * @param {Function} callback - Called when a notification is received\n * @returns {Function} Unsubscribe function\n */\nexport function onNotification(callback) {\n  if (!socket) {\n    initSocket();\n  }\n\n  socket.on(\"notification\", callback);\n\n  return () => {\n    socket?.off(\"notification\", callback);\n  };\n}\n\n/**\n * Subscribe to notification read events\n * @param {Function} callback - Called when notifications are marked as read\n * @returns {Function} Unsubscribe function\n */\nexport function onNotificationsRead(callback) {\n  if (!socket) {\n    initSocket();\n  }\n\n  socket.on(\"notifications:read\", callback);\n\n  return () => {\n    socket?.off(\"notifications:read\", callback);\n  };\n}\n\n/**\n * Join a work's room to receive real-time updates\n * @param {string} workId - Work ID to join\n */\nexport function joinWork(workId) {\n  if (!socket) {\n    initSocket();\n  }\n\n  socket.emit(\"join:work\", workId);\n}\n\n/**\n * Leave a work's room\n * @param {string} workId - Work ID to leave\n */\nexport function leaveWork(workId) {\n  if (socket) {\n    socket.emit(\"leave:work\", workId);\n  }\n}\n\n/**\n * Subscribe to new comments on a work\n * @param {Function} callback - Called when a new comment is posted\n * @returns {Function} Unsubscribe function\n */\nexport function onNewComment(callback) {\n  if (!socket) {\n    initSocket();\n  }\n\n  socket.on(\"new_comment\", callback);\n\n  return () => {\n    socket?.off(\"new_comment\", callback);\n  };\n}\n\n/**\n * Join a community's room\n * @param {string} communityId - Community ID to join\n */\nexport function joinCommunity(communityId) {\n  if (!socket) {\n    initSocket();\n  }\n\n  socket.emit(\"join:community\", communityId);\n}\n\n/**\n * Leave a community's room\n * @param {string} communityId - Community ID to leave\n */\nexport function leaveCommunity(communityId) {\n  if (socket) {\n    socket.emit(\"leave:community\", communityId);\n  }\n}\n\n/**\n * Join a message thread room\n * @param {string} threadId - Thread ID to join\n */\nexport function joinThread(threadId) {\n  if (!socket) {\n    initSocket();\n  }\n  socket.emit(\"join:thread\", threadId);\n}\n\n/**\n * Leave a message thread room\n * @param {string} threadId - Thread ID to leave\n */\nexport function leaveThread(threadId) {\n  if (socket) {\n    socket.emit(\"leave:thread\", threadId);\n  }\n}\n\n/**\n * Send typing indicator start\n * @param {string} threadId - Thread ID\n */\nexport function startTyping(threadId) {\n  if (socket) {\n    socket.emit(\"typing:start\", { threadId });\n  }\n}\n\n/**\n * Send typing indicator stop\n * @param {string} threadId - Thread ID\n */\nexport function stopTyping(threadId) {\n  if (socket) {\n    socket.emit(\"typing:stop\", { threadId });\n  }\n}\n\n/**\n * Subscribe to typing indicators\n * @param {Function} callback - Called when someone starts/stops typing\n * @returns {Function} Unsubscribe function\n */\nexport function onTyping(callback) {\n  if (!socket) {\n    initSocket();\n  }\n\n  const handleStart = (data) => callback({ ...data, typing: true });\n  const handleStop = (data) => callback({ ...data, typing: false });\n\n  socket.on(\"typing:start\", handleStart);\n  socket.on(\"typing:stop\", handleStop);\n\n  return () => {\n    socket?.off(\"typing:start\", handleStart);\n    socket?.off(\"typing:stop\", handleStop);\n  };\n}\n\n/**\n * Subscribe to new messages\n * @param {Function} callback - Called when a new message is received\n * @returns {Function} Unsubscribe function\n */\nexport function onNewMessage(callback) {\n  if (!socket) {\n    initSocket();\n  }\n\n  socket.on(\"new_message\", callback);\n\n  return () => {\n    socket?.off(\"new_message\", callback);\n  };\n}\n\n/**\n * Subscribe to message seen events\n * @param {Function} callback - Called when messages are marked as seen\n * @returns {Function} Unsubscribe function\n */\nexport function onMessageSeen(callback) {\n  if (!socket) {\n    initSocket();\n  }\n\n  socket.on(\"message:seen\", callback);\n\n  return () => {\n    socket?.off(\"message:seen\", callback);\n  };\n}\n\n/**\n * Subscribe to message reaction events\n * @param {Function} callback - Called when a reaction is added/removed\n * @returns {Function} Unsubscribe function\n */\nexport function onMessageReaction(callback) {\n  if (!socket) {\n    initSocket();\n  }\n\n  socket.on(\"message:reaction\", callback);\n\n  return () => {\n    socket?.off(\"message:reaction\", callback);\n  };\n}\n\nexport default {\n  initSocket,\n  getSocket,\n  disconnectSocket,\n  onNotification,\n  onNotificationsRead,\n  joinWork,\n  leaveWork,\n  onNewComment,\n  joinCommunity,\n  leaveCommunity,\n  joinThread,\n  leaveThread,\n  startTyping,\n  stopTyping,\n  onTyping,\n  onNewMessage,\n  onMessageSeen,\n  onMessageReaction,\n};\n","import api from \"./client\";\n\n/**\n * Settings API - Account, Privacy, Notifications, Sessions\n */\nconst settingsApi = {\n  // ============================================\n  // ACCOUNT\n  // ============================================\n\n  /**\n   * Change password\n   */\n  changePassword: (currentPassword, newPassword) =>\n    api.put(\"/settings/account/password\", { currentPassword, newPassword }),\n\n  /**\n   * Request email change (sends verification to new email)\n   */\n  changeEmail: (newEmail, password) =>\n    api.put(\"/settings/account/email\", { newEmail, password }),\n\n  /**\n   * Confirm email change with token\n   */\n  confirmEmailChange: (token) =>\n    api.post(`/settings/account/email/confirm/${token}`),\n\n  /**\n   * Change username\n   */\n  changeUsername: (newUsername, password) =>\n    api.put(\"/settings/account/username\", { newUsername, password }),\n\n  /**\n   * Delete account\n   */\n  deleteAccount: (password, confirmation = \"DELETE MY ACCOUNT\") =>\n    api.delete(\"/settings/account\", {\n      method: \"DELETE\",\n      body: JSON.stringify({ password, confirmation }),\n      headers: { \"Content-Type\": \"application/json\" },\n    }),\n\n  /**\n   * Export all user data (GDPR)\n   */\n  exportData: () => api.get(\"/settings/account/export\"),\n\n  // ============================================\n  // PRIVACY\n  // ============================================\n\n  /**\n   * Get privacy settings\n   */\n  getPrivacy: () => api.get(\"/settings/privacy\"),\n\n  /**\n   * Update privacy settings\n   */\n  updatePrivacy: (settings) => api.put(\"/settings/privacy\", settings),\n\n  // ============================================\n  // MUTED WORDS\n  // ============================================\n\n  /**\n   * Get muted words list\n   */\n  getMutedWords: () => api.get(\"/settings/muted-words\"),\n\n  /**\n   * Add a muted word\n   */\n  addMutedWord: (word) => api.post(\"/settings/muted-words\", { word }),\n\n  /**\n   * Remove a muted word\n   */\n  removeMutedWord: (word) => api.delete(`/settings/muted-words/${encodeURIComponent(word)}`),\n\n  // ============================================\n  // NOTIFICATIONS\n  // ============================================\n\n  /**\n   * Get notification settings\n   */\n  getNotifications: () => api.get(\"/settings/notifications\"),\n\n  /**\n   * Update notification settings\n   */\n  updateNotifications: (settings) => api.put(\"/settings/notifications\", settings),\n\n  // ============================================\n  // SESSIONS\n  // ============================================\n\n  /**\n   * Get all active sessions\n   */\n  getSessions: () => api.get(\"/settings/sessions\"),\n\n  /**\n   * Terminate a specific session\n   */\n  deleteSession: (sessionId) => api.delete(`/settings/sessions/${sessionId}`),\n\n  /**\n   * Terminate all other sessions (logout everywhere else)\n   */\n  deleteAllOtherSessions: () => api.delete(\"/settings/sessions\"),\n\n  // ============================================\n  // CONNECTED ACCOUNTS\n  // ============================================\n\n  /**\n   * Get connected OAuth accounts\n   */\n  getConnectedAccounts: () => api.get(\"/settings/connected-accounts\"),\n\n  /**\n   * Disconnect an OAuth provider\n   */\n  disconnectAccount: (provider) => api.delete(`/settings/connected-accounts/${provider}`),\n};\n\nexport default settingsApi;\n","import api from \"./client\";\n\n/**\n * Users API - Profile, Preferences, Content Filters, Blocking\n */\nconst usersApi = {\n  // ============================================\n  // DISCOVERY\n  // ============================================\n\n  /**\n   * Get discoverable users (for community page suggestions)\n   */\n  getDiscoverable: (limit = 10) => api.get(`/users?limit=${limit}`),\n\n  // ============================================\n  // PROFILE\n  // ============================================\n\n  /**\n   * Get a user's public profile\n   */\n  getProfile: (username) => api.get(`/users/${username}`),\n\n  /**\n   * Update my profile\n   */\n  updateProfile: (data) => api.put(\"/users/profile\", data),\n\n  // ============================================\n  // PREFERENCES\n  // ============================================\n\n  /**\n   * Update preferences (theme, visibility, view/audio prefs, DM settings)\n   */\n  updatePreferences: (data) => api.put(\"/users/preferences\", data),\n\n  // ============================================\n  // CONTENT FILTERS\n  // ============================================\n\n  /**\n   * Update content filters\n   */\n  updateContentFilters: (filters) => api.put(\"/users/content-filters\", filters),\n\n  // ============================================\n  // BLOCKING\n  // ============================================\n\n  /**\n   * Get blocked users list\n   */\n  getBlockedUsers: () => api.get(\"/users/blocked\"),\n\n  /**\n   * Block a user\n   */\n  blockUser: (userId) => api.post(`/users/block/${userId}`),\n\n  /**\n   * Unblock a user\n   */\n  unblockUser: (userId) => api.delete(`/users/block/${userId}`),\n};\n\nexport default usersApi;\n","import api from \"./client\";\n\n/**\n * Discovery API - Trending, Featured, Search, Genres, Fandoms, Tags\n */\nconst discoveryApi = {\n  // Trending works\n  trending: (period = \"week\", limit = 20) =>\n    api.get(`/discovery/trending?period=${period}&limit=${limit}`),\n\n  // Featured/staff picks\n  featured: () => api.get(\"/discovery/featured\"),\n\n  // Newest works\n  newest: (page = 1, limit = 20) =>\n    api.get(`/discovery/new?page=${page}&limit=${limit}`),\n\n  // Global search\n  search: (query, type = \"all\", page = 1, limit = 20) =>\n    api.get(`/discovery/search?q=${encodeURIComponent(query)}&type=${type}&page=${page}&limit=${limit}`),\n\n  // Genres\n  genres: () => api.get(\"/discovery/genres\"),\n  genre: (slug, page = 1, limit = 20, sort = \"popular\") =>\n    api.get(`/discovery/genres/${slug}?page=${page}&limit=${limit}&sort=${sort}`),\n\n  // Fandoms\n  fandoms: (category, search, page = 1, limit = 50) => {\n    const params = new URLSearchParams({ page, limit });\n    if (category) params.append(\"category\", category);\n    if (search) params.append(\"search\", search);\n    return api.get(`/discovery/fandoms?${params}`);\n  },\n  fandom: (slug, page = 1, limit = 20, sort = \"recent\") =>\n    api.get(`/discovery/fandoms/${slug}?page=${page}&limit=${limit}&sort=${sort}`),\n\n  // Tags\n  tags: (search, category, page = 1, limit = 50) => {\n    const params = new URLSearchParams({ page, limit });\n    if (search) params.append(\"search\", search);\n    if (category) params.append(\"category\", category);\n    return api.get(`/discovery/tags?${params}`);\n  },\n  tag: (slug, page = 1, limit = 20, sort = \"recent\") =>\n    api.get(`/discovery/tags/${slug}?page=${page}&limit=${limit}&sort=${sort}`),\n\n  // Sync genres, fandoms, and tags from existing works\n  sync: () => api.post(\"/discovery/sync\"),\n};\n\nexport default discoveryApi;\n","import api from \"./client\";\n\n/**\n * Bookmarks API\n */\nconst bookmarksApi = {\n  // List my bookmarks\n  list: (type, page = 1, limit = 20) => {\n    const params = new URLSearchParams({ page, limit });\n    if (type) params.append(\"type\", type);\n    return api.get(`/bookmarks?${params}`);\n  },\n\n  // Bookmark a work\n  bookmarkWork: (workId) => api.post(`/bookmarks/work/${workId}`),\n\n  // Remove work bookmark\n  unbookmarkWork: (workId) => api.delete(`/bookmarks/work/${workId}`),\n\n  // Bookmark a post\n  bookmarkPost: (postId) => api.post(`/bookmarks/post/${postId}`),\n\n  // Remove post bookmark\n  unbookmarkPost: (postId) => api.delete(`/bookmarks/post/${postId}`),\n\n  // Bookmark an audio track\n  bookmarkAudio: (audioId, workId, title, authorUsername) =>\n    api.post(`/bookmarks/audio/${audioId}`, { workId, title, authorUsername }),\n\n  // Remove audio bookmark\n  unbookmarkAudio: (audioId) => api.delete(`/bookmarks/audio/${audioId}`),\n\n  // Check if bookmarked\n  check: (workId, postId, audioId) => {\n    const params = new URLSearchParams();\n    if (workId) params.append(\"workId\", workId);\n    if (postId) params.append(\"postId\", postId);\n    if (audioId) params.append(\"audioId\", audioId);\n    return api.get(`/bookmarks/check?${params}`);\n  },\n};\n\nexport default bookmarksApi;\n","import api from \"./client\";\n\n/**\n * Likes API\n */\nconst likesApi = {\n  // Like a post\n  likePost: (postId) => api.post(`/likes/post/${postId}`),\n\n  // Unlike a post\n  unlikePost: (postId) => api.delete(`/likes/post/${postId}`),\n\n  // Like a work\n  likeWork: (workId) => api.post(`/likes/work/${workId}`),\n\n  // Unlike a work\n  unlikeWork: (workId) => api.delete(`/likes/work/${workId}`),\n\n  // Like a comment\n  likeComment: (commentId) => api.post(`/likes/comment/${commentId}`),\n\n  // Unlike a comment\n  unlikeComment: (commentId) => api.delete(`/likes/comment/${commentId}`),\n\n  // Check if liked\n  check: (workId, postId, commentId) => {\n    const params = new URLSearchParams();\n    if (workId) params.append(\"workId\", workId);\n    if (postId) params.append(\"postId\", postId);\n    if (commentId) params.append(\"commentId\", commentId);\n    return api.get(`/likes/check?${params}`);\n  },\n\n  // Get all liked post IDs for current user\n  getLikedPosts: () => api.get(\"/likes/posts\"),\n};\n\nexport default likesApi;\n","import api from \"./client\";\n\n/**\n * Comments API\n */\nconst commentsApi = {\n  // List comments for a work or post\n  list: (workId, postId, page = 1, limit = 20) => {\n    const params = new URLSearchParams({ page, limit });\n    if (workId) params.append(\"workId\", workId);\n    if (postId) params.append(\"postId\", postId);\n    return api.get(`/comments?${params}`);\n  },\n\n  // Create a comment on a work or post\n  create: (text, workId, postId, parentId, imageUrl) => {\n    const body = { text };\n    if (workId) body.workId = workId;\n    if (postId) body.postId = postId;\n    if (parentId) body.parentId = parentId;\n    if (imageUrl) body.imageUrl = imageUrl;\n    return api.post(\"/comments\", body);\n  },\n\n  // Update a comment\n  update: (commentId, text, imageUrl) => {\n    const body = { text };\n    if (imageUrl !== undefined) body.imageUrl = imageUrl;\n    return api.put(`/comments/${commentId}`, body);\n  },\n\n  // Get replies to a comment\n  replies: (commentId) => api.get(`/comments/${commentId}/replies`),\n\n  // Delete a comment\n  delete: (commentId) => api.delete(`/comments/${commentId}`),\n\n  // Like a comment\n  like: (commentId) => api.post(`/comments/${commentId}/like`),\n\n  // Unlike a comment\n  unlike: (commentId) => api.delete(`/comments/${commentId}/like`),\n};\n\nexport default commentsApi;\n","import api from \"./client\";\n\n/**\n * Import API - Import content from URLs and text\n */\nconst importApi = {\n  // Import from URL (Google Docs, web pages, etc.)\n  fromUrl: (url, format = \"html\") => api.post(\"/import/url\", { url, format }),\n\n  // Import from pasted text/HTML\n  fromText: (text, format = \"text\") => api.post(\"/import/text\", { text, format }),\n};\n\nexport default importApi;\n","import api from \"./client\";\n\nconst contactApi = {\n  send: (name, email, subject, message) =>\n    api.post(\"/contact\", { name, email, subject, message }),\n};\n\nexport default contactApi;\n","import api from \"./client\";\n\n/**\n * Community API - Community pages and announcements\n */\nconst communityApi = {\n  // Get my community page (creates default if none exists)\n  getMine: () => api.get(\"/community\"),\n\n  // Get another user's community page by handle\n  getByHandle: (handle) => api.get(`/community/${handle}`),\n\n  // Update my community page\n  update: (data) => api.put(\"/community\", data),\n\n  // Add an announcement\n  addAnnouncement: (text, pinned = false) =>\n    api.post(\"/community/announcements\", { text, pinned }),\n\n  // Delete an announcement by index\n  deleteAnnouncement: (index) =>\n    api.delete(`/community/announcements/${index}`),\n};\n\nexport default communityApi;\n","import api from \"./client\";\n\n/**\n * Follows API - Following users\n */\nconst followsApi = {\n  // Follow a user (or send follow request for private accounts)\n  follow: (userId) => api.post(`/follows/${userId}`),\n\n  // Unfollow a user (or cancel pending follow request)\n  unfollow: (userId) => api.delete(`/follows/${userId}`),\n\n  // Get my followers\n  getFollowers: () => api.get(\"/follows/followers\"),\n\n  // Get who I'm following\n  getFollowing: () => api.get(\"/follows/following\"),\n\n  // Check follow status with a user (returns: \"following\", \"pending\", or \"none\")\n  checkFollowing: (userId) => api.get(`/follows/check/${userId}`),\n\n  // Get a user's followers by username (public)\n  getUserFollowers: (username) => api.get(`/follows/user/${username}/followers`),\n\n  // Get who a user is following by username (public)\n  getUserFollowing: (username) => api.get(`/follows/user/${username}/following`),\n\n  // Get pending follow requests TO me\n  getRequests: () => api.get(\"/follows/requests\"),\n\n  // Get follow requests I've sent\n  getSentRequests: () => api.get(\"/follows/requests/sent\"),\n\n  // Accept a follow request\n  acceptRequest: (requestId) => api.put(`/follows/requests/${requestId}/accept`),\n\n  // Decline a follow request\n  declineRequest: (requestId) => api.put(`/follows/requests/${requestId}/decline`),\n};\n\nexport default followsApi;\n","import { api } from \"./client\";\n\n/**\n * Messages/Inbox API\n */\nconst messagesApi = {\n  // Get total unread message count\n  getUnreadCount: () => api.get(\"/messages/unread-count\"),\n\n  // Get all threads for current user\n  getThreads: () => api.get(\"/messages/threads\"),\n\n  // Get message requests (from non-followers)\n  getRequests: () => api.get(\"/messages/requests\"),\n\n  // Accept a message request (move to inbox)\n  acceptRequest: (threadId) => api.put(`/messages/requests/${threadId}/accept`),\n\n  // Decline a message request\n  declineRequest: (threadId) => api.delete(`/messages/requests/${threadId}`),\n\n  // Create a new thread with a user\n  createThread: (recipientId) => api.post(\"/messages/threads\", { recipientId }),\n\n  // Get a single thread with messages\n  getThread: (threadId) => api.get(`/messages/threads/${threadId}`),\n\n  // Send a message to a thread\n  sendMessage: (threadId, data) => api.post(`/messages/threads/${threadId}`, data),\n\n  // Mark messages as seen\n  markSeen: (threadId) => api.put(`/messages/threads/${threadId}/seen`),\n\n  // Mute a thread\n  mute: (threadId) => api.put(`/messages/threads/${threadId}/mute`),\n\n  // Unmute a thread\n  unmute: (threadId) => api.put(`/messages/threads/${threadId}/unmute`),\n\n  // Delete a thread\n  deleteThread: (threadId) => api.delete(`/messages/threads/${threadId}`),\n\n  // Add reaction to a message\n  addReaction: (messageId, emoji) => api.post(`/messages/${messageId}/reactions`, { emoji }),\n\n  // Remove reaction from a message\n  removeReaction: (messageId, emoji) => api.delete(`/messages/${messageId}/reactions/${encodeURIComponent(emoji)}`),\n\n  // Get files shared in inbox (all threads)\n  getFiles: () => api.get(\"/messages/files\"),\n\n  // Search users for new message\n  searchUsers: (query) => api.get(`/messages/users?q=${encodeURIComponent(query)}`),\n\n  // Get mutuals for messaging suggestions\n  getMutuals: () => api.get(\"/messages/mutuals\"),\n\n  // Update inbox settings (read receipts toggle)\n  updateSettings: (settings) => api.put(\"/messages/settings\", settings),\n\n  // Get inbox settings\n  getSettings: () => api.get(\"/messages/settings\"),\n};\n\nexport default messagesApi;\n","import api from \"./client\";\n\n/**\n * Posts API - Community posts\n */\nconst postsApi = {\n  // Get posts feed\n  list: (params = {}) => {\n    const query = new URLSearchParams();\n    if (params.page) query.set(\"page\", params.page);\n    if (params.limit) query.set(\"limit\", params.limit);\n    if (params.type) query.set(\"type\", params.type);\n    if (params.author) query.set(\"author\", params.author);\n    const qs = query.toString();\n    return api.get(`/posts${qs ? `?${qs}` : \"\"}`);\n  },\n\n  // Get my posts\n  getMine: () => api.get(\"/posts/mine\"),\n\n  // Get single post\n  get: (postId) => api.get(`/posts/${postId}`),\n\n  // Create a new post\n  create: (data) => api.post(\"/posts\", data),\n\n  // Update a post\n  update: (postId, data) => api.put(`/posts/${postId}`, data),\n\n  // Delete a post\n  delete: (postId) => api.delete(`/posts/${postId}`),\n};\n\nexport default postsApi;\n","import api from \"./client\";\n\n/**\n * Skins API\n */\nconst skinsApi = {\n  // List my skins\n  list: (appliesTo) => {\n    const params = new URLSearchParams();\n    if (appliesTo) params.append(\"appliesTo\", appliesTo);\n    return api.get(`/skins?${params}`);\n  },\n\n  // Get a specific skin\n  get: (skinId) => api.get(`/skins/${skinId}`),\n\n  // Create a new skin\n  create: (name, appliesTo, css, isPublic = false) =>\n    api.post(\"/skins\", { name, appliesTo, css, isPublic }),\n\n  // Update a skin\n  update: (skinId, { name, appliesTo, css, isPublic }) =>\n    api.put(`/skins/${skinId}`, { name, appliesTo, css, isPublic }),\n\n  // Delete a skin\n  delete: (skinId) => api.delete(`/skins/${skinId}`),\n};\n\nexport default skinsApi;\n","var _g, _g2, _g3;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgDraftNav(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 0 512 512\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#ffffff\",\n    stroke: \"#ffffff\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_bgCarrier\",\n    strokeWidth: 0\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_tracerCarrier\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_iconCarrier\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#ffffff\",\n    d: \"M470.7 20L368.2 49.81l41.5-28.09c-26.2 5.92-59.3 17.5-100.9 36.19l-67.9 70.79L265 79.25c-23.3 12.96-48 29.95-71.8 49.85l-15.8 64.3-3.4-47.6c-23.5 21.6-45.6 45.6-63.9 70.9-19.23 26.5-34.26 54.5-41.79 82.4l-28.12-18.8c2.52 23.7 10.31 44.3 23.09 63.2l-33.62-10.3c7.64 23.5 20.13 38.7 41.25 51-11.83 33.3-17.38 68.1-23.34 102.8l18.4 3.1C87.31 277.4 237.9 141.8 374 81.72l6.9 17.38c-121.7 54.5-216.3 146.5-265.8 279.1 18.1.1 35.8-2.1 52.2-6.3l4.9-60.9 13.1 55.5c10.9-4 20.9-8.8 29.8-14.4l-20.7-43.5 32.8 34.8c8-6.4 14.6-13.6 19.6-21.5 30.4-47.5 62.2-94.7 124.8-134.2l-45.7-16.2 70.1 2.1c11.4-5.8 23.4-12.9 32.5-19.6l-49.7-4 74.7-17.6c5.8-5.8 11.2-11.9 16.1-18 17.3-21.94 29-44.78 26.2-65.55-1.3-10.39-7.5-20.16-17.6-25.63-2.5-1.3-5.2-2.45-7.5-3.22z\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgDraftNav);\nexport default __webpack_public_path__ + \"static/media/draft_nav.47a76b692bb7f930d6b49103a0eb08b4.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgInboxNav(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#ffffff\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 0 512 512\",\n    xmlSpace: \"preserve\",\n    stroke: \"#ffffff\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_bgCarrier\",\n    strokeWidth: 0\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_tracerCarrier\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_iconCarrier\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"7935ec95c421cee6d86eb22ecd12600d\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      display: \"inline\"\n    },\n    d: \"M170.591,239.406L1.584,429.263c-0.433-1.911-1.084-3.759-1.084-5.852V88.589 c0-2.541,0.71-4.837,1.356-7.144L170.591,239.406z M493.987,65.524c-1.238-0.277-2.424-0.876-3.79-0.876H21.819 c-1.297,0-2.456,0.599-3.769,0.876l237.961,222.734L493.987,65.524z M262.808,313.021c-1.954,1.869-4.372,2.777-6.797,2.777 c-2.419,0-4.842-0.908-6.775-2.777l-62.21-58.217L16.656,446.145c1.698,0.523,3.364,1.207,5.163,1.207h468.378 c1.89,0,3.534-0.684,5.243-1.207L325.082,254.804L262.808,313.021z M341.494,239.406l168.98,189.836 c0.459-1.911,1.025-3.759,1.025-5.831V88.589c0-2.499-0.62-4.837-1.26-7.133L341.494,239.406z\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgInboxNav);\nexport default __webpack_public_path__ + \"static/media/inbox_nav.71604770e5da501fb48453323c8fd6e1.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgNotificationsNav(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"#ffffff\",\n    strokeWidth: 0.00024000000000000003,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_bgCarrier\",\n    strokeWidth: 0\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_tracerCarrier\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_iconCarrier\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8.04283 5.1757C8.59546 4.75121 9.24946 4.43224 10.0136 4.23441C10.0046 4.15752 10 4.0793 10 4C10 2.89543 10.8955 2 12 2C13.1046 2 14 2.89543 14 4C14 4.0793 13.9954 4.15752 13.9864 4.23441C14.7506 4.43224 15.4046 4.75121 15.9572 5.1757C16.933 5.92519 17.4981 6.93095 17.8325 7.93362C18.1644 8.92891 18.2842 9.96595 18.3426 10.8395C18.3663 11.1941 18.3806 11.5351 18.3932 11.8357L18.4018 12.0385C18.4175 12.3994 18.433 12.6684 18.4596 12.8673C18.6553 14.329 18.8982 15.3543 19.2438 16.1741C19.5816 16.9754 20.0345 17.6202 20.7071 18.2929C20.9931 18.5789 21.0787 19.009 20.9239 19.3827C20.7691 19.7564 20.4045 20 20 20H13.7325C13.9026 20.2942 14 20.6357 14 21C14 22.1046 13.1046 23 12 23C10.8955 23 10 22.1046 10 21C10 20.6357 10.0974 20.2942 10.2676 20H4.00003C3.59557 20 3.23093 19.7564 3.07615 19.3827C2.92137 19.009 3.00692 18.5789 3.29292 18.2929C3.96694 17.6189 4.4186 16.9787 4.75553 16.1809C5.1004 15.3642 5.3434 14.3395 5.54043 12.8673C5.56706 12.6684 5.58255 12.3994 5.59827 12.0385L5.60687 11.8357C5.61945 11.5351 5.63371 11.1941 5.65744 10.8395C5.7159 9.96595 5.83561 8.92891 6.16756 7.93362C6.50196 6.93095 7.06705 5.92519 8.04283 5.1757ZM6.06869 18C6.26568 17.6741 6.44135 17.3298 6.59797 16.959C7.04284 15.9056 7.31562 14.6803 7.52276 13.1327C7.56305 12.8316 7.58113 12.4756 7.59638 12.1255L7.60555 11.9095C7.61808 11.6105 7.63109 11.3002 7.65298 10.973C7.70745 10.159 7.81312 9.32109 8.06482 8.56638C8.31407 7.81905 8.6909 7.19981 9.26113 6.7618C9.82482 6.32883 10.6723 6 12 6C13.3278 6 14.1752 6.32883 14.7389 6.7618C15.3092 7.19981 15.686 7.81905 15.9352 8.56638C16.1869 9.32109 16.2926 10.159 16.3471 10.973C16.369 11.3002 16.382 11.6105 16.3945 11.9095L16.3945 11.9095L16.3945 11.9096L16.4037 12.1255C16.4189 12.4756 16.437 12.8316 16.4773 13.1327C16.6832 14.671 16.956 15.8957 17.4008 16.9509C17.5583 17.3244 17.735 17.6714 17.9334 18H6.06869Z\",\n    fill: \"#ffffff\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgNotificationsNav);\nexport default __webpack_public_path__ + \"static/media/notifications_nav.ade0a0e72659bc4a3e08d0fd27a59295.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgSearchNav(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#ffffff\",\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"#ffffff\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_bgCarrier\",\n    strokeWidth: 0\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_tracerCarrier\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_iconCarrier\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27 24.57l-5.647-5.648a8.895 8.895 0 0 0 1.522-4.984C22.875 9.01 18.867 5 13.938 5 9.01 5 5 9.01 5 13.938c0 4.929 4.01 8.938 8.938 8.938a8.887 8.887 0 0 0 4.984-1.522L24.568 27 27 24.57zm-13.062-4.445a6.194 6.194 0 0 1-6.188-6.188 6.195 6.195 0 0 1 6.188-6.188 6.195 6.195 0 0 1 6.188 6.188 6.195 6.195 0 0 1-6.188 6.188z\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearchNav);\nexport default __webpack_public_path__ + \"static/media/search_nav.f40a98ffd95b90fa922db1c181a1ceb0.svg\";\nexport { ForwardRef as ReactComponent };","\n\n//         (\\_/)\n //    (  =(^Y^)=\n // ____\\_(m___m)____Welcome___\n\n\nimport React from \"react\";\nimport { NavLink, useLocation, useNavigate } from \"react-router-dom\";\nimport { authApi } from \"../api\";\nimport notificationsApi from \"../api/notifications\";\nimport messagesApi from \"../api/messages\";\nimport { initSocket, onNotification, onNotificationsRead, onNewMessage } from \"../api/socket\";\nimport \"./Navbar.css\";\n\n// Assets\nimport sableLogo from \"../assets/images/Sable_Logo.png\";\n\nimport draftNavIcon from \"../assets/images/draft_nav.svg\";\nimport inboxNavIcon from \"../assets/images/inbox_nav.svg\";\nimport notificationsNavIcon from \"../assets/images/notifications_nav.svg\";\nimport searchNavIcon from \"../assets/images/search_nav.svg\";\n\nimport loginGraphic from \"../assets/images/login_graphic.png\";\n\nexport default function Navbar({ isAuthed, username, onLogin, onLogout }) {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const path = location.pathname;\n\n  // Show browse bar on browse library index/detail pages\n  const showBrowseBar =\n    path === \"/browse\" ||\n    path === \"/genres\" ||\n    path.startsWith(\"/genres/\") ||\n    path === \"/fandoms\" ||\n    path.startsWith(\"/fandoms/\") ||\n    path === \"/tags\";\n\n  const [query, setQuery] = React.useState(\"\");\n\n  const [isBrowseMenuOpen, setIsBrowseMenuOpen] = React.useState(false);\n  const browseMenuRef = React.useRef(null);\n\n  const [isAuthModalOpen, setIsAuthModalOpen] = React.useState(false);\n  const [authMode, setAuthMode] = React.useState(\"login\"); // \"login\" | \"signup\" | \"2fa\"\n\n  const [formUsername, setFormUsername] = React.useState(\"\");\n  const [formEmail, setFormEmail] = React.useState(\"\");\n  const [formPassword, setFormPassword] = React.useState(\"\");\n  const [formConfirmPassword, setFormConfirmPassword] = React.useState(\"\");\n  const [form2FACode, setForm2FACode] = React.useState(\"\");\n  const [pending2FAUserId, setPending2FAUserId] = React.useState(null);\n  const [authError, setAuthError] = React.useState(\"\");\n  const [authLoading, setAuthLoading] = React.useState(false);\n\n  // Password visibility toggles\n  const [showPassword, setShowPassword] = React.useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = React.useState(false);\n\n  const [isUserMenuOpen, setIsUserMenuOpen] = React.useState(false);\n  const userMenuRef = React.useRef(null);\n\n  // Mobile menu state\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = React.useState(false);\n  const mobileMenuRef = React.useRef(null);\n\n  // Notification and inbox counts for red dot indicators\n  const [notificationCount, setNotificationCount] = React.useState(0);\n  const [inboxCount, setInboxCount] = React.useState(0);\n\n  function toggleMobileMenu() {\n    setIsMobileMenuOpen((v) => !v);\n  }\n\n  function closeMobileMenu() {\n    setIsMobileMenuOpen(false);\n  }\n\n  function goToSearch(optionalQuery) {\n    const q = String(optionalQuery ?? query).trim();\n    if (!q) {\n      navigate(\"/search\");\n      return;\n    }\n    navigate(`/search?q=${encodeURIComponent(q)}`);\n  }\n\n  function handleBrowseSubmit(e) {\n    e.preventDefault();\n    const q = query.trim();\n    if (!q) return;\n    goToSearch(q);\n    setIsBrowseMenuOpen(false);\n  }\n\n  function openLogin() {\n    setAuthMode(\"login\");\n    setIsAuthModalOpen(true);\n    setAuthError(\"\");\n  }\n\n  function closeAuthModal() {\n    if (authLoading) return; // Don't close while loading\n    setIsAuthModalOpen(false);\n    setFormUsername(\"\");\n    setFormEmail(\"\");\n    setFormPassword(\"\");\n    setFormConfirmPassword(\"\");\n    setForm2FACode(\"\");\n    setPending2FAUserId(null);\n    setAuthError(\"\");\n    setAuthMode(\"login\");\n    setShowPassword(false);\n    setShowConfirmPassword(false);\n  }\n\n  function resetAuthFieldsForMode(nextMode) {\n    if (authLoading) return; // Don't switch modes while loading\n    setAuthMode(nextMode);\n    setAuthError(\"\");\n    setFormEmail(\"\");\n    setFormPassword(\"\");\n    setFormConfirmPassword(\"\");\n  }\n\n  async function handleAuthSubmit(e) {\n    e.preventDefault();\n\n    const u = (formUsername || \"\").trim();\n    const em = (formEmail || \"\").trim();\n    const p = formPassword || \"\";\n\n    if (!u) {\n      setAuthError(\"Please enter a username.\");\n      return;\n    }\n\n    if (authMode === \"signup\" && !em) {\n      setAuthError(\"Please enter your email address.\");\n      return;\n    }\n\n    if (!p) {\n      setAuthError(\"Please enter a password.\");\n      return;\n    }\n\n    if (authMode === \"signup\") {\n      if (!formConfirmPassword) {\n        setAuthError(\"Please confirm your password.\");\n        return;\n      }\n      if (formPassword !== formConfirmPassword) {\n        setAuthError(\"Passwords do not match.\");\n        return;\n      }\n    }\n\n    setAuthLoading(true);\n    setAuthError(\"\");\n\n    try {\n      let data;\n      if (authMode === \"signup\") {\n        data = await authApi.register({ username: u, email: em, password: p });\n      } else {\n        data = await authApi.login({ username: u, password: p });\n      }\n\n      // Check if 2FA is required\n      if (data.requires2FA) {\n        setPending2FAUserId(data.userId);\n        setAuthMode(\"2fa\");\n        setAuthLoading(false);\n        return;\n      }\n\n      onLogin(data.user);\n      setIsAuthModalOpen(false);\n      setFormUsername(\"\");\n      setFormEmail(\"\");\n      setFormPassword(\"\");\n      setFormConfirmPassword(\"\");\n      setForm2FACode(\"\");\n      setPending2FAUserId(null);\n      setAuthError(\"\");\n    } catch (err) {\n      setAuthError(err.message || \"Authentication failed. Please try again.\");\n    } finally {\n      setAuthLoading(false);\n    }\n  }\n\n  async function handle2FASubmit(e) {\n    e.preventDefault();\n\n    const code = form2FACode.replace(/\\D/g, \"\");\n\n    if (!code) {\n      setAuthError(\"Please enter your 2FA code.\");\n      return;\n    }\n\n    setAuthLoading(true);\n    setAuthError(\"\");\n\n    try {\n      const data = await authApi.validate2FA(pending2FAUserId, code);\n\n      onLogin(data.user);\n      setIsAuthModalOpen(false);\n      setFormUsername(\"\");\n      setFormEmail(\"\");\n      setFormPassword(\"\");\n      setFormConfirmPassword(\"\");\n      setForm2FACode(\"\");\n      setPending2FAUserId(null);\n      setAuthError(\"\");\n    } catch (err) {\n      setAuthError(err.message || \"Invalid 2FA code. Please try again.\");\n    } finally {\n      setAuthLoading(false);\n    }\n  }\n\n  function handleGoogleContinue() {\n    // Redirect to Google OAuth endpoint\n    const apiUrl = process.env.REACT_APP_API_URL || \"http://localhost:5050/api\";\n    window.location.href = `${apiUrl}/auth/google`;\n  }\n\n  function toggleUserMenu() {\n    setIsUserMenuOpen((v) => !v);\n  }\n\n  function closeUserMenu() {\n    setIsUserMenuOpen(false);\n  }\n\n  function openBrowseMenu() {\n    setIsBrowseMenuOpen(true);\n  }\n\n  function closeBrowseMenu() {\n    setIsBrowseMenuOpen(false);\n  }\n\n  function handleBrowseCategoryClick(category) {\n    if (category === \"Genre\") {\n      closeBrowseMenu();\n      navigate(\"/genres\");\n      return;\n    }\n\n    if (category === \"Fandom\") {\n      closeBrowseMenu();\n      navigate(\"/fandoms\");\n      return;\n    }\n\n    if (category === \"Tags\") {\n      closeBrowseMenu();\n      navigate(\"/tags\");\n      return;\n    }\n\n    if (category === \"Bookmarks\") {\n      closeBrowseMenu();\n\n      // Logged-out users should not see Bookmarks in the browse dropdown.\n      // But if something somehow triggers it anyway, prompt auth.\n      if (!isAuthed) {\n        openLogin();\n        return;\n      }\n\n      navigate(\"/bookmarks\");\n      return;\n    }\n  }\n\n  React.useEffect(() => {\n    function onDocMouseDown(e) {\n      if (isUserMenuOpen && userMenuRef.current && !userMenuRef.current.contains(e.target)) {\n        closeUserMenu();\n      }\n      if (isBrowseMenuOpen && browseMenuRef.current && !browseMenuRef.current.contains(e.target)) {\n        closeBrowseMenu();\n      }\n      if (isMobileMenuOpen && mobileMenuRef.current && !mobileMenuRef.current.contains(e.target)) {\n        closeMobileMenu();\n      }\n    }\n\n    function onKeyDown(e) {\n      if (e.key === \"Escape\") {\n        closeUserMenu();\n        closeBrowseMenu();\n        closeMobileMenu();\n        if (isAuthModalOpen) closeAuthModal();\n      }\n    }\n\n    document.addEventListener(\"mousedown\", onDocMouseDown);\n    document.addEventListener(\"keydown\", onKeyDown);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", onDocMouseDown);\n      document.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [isUserMenuOpen, isBrowseMenuOpen, isMobileMenuOpen, isAuthModalOpen]);\n\n  React.useEffect(() => {\n    closeUserMenu();\n    closeBrowseMenu();\n    closeMobileMenu();\n  }, [location.pathname]);\n\n  React.useEffect(() => {\n    function onOpenAuth() {\n      openLogin();\n    }\n    window.addEventListener(\"sable:open-auth\", onOpenAuth);\n    return () => window.removeEventListener(\"sable:open-auth\", onOpenAuth);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Fetch notification and inbox counts when authenticated\n  React.useEffect(() => {\n    if (!isAuthed) {\n      setNotificationCount(0);\n      setInboxCount(0);\n      return;\n    }\n\n    // Fetch initial counts\n    const fetchCounts = async () => {\n      try {\n        const [notifResponse, inboxResponse] = await Promise.all([\n          notificationsApi.getCount(),\n          messagesApi.getUnreadCount(),\n        ]);\n        setNotificationCount(notifResponse.count || 0);\n        setInboxCount(inboxResponse.total || 0);\n      } catch (err) {\n        console.error(\"Failed to fetch counts:\", err);\n      }\n    };\n\n    fetchCounts();\n\n    // Setup real-time notification listeners\n    initSocket();\n\n    const unsubNotification = onNotification(() => {\n      setNotificationCount((prev) => prev + 1);\n    });\n\n    const unsubRead = onNotificationsRead((data) => {\n      if (data.all) {\n        setNotificationCount(0);\n      } else {\n        setNotificationCount((prev) => Math.max(0, prev - (data.count || 1)));\n      }\n    });\n\n    // Listen for new messages to increment inbox count\n    const unsubMessage = onNewMessage(() => {\n      setInboxCount((prev) => prev + 1);\n    });\n\n    // Poll inbox count periodically (every 30 seconds) as backup\n    const inboxPollInterval = setInterval(async () => {\n      try {\n        const response = await messagesApi.getUnreadCount();\n        setInboxCount(response.total || 0);\n      } catch (err) {\n        // Silently ignore polling errors\n      }\n    }, 30000);\n\n    return () => {\n      unsubNotification();\n      unsubRead();\n      unsubMessage();\n      clearInterval(inboxPollInterval);\n    };\n  }, [isAuthed]);\n\n  const browseItems = isAuthed ? [\"Genre\", \"Fandom\", \"Tags\", \"Bookmarks\"] : [\"Genre\", \"Fandom\", \"Tags\"];\n\n  return (\n    <header className=\"sable-header\">\n      <div className=\"topbar\">\n        <div className=\"topbar-left\">\n          <button\n            type=\"button\"\n            className=\"brand\"\n            aria-label=\"Go to Home\"\n            onClick={() => navigate(\"/\")}\n          >\n            <img className=\"brand-logo\" src={sableLogo} alt=\"\" aria-hidden=\"true\" />\n            <span className=\"brand-text\">SABLE</span>\n          </button>\n\n          <nav className=\"topnav topnav--desktop\" aria-label=\"Primary navigation\">\n            <NavLink\n              to=\"/browse\"\n              className={({ isActive }) => (isActive ? \"navlink active\" : \"navlink\")}\n            >\n              Browse\n            </NavLink>\n\n            <span className=\"divider\" aria-hidden=\"true\" />\n\n            <NavLink\n              to=\"/communities\"\n              className={({ isActive }) => (isActive ? \"navlink active\" : \"navlink\")}\n            >\n              Communities\n            </NavLink>\n\n            <span className=\"divider\" aria-hidden=\"true\" />\n\n            <NavLink\n              to=\"/about\"\n              className={({ isActive }) => (isActive ? \"navlink active\" : \"navlink\")}\n            >\n              About Us\n            </NavLink>\n\n            <span className=\"divider\" aria-hidden=\"true\" />\n\n            <NavLink\n              to=\"/faq\"\n              className={({ isActive }) => (isActive ? \"navlink active\" : \"navlink\")}\n            >\n              FAQ\n            </NavLink>\n          </nav>\n        </div>\n\n        {/* Hamburger button for mobile */}\n        <div className=\"hamburger-wrap\" ref={mobileMenuRef}>\n          <button\n            type=\"button\"\n            className=\"hamburger-btn\"\n            onClick={toggleMobileMenu}\n            aria-label=\"Toggle menu\"\n            aria-expanded={isMobileMenuOpen}\n          >\n            <span className={`hamburger-icon ${isMobileMenuOpen ? \"hamburger-icon--open\" : \"\"}`}>\n              <span></span>\n              <span></span>\n              <span></span>\n            </span>\n          </button>\n\n          {isMobileMenuOpen && (\n            <div className=\"mobile-menu\" role=\"menu\" aria-label=\"Mobile navigation\">\n              <nav className=\"mobile-nav\">\n                <NavLink\n                  to=\"/browse\"\n                  className={({ isActive }) => (isActive ? \"mobile-navlink active\" : \"mobile-navlink\")}\n                  onClick={closeMobileMenu}\n                >\n                  Browse\n                </NavLink>\n                <NavLink\n                  to=\"/communities\"\n                  className={({ isActive }) => (isActive ? \"mobile-navlink active\" : \"mobile-navlink\")}\n                  onClick={closeMobileMenu}\n                >\n                  Communities\n                </NavLink>\n                <NavLink\n                  to=\"/about\"\n                  className={({ isActive }) => (isActive ? \"mobile-navlink active\" : \"mobile-navlink\")}\n                  onClick={closeMobileMenu}\n                >\n                  About Us\n                </NavLink>\n                <NavLink\n                  to=\"/faq\"\n                  className={({ isActive }) => (isActive ? \"mobile-navlink active\" : \"mobile-navlink\")}\n                  onClick={closeMobileMenu}\n                >\n                  FAQ\n                </NavLink>\n              </nav>\n\n              <div className=\"mobile-divider\" />\n\n              {isAuthed ? (\n                <>\n                  <div className=\"mobile-section-title\">Quick Actions</div>\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink\"\n                    onClick={() => { closeMobileMenu(); goToSearch(); }}\n                  >\n                    Search\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink\"\n                    onClick={() => { closeMobileMenu(); navigate(\"/new-draft\"); }}\n                  >\n                    New Draft\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink mobile-navlink--withBadge\"\n                    onClick={() => { closeMobileMenu(); navigate(\"/inbox\"); }}\n                  >\n                    Inbox\n                    {inboxCount > 0 && <span className=\"mobile-badge\">{inboxCount}</span>}\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink mobile-navlink--withBadge\"\n                    onClick={() => { closeMobileMenu(); navigate(\"/notifications\"); }}\n                  >\n                    Notifications\n                    {notificationCount > 0 && <span className=\"mobile-badge\">{notificationCount}</span>}\n                  </button>\n\n                  <div className=\"mobile-divider\" />\n\n                  <div className=\"mobile-section-title\">Account</div>\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink\"\n                    onClick={() => { closeMobileMenu(); navigate(\"/communities/me\"); }}\n                  >\n                    Your Community Page\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink\"\n                    onClick={() => { closeMobileMenu(); navigate(\"/profile\"); }}\n                  >\n                    Profile\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink\"\n                    onClick={() => { closeMobileMenu(); navigate(\"/settings\"); }}\n                  >\n                    Settings\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink\"\n                    onClick={() => { closeMobileMenu(); navigate(\"/bookmarks\"); }}\n                  >\n                    Bookmarks\n                  </button>\n\n                  <div className=\"mobile-divider\" />\n\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink mobile-navlink--danger\"\n                    onClick={() => { closeMobileMenu(); onLogout(); navigate(\"/\"); }}\n                  >\n                    Log Out\n                  </button>\n                </>\n              ) : (\n                <>\n                  <button\n                    type=\"button\"\n                    className=\"mobile-navlink\"\n                    onClick={() => { closeMobileMenu(); goToSearch(); }}\n                  >\n                    Search\n                  </button>\n\n                  <div className=\"mobile-divider\" />\n\n                  <button\n                    type=\"button\"\n                    className=\"mobile-login-btn\"\n                    onClick={() => { closeMobileMenu(); openLogin(); }}\n                  >\n                    Log In\n                  </button>\n                </>\n              )}\n            </div>\n          )}\n        </div>\n\n        <div className=\"topbar-right topbar-right--desktop\">\n          {isAuthed ? (\n            <>\n              <div className=\"userMenu\" ref={userMenuRef}>\n                <button\n                  type=\"button\"\n                  className=\"userButton\"\n                  onClick={toggleUserMenu}\n                  aria-haspopup=\"menu\"\n                  aria-expanded={isUserMenuOpen ? \"true\" : \"false\"}\n                >\n                  <span className=\"greetingText\">Hi, {username}!</span>\n                  <span className=\"chev\" aria-hidden=\"true\">\n                    \n                  </span>\n                </button>\n\n                {isUserMenuOpen ? (\n                  <div className=\"dropdown\" role=\"menu\" aria-label=\"User menu\">\n                    <button\n                      type=\"button\"\n                      className=\"dropItem\"\n                      role=\"menuitem\"\n                      onClick={() => navigate(\"/communities/me\")}\n                    >\n                      Your Community Page\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"dropItem\"\n                      role=\"menuitem\"\n                      onClick={() => navigate(\"/profile\")}\n                    >\n                      Profile\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"dropItem\"\n                      role=\"menuitem\"\n                      onClick={() => navigate(\"/settings\")}\n                    >\n                      Settings\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"dropItem\"\n                      role=\"menuitem\"\n                      onClick={() => navigate(\"/bookmarks\")}\n                    >\n                      Bookmarks\n                    </button>\n\n                    <div className=\"dropDivider\" aria-hidden=\"true\" />\n\n                    <button\n                      type=\"button\"\n                      className=\"dropItem danger\"\n                      role=\"menuitem\"\n                      onClick={() => {\n                        closeUserMenu();\n                        onLogout();\n                        navigate(\"/\");\n                      }}\n                    >\n                      Log out\n                    </button>\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"iconbar\" aria-label=\"Quick actions\">\n                <button\n                  type=\"button\"\n                  className=\"iconbtn iconbtn--svg\"\n                  aria-label=\"Search\"\n                  onClick={() => goToSearch()}\n                  title=\"Search\"\n                >\n                  <img className=\"navIcon\" src={searchNavIcon} alt=\"\" aria-hidden=\"true\" />\n                </button>\n\n                <button\n                  type=\"button\"\n                  className=\"iconbtn iconbtn--svg\"\n                  aria-label=\"New draft\"\n                  onClick={() => navigate(\"/new-draft\")}\n                  title=\"New Draft\"\n                >\n                  <img className=\"navIcon\" src={draftNavIcon} alt=\"\" aria-hidden=\"true\" />\n                </button>\n\n                <button\n                  type=\"button\"\n                  className=\"iconbtn iconbtn--svg iconbtn--withBadge\"\n                  aria-label={`Inbox${inboxCount > 0 ? ` (${inboxCount} unread)` : \"\"}`}\n                  onClick={() => navigate(\"/inbox\")}\n                  title=\"Inbox\"\n                >\n                  <img className=\"navIcon\" src={inboxNavIcon} alt=\"\" aria-hidden=\"true\" />\n                  {inboxCount > 0 && <span className=\"iconbtn-badge\" aria-hidden=\"true\" />}\n                </button>\n\n                <button\n                  type=\"button\"\n                  className=\"iconbtn iconbtn--svg iconbtn--withBadge\"\n                  aria-label={`Notifications${notificationCount > 0 ? ` (${notificationCount} unread)` : \"\"}`}\n                  onClick={() => navigate(\"/notifications\")}\n                  title=\"Notifications\"\n                >\n                  <img className=\"navIcon\" src={notificationsNavIcon} alt=\"\" aria-hidden=\"true\" />\n                  {notificationCount > 0 && <span className=\"iconbtn-badge\" aria-hidden=\"true\" />}\n                </button>\n              </div>\n            </>\n          ) : (\n            <>\n              <div className=\"iconbar\" aria-label=\"Quick actions\">\n                <button\n                  type=\"button\"\n                  className=\"iconbtn iconbtn--svg\"\n                  aria-label=\"Search\"\n                  onClick={() => goToSearch()}\n                  title=\"Search\"\n                >\n                  <img className=\"navIcon\" src={searchNavIcon} alt=\"\" aria-hidden=\"true\" />\n                </button>\n              </div>\n\n              <button type=\"button\" className=\"loginBtn\" onClick={openLogin}>\n                Log In\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n\n      {showBrowseBar ? (\n        <div className=\"subbar\">\n          <div className=\"browseWrap\" ref={browseMenuRef}>\n            <form className=\"browseForm\" onSubmit={handleBrowseSubmit} role=\"search\">\n              <span className=\"searchIcon\" aria-hidden=\"true\">\n                \n              </span>\n\n              <input\n                className=\"browseInput\"\n                type=\"search\"\n                placeholder=\"Browse...\"\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n                onFocus={openBrowseMenu}\n                onClick={openBrowseMenu}\n                aria-label=\"Browse\"\n                aria-expanded={isBrowseMenuOpen ? \"true\" : \"false\"}\n                aria-haspopup=\"listbox\"\n              />\n            </form>\n\n            {isBrowseMenuOpen ? (\n              <div className=\"browseDropdown\" role=\"listbox\" aria-label=\"Browse categories\">\n                {browseItems.map((item) => (\n                  <button\n                    key={item}\n                    type=\"button\"\n                    className=\"browseDropItem\"\n                    role=\"option\"\n                    onClick={() => handleBrowseCategoryClick(item)}\n                  >\n                    {item}\n                  </button>\n                ))}\n              </div>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n\n      {isAuthModalOpen ? (\n        <div\n          className=\"loginOverlay\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-label={authMode === \"login\" ? \"Log in\" : \"Sign up\"}\n          onMouseDown={(e) => {\n            if (e.target === e.currentTarget) closeAuthModal();\n          }}\n        >\n          <div className=\"loginCard\">\n            <button\n              type=\"button\"\n              className=\"loginClose\"\n              onClick={closeAuthModal}\n              aria-label=\"Close\"\n              title=\"Close\"\n            >\n              \n            </button>\n\n            <img className=\"loginGraphic\" src={loginGraphic} alt=\"\" aria-hidden=\"true\" />\n\n            <h2 className=\"loginTitle\">\n              {authMode === \"2fa\"\n                ? \"Two-Factor Authentication\"\n                : authMode === \"login\"\n                ? \"Log in now and start reading!\"\n                : \"Sign up and start reading!\"}\n            </h2>\n\n            <p className=\"loginSub\">\n              {authMode === \"2fa\"\n                ? \"Enter the code from your authenticator app\"\n                : \"Discover stories and create your own to share with others\"}\n            </p>\n\n            {authMode !== \"2fa\" && (\n              <>\n                <button type=\"button\" className=\"googleBtn\" onClick={handleGoogleContinue}>\n                  <span className=\"googleDot\" aria-hidden=\"true\">\n                    G\n                  </span>\n                  <span className=\"googleText\">Continue with Google</span>\n                </button>\n\n                <div className=\"authSwitch\">\n                  {authMode === \"login\" ? (\n                    <>\n                      <span>Dont have an account ? </span>\n                      <button\n                        type=\"button\"\n                        className=\"authLink\"\n                        onClick={() => resetAuthFieldsForMode(\"signup\")}\n                      >\n                        Sign Up\n                      </button>\n                    </>\n                  ) : (\n                    <>\n                      <span>Already have an account ? </span>\n                      <button\n                        type=\"button\"\n                        className=\"authLink\"\n                        onClick={() => resetAuthFieldsForMode(\"login\")}\n                      >\n                        Log In\n                      </button>\n                    </>\n                  )}\n                </div>\n              </>\n            )}\n\n            {authMode === \"2fa\" ? (\n              <form className=\"loginForm\" onSubmit={handle2FASubmit}>\n                <label className=\"loginField\">\n                  <span className=\"loginLabel\">Authentication Code</span>\n                  <input\n                    className=\"loginInput\"\n                    value={form2FACode}\n                    onChange={(e) => setForm2FACode(e.target.value.replace(/\\D/g, \"\").slice(0, 8))}\n                    placeholder=\"Enter 6-digit code or backup code\"\n                    autoFocus\n                    style={{ textAlign: \"center\", letterSpacing: 4 }}\n                  />\n                </label>\n\n                <p style={{ fontSize: 12, color: \"rgba(255,255,255,0.7)\", marginTop: -4, marginBottom: 8 }}>\n                  You can also use a backup code (format: XXXX-XXXX)\n                </p>\n\n                {authError ? <div className=\"authError\">{authError}</div> : null}\n\n                <button type=\"submit\" className=\"loginPrimary\" disabled={authLoading}>\n                  {authLoading ? \"Verifying...\" : \"Verify\"}\n                </button>\n\n                <button\n                  type=\"button\"\n                  className=\"authLink\"\n                  style={{ marginTop: 12, display: \"block\", width: \"100%\", textAlign: \"center\" }}\n                  onClick={() => {\n                    setAuthMode(\"login\");\n                    setPending2FAUserId(null);\n                    setForm2FACode(\"\");\n                    setAuthError(\"\");\n                  }}\n                >\n                  Back to Login\n                </button>\n              </form>\n            ) : (\n            <form className=\"loginForm\" onSubmit={handleAuthSubmit}>\n              <label className=\"loginField\">\n                <span className=\"loginLabel\">Username</span>\n                <input\n                  className=\"loginInput\"\n                  value={formUsername}\n                  onChange={(e) => setFormUsername(e.target.value)}\n                  placeholder=\"john.doe\"\n                  autoFocus\n                />\n              </label>\n\n              {authMode === \"signup\" ? (\n                <label className=\"loginField\">\n                  <span className=\"loginLabel\">Email</span>\n                  <input\n                    className=\"loginInput\"\n                    type=\"email\"\n                    value={formEmail}\n                    onChange={(e) => setFormEmail(e.target.value)}\n                    placeholder=\"you@example.com\"\n                  />\n                </label>\n              ) : null}\n\n              <label className=\"loginField\">\n                <span className=\"loginLabel\">Password</span>\n                <div className=\"loginInputWrap\">\n                  <input\n                    className=\"loginInput\"\n                    value={formPassword}\n                    onChange={(e) => setFormPassword(e.target.value)}\n                    placeholder=\"\"\n                    type={showPassword ? \"text\" : \"password\"}\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"passwordToggle\"\n                    onClick={() => setShowPassword((v) => !v)}\n                    aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                    title={showPassword ? \"Hide password\" : \"Show password\"}\n                  >\n                    {showPassword ? \"\" : \"\"}\n                  </button>\n                </div>\n              </label>\n\n              {authMode === \"signup\" ? (\n                <label className=\"loginField\">\n                  <span className=\"loginLabel\">Confirm Password</span>\n                  <div className=\"loginInputWrap\">\n                    <input\n                      className=\"loginInput\"\n                      value={formConfirmPassword}\n                      onChange={(e) => setFormConfirmPassword(e.target.value)}\n                      placeholder=\"\"\n                      type={showConfirmPassword ? \"text\" : \"password\"}\n                    />\n                    <button\n                      type=\"button\"\n                      className=\"passwordToggle\"\n                      onClick={() => setShowConfirmPassword((v) => !v)}\n                      aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\n                      title={showConfirmPassword ? \"Hide password\" : \"Show password\"}\n                    >\n                      {showConfirmPassword ? \"\" : \"\"}\n                    </button>\n                  </div>\n                </label>\n              ) : null}\n\n              {authMode === \"login\" ? (\n                <div className=\"forgotPassword\">\n                  <button\n                    type=\"button\"\n                    className=\"authLink\"\n                    onClick={() => {\n                      closeAuthModal();\n                      navigate(\"/forgot-password\");\n                    }}\n                  >\n                    Forgot password?\n                  </button>\n                </div>\n              ) : null}\n\n              {authError ? <div className=\"authError\">{authError}</div> : null}\n\n              <button type=\"submit\" className=\"loginPrimary\" disabled={authLoading}>\n                {authLoading ? \"Please wait...\" : authMode === \"login\" ? \"Log In\" : \"Create Account\"}\n              </button>\n            </form>\n            )}\n          </div>\n        </div>\n      ) : null}\n    </header>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Footer.css\";\n\nexport default function Footer() {\n  const currentYear = new Date().getFullYear();\n\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer-content\">\n        <div className=\"footer-brand\">\n          <div className=\"footer-logo\">Sable</div>\n          <p className=\"footer-tagline\">Stories Worth Hearing</p>\n        </div>\n\n        <div className=\"footer-links\">\n          <div className=\"footer-column\">\n            <h4 className=\"footer-heading\">Explore</h4>\n            <Link to=\"/browse\" className=\"footer-link\">Browse</Link>\n            <Link to=\"/genres\" className=\"footer-link\">Genres</Link>\n            <Link to=\"/fandoms\" className=\"footer-link\">Fandoms</Link>\n            <Link to=\"/tags\" className=\"footer-link\">Tags</Link>\n          </div>\n\n          <div className=\"footer-column\">\n            <h4 className=\"footer-heading\">Community</h4>\n            <Link to=\"/communities\" className=\"footer-link\">Communities</Link>\n            <Link to=\"/search\" className=\"footer-link\">Search</Link>\n          </div>\n\n          <div className=\"footer-column\">\n            <h4 className=\"footer-heading\">About</h4>\n            <Link to=\"/about\" className=\"footer-link\">About Sable</Link>\n            <Link to=\"/faq\" className=\"footer-link\">FAQ</Link>\n            <Link to=\"/support\" className=\"footer-link\">Support Us</Link>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"footer-bottom\">\n        <p className=\"footer-copyright\">\n          &copy; {currentYear} Sable. All rights reserved.\n        </p>\n      </div>\n    </footer>\n  );\n}\n","import React from \"react\";\nimport \"./WorkCarousel.css\";\n\nfunction clamp(n, min, max) {\n  return Math.max(min, Math.min(max, n));\n}\n\nfunction ChevronLeftIcon() {\n  return (\n    <svg className=\"wc-arrowIcon\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" focusable=\"false\">\n      <path d=\"M15 18l-6-6 6-6\" />\n    </svg>\n  );\n}\n\nfunction ChevronRightIcon() {\n  return (\n    <svg className=\"wc-arrowIcon\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" focusable=\"false\">\n      <path d=\"M9 6l6 6-6 6\" />\n    </svg>\n  );\n}\n\nexport default function WorkCarousel({\n  title,\n  items = [],\n  subtitle,\n  onItemClick,\n  ariaLabel,\n\n  // Used by homepages\n  titleIcon, // image src (string)\n  autoScroll = false,\n  autoScrollSpeed = 0.35,\n}) {\n  const scrollerRef = React.useRef(null);\n  const pauseUntilRef = React.useRef(0);\n  const [isHoverPaused, setIsHoverPaused] = React.useState(false);\n\n  const loopItems = React.useMemo(() => {\n    if (!autoScroll) return items;\n    return [...items, ...items]; // doubled for seamless loop\n  }, [items, autoScroll]);\n\n  function temporarilyPause(ms = 1400) {\n    pauseUntilRef.current = Date.now() + ms;\n  }\n\n  function scrollByCards(direction) {\n    const el = scrollerRef.current;\n    if (!el) return;\n\n    // Pause auto-scroll so the click actually \"sticks\"\n    if (autoScroll) temporarilyPause(1400);\n\n    const card = el.querySelector(\".wc-card\");\n    const cardWidth = card ? card.getBoundingClientRect().width : 240;\n    const gap = 18;\n    const amount = (cardWidth + gap) * 3 * direction;\n\n    el.scrollBy({ left: amount, behavior: \"smooth\" });\n  }\n\n  function handleKeyDown(e) {\n    if (e.key === \"ArrowLeft\") scrollByCards(-1);\n    if (e.key === \"ArrowRight\") scrollByCards(1);\n  }\n\n  React.useEffect(() => {\n    if (!autoScroll) return;\n\n    const el = scrollerRef.current;\n    if (!el) return;\n\n    let rafId = 0;\n    let last = performance.now();\n\n    const tick = (t) => {\n      const dt = t - last;\n      last = t;\n\n      const now = Date.now();\n      const isTemporarilyPaused = now < pauseUntilRef.current;\n\n      if (!isHoverPaused && !isTemporarilyPaused) {\n        el.scrollLeft += autoScrollSpeed * (dt / 16);\n\n        // loop back at halfway point (because items are doubled)\n        const half = el.scrollWidth / 2;\n        if (half > 0 && el.scrollLeft >= half) {\n          el.scrollLeft -= half;\n        }\n      }\n\n      rafId = requestAnimationFrame(tick);\n    };\n\n    rafId = requestAnimationFrame(tick);\n    return () => cancelAnimationFrame(rafId);\n  }, [autoScroll, autoScrollSpeed, isHoverPaused, loopItems.length]);\n\n  return (\n    <section className=\"wc\" aria-label={ariaLabel || title}>\n      <div className=\"wc-head\">\n        <h2 className=\"wc-title\">{title}</h2>\n\n        {titleIcon ? (\n          <img className=\"wc-titleIcon\" src={titleIcon} alt=\"\" aria-hidden=\"true\" />\n        ) : (\n          <div className=\"wc-ornament\" aria-hidden=\"true\" />\n        )}\n\n        {subtitle ? <div className=\"wc-subtitle\">{subtitle}</div> : null}\n      </div>\n\n      <div className=\"wc-row\">\n        <button\n          type=\"button\"\n          className=\"wc-arrow wc-arrow--left\"\n          onClick={() => scrollByCards(-1)}\n          aria-label=\"Scroll left\"\n          title=\"Scroll left\"\n        >\n          <ChevronLeftIcon />\n        </button>\n\n        <div\n          className=\"wc-track\"\n          ref={scrollerRef}\n          tabIndex={0}\n          onKeyDown={handleKeyDown}\n          onMouseEnter={() => setIsHoverPaused(true)}\n          onMouseLeave={() => setIsHoverPaused(false)}\n          onFocus={() => setIsHoverPaused(true)}\n          onBlur={() => setIsHoverPaused(false)}\n          role=\"region\"\n          aria-label={`${title} carousel`}\n        >\n          {loopItems.map((w, idx) => {\n            const safeTitle = w.title || `Work ${idx + 1}`;\n            const safeAuthor = w.author || \"Author\";\n            const accent = clamp(Number(w.accent ?? (idx % 6)), 0, 5);\n            const hasCover = Boolean(w.cover);\n\n            return (\n              <button\n                key={w.id ? `${w.id}-${idx}` : `${safeTitle}-${idx}`}\n                type=\"button\"\n                className=\"wc-card\"\n                onClick={() => (onItemClick ? onItemClick(w) : null)}\n                aria-label={`${safeTitle} by ${safeAuthor}`}\n                title={`${safeTitle}  ${safeAuthor}`}\n              >\n                <div\n                  className={`wc-cover wc-cover--a${accent} ${hasCover ? \"wc-cover--image\" : \"\"}`}\n                  aria-hidden=\"true\"\n                >\n                  {hasCover ? (\n                    <img className=\"wc-coverImage\" src={w.cover} alt=\"\" aria-hidden=\"true\" />\n                  ) : (\n                    <div className=\"wc-coverInner\">\n                      <div className=\"wc-coverTitle\">{safeTitle}</div>\n                      <div className=\"wc-coverAuthor\">{safeAuthor}</div>\n                    </div>\n                  )}\n                </div>\n              </button>\n            );\n          })}\n        </div>\n\n        <button\n          type=\"button\"\n          className=\"wc-arrow wc-arrow--right\"\n          onClick={() => scrollByCards(1)}\n          aria-label=\"Scroll right\"\n          title=\"Scroll right\"\n        >\n          <ChevronRightIcon />\n        </button>\n      </div>\n    </section>\n  );\n}\n\n\n","import React from \"react\";\nimport Lottie from \"lottie-react\";\nimport loadingAnimation from \"../assets/Loading_Screen_1_Gold_Version.json\";\nimport \"./SableLoader.css\";\n\n/**\n * Sable Loading Animation\n * Centered Lottie animation that loops until content loads\n */\nexport default function SableLoader({ size = \"large\", fullPage = true }) {\n  const sizeMap = {\n    small: 120,\n    medium: 200,\n    large: 300,\n  };\n\n  const dimensions = sizeMap[size] || sizeMap.medium;\n\n  if (fullPage) {\n    return (\n      <div className=\"sableLoader sableLoader--fullPage\">\n        <div className=\"sableLoaderInner\">\n          <Lottie\n            animationData={loadingAnimation}\n            loop={true}\n            style={{ width: dimensions, height: dimensions }}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"sableLoader\">\n      <Lottie\n        animationData={loadingAnimation}\n        loop={true}\n        style={{ width: dimensions, height: dimensions }}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./DropCapTitle.css\";\n\n// Import all drop cap images\nimport DropCapA from \"../assets/images/Drop Caps/A.png\";\nimport DropCapB from \"../assets/images/Drop Caps/B.png\";\nimport DropCapC from \"../assets/images/Drop Caps/C.png\";\nimport DropCapD from \"../assets/images/Drop Caps/D.png\";\nimport DropCapE from \"../assets/images/Drop Caps/E.png\";\nimport DropCapF from \"../assets/images/Drop Caps/F.png\";\nimport DropCapG from \"../assets/images/Drop Caps/G.png\";\nimport DropCapH from \"../assets/images/Drop Caps/H.png\";\nimport DropCapI from \"../assets/images/Drop Caps/I.png\";\nimport DropCapK from \"../assets/images/Drop Caps/K.png\";\nimport DropCapL from \"../assets/images/Drop Caps/L.png\";\nimport DropCapM from \"../assets/images/Drop Caps/M.png\";\nimport DropCapN from \"../assets/images/Drop Caps/N.png\";\nimport DropCapO from \"../assets/images/Drop Caps/O.png\";\nimport DropCapP from \"../assets/images/Drop Caps/P.png\";\nimport DropCapQ from \"../assets/images/Drop Caps/Q.png\";\nimport DropCapR from \"../assets/images/Drop Caps/R.png\";\nimport DropCapS from \"../assets/images/Drop Caps/S.png\";\nimport DropCapT from \"../assets/images/Drop Caps/T.png\";\nimport DropCapU from \"../assets/images/Drop Caps/U.png\";\nimport DropCapV from \"../assets/images/Drop Caps/V.png\";\nimport DropCapX from \"../assets/images/Drop Caps/X.png\";\nimport DropCapY from \"../assets/images/Drop Caps/Y.png\";\nimport DropCapZ from \"../assets/images/Drop Caps/Z.png\";\n\nconst dropCapMap = {\n  A: DropCapA,\n  B: DropCapB,\n  C: DropCapC,\n  D: DropCapD,\n  E: DropCapE,\n  F: DropCapF,\n  G: DropCapG,\n  H: DropCapH,\n  I: DropCapI,\n  J: DropCapI, // Use I as fallback for J\n  K: DropCapK,\n  L: DropCapL,\n  M: DropCapM,\n  N: DropCapN,\n  O: DropCapO,\n  P: DropCapP,\n  Q: DropCapQ,\n  R: DropCapR,\n  S: DropCapS,\n  T: DropCapT,\n  U: DropCapU,\n  V: DropCapV,\n  W: DropCapV, // Use V as fallback for W (similar shape)\n  X: DropCapX,\n  Y: DropCapY,\n  Z: DropCapZ,\n};\n\n/**\n * DropCapTitle - Renders a title with the first letter as a decorative drop cap\n *\n * @param {string} title - The title text\n * @param {string} className - Additional CSS classes for the container\n * @param {string} as - HTML element to use (h1, h2, etc.) - default h1\n * @param {string} variant - Style variant: \"banner\" (gold on dark) or \"page\" (dark on light)\n */\nexport default function DropCapTitle({\n  title,\n  className = \"\",\n  as: Component = \"h1\",\n  variant = \"banner\"\n}) {\n  if (!title || typeof title !== \"string\") {\n    return null;\n  }\n\n  const firstChar = title.charAt(0).toUpperCase();\n  const restOfTitle = title.slice(1);\n  const dropCapSrc = dropCapMap[firstChar];\n\n  // If no drop cap image exists for this letter, render normally\n  if (!dropCapSrc) {\n    return (\n      <Component className={`dropCapTitle ${className}`}>\n        {title}\n      </Component>\n    );\n  }\n\n  return (\n    <Component className={`dropCapTitle dropCapTitle--${variant} ${className}`}>\n      <span className=\"dropCapWrap\">\n        <img\n          src={dropCapSrc}\n          alt={firstChar}\n          className=\"dropCapImg\"\n          aria-hidden=\"true\"\n        />\n      </span>\n      <span className=\"dropCapRest\">{restOfTitle}</span>\n    </Component>\n  );\n}\n","import React from \"react\";\nimport browseGraphic from \"../assets/images/Browse_Graphic.png\";\nimport \"./BrowseOrnament.css\";\n\n/**\n * BrowseOrnament - Decorative ornament to display above browse page titles\n */\nexport default function BrowseOrnament({ className = \"\" }) {\n  return (\n    <div className={`browseOrnament ${className}`}>\n      <img\n        src={browseGraphic}\n        alt=\"\"\n        className=\"browseOrnamentImg\"\n        aria-hidden=\"true\"\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport WorkCarousel from \"../components/WorkCarousel\";\nimport { SableLoader } from \"../components\";\nimport { discoveryApi } from \"../api\";\nimport homeIcon from \"../assets/images/home_icon.png\";\nimport defaultCover from \"../assets/images/sable_default_cover.png\";\n\nexport default function HomeLoggedIn() {\n  const navigate = useNavigate();\n\n  const [trending, setTrending] = React.useState([]);\n  const [featured, setFeatured] = React.useState([]);\n  const [newest, setNewest] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function loadData() {\n      try {\n        const [trendingData, featuredData, newestData] = await Promise.all([\n          discoveryApi.trending(\"week\", 12).catch(() => ({ works: [] })),\n          discoveryApi.featured().catch(() => ({ works: [] })),\n          discoveryApi.newest(1, 12).catch(() => ({ works: [] })),\n        ]);\n\n        // Transform works to carousel format\n        const transformWork = (w) => ({\n          id: w._id,\n          title: w.title || \"Untitled\",\n          author: w.authorName || w.authorUsername || \"Unknown Author\",\n          cover: w.coverImageUrl || defaultCover,\n        });\n\n        const trendingWorks = (trendingData.works || []).map(transformWork);\n        const featuredWorks = (featuredData.works || []).map(transformWork);\n        const newestWorks = (newestData.works || []).map(transformWork);\n\n        // Deduplicate: remove works that appear in earlier sections\n        // Convert IDs to strings for proper Set comparison\n        const trendingIds = new Set(trendingWorks.map((w) => String(w.id)));\n        const featuredIds = new Set(featuredWorks.map((w) => String(w.id)));\n\n        // Featured excludes trending\n        const dedupedFeatured = featuredWorks.filter((w) => !trendingIds.has(String(w.id)));\n\n        // Newest excludes both trending and featured\n        const usedIds = new Set([...trendingIds, ...featuredIds]);\n        const dedupedNewest = newestWorks.filter((w) => !usedIds.has(String(w.id)));\n\n        setTrending(trendingWorks);\n        setFeatured(dedupedFeatured);\n        setNewest(dedupedNewest);\n      } catch (err) {\n        console.error(\"Failed to load home data:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadData();\n  }, []);\n\n  function openWork(item) {\n    if (!item?.id) return;\n    navigate(`/works/${encodeURIComponent(item.id)}`);\n  }\n\n  if (loading) {\n    return <SableLoader />;\n  }\n\n  // Show placeholder message if no works exist yet\n  const hasContent = trending.length > 0 || featured.length > 0 || newest.length > 0;\n\n  if (!hasContent) {\n    return (\n      <div style={{ padding: 40, textAlign: \"center\" }}>\n        <h2>Welcome to Sable</h2>\n        <p>No published works yet. Be the first to publish something!</p>\n        <button\n          onClick={() => navigate(\"/new-draft\")}\n          style={{\n            padding: \"12px 24px\",\n            background: \"#1f4a29\",\n            color: \"#fff\",\n            border: \"none\",\n            borderRadius: \"8px\",\n            cursor: \"pointer\",\n            fontSize: \"16px\",\n          }}\n        >\n          Create a Draft\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {trending.length > 0 && (\n        <WorkCarousel\n          title=\"Trending\"\n          subtitle=\"Popular across Sable this week\"\n          items={trending}\n          ariaLabel=\"Trending works\"\n          titleIcon={homeIcon}\n          onItemClick={openWork}\n        />\n      )}\n\n      {featured.length > 0 && (\n        <WorkCarousel\n          title=\"Featured\"\n          subtitle=\"Curated picks from the Sable team\"\n          items={featured}\n          ariaLabel=\"Featured works\"\n          titleIcon={homeIcon}\n          onItemClick={openWork}\n        />\n      )}\n\n      {newest.length > 0 && (\n        <WorkCarousel\n          title=\"New & Noteworthy\"\n          subtitle=\"Fresh stories just published\"\n          items={newest}\n          ariaLabel=\"New works\"\n          titleIcon={homeIcon}\n          onItemClick={openWork}\n        />\n      )}\n    </div>\n  );\n}\n","// HomeLoggedOut.js\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport WorkCarousel from \"../components/WorkCarousel\";\nimport { SableLoader } from \"../components\";\nimport { discoveryApi } from \"../api\";\nimport homeIcon from \"../assets/images/home_icon.png\";\nimport defaultCover from \"../assets/images/sable_default_cover.png\";\n\nexport default function HomeLoggedOut() {\n  const navigate = useNavigate();\n\n  const [works, setWorks] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function loadData() {\n      try {\n        // Load newest published works for logged out users\n        const newestData = await discoveryApi.newest(1, 20).catch(() => ({ works: [] }));\n\n        // Transform works to carousel format\n        const transformWork = (w) => ({\n          id: w._id,\n          title: w.title || \"Untitled\",\n          author: w.authorName || w.authorUsername || \"Unknown Author\",\n          cover: w.coverImageUrl || defaultCover,\n        });\n\n        setWorks((newestData.works || []).map(transformWork));\n      } catch (err) {\n        console.error(\"Failed to load home data:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadData();\n  }, []);\n\n  function openWork(item) {\n    if (!item?.id) return;\n    navigate(`/works/${encodeURIComponent(item.id)}`);\n  }\n\n  if (loading) {\n    return <SableLoader />;\n  }\n\n  if (works.length === 0) {\n    return (\n      <div style={{ padding: 40, textAlign: \"center\" }}>\n        <h2>Welcome to Sable</h2>\n        <p>No published works yet. Sign up to be the first to publish!</p>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <WorkCarousel\n        title=\"Discover\"\n        subtitle=\"Published works on Sable\"\n        items={works}\n        ariaLabel=\"Published works\"\n        titleIcon={homeIcon}\n        onItemClick={openWork}\n      />\n    </div>\n  );\n}\n\n\n\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport WorkCarousel from \"../components/WorkCarousel\";\nimport { SableLoader } from \"../components\";\nimport { discoveryApi } from \"../api\";\nimport homeIcon from \"../assets/images/home_icon.png\";\nimport defaultCover from \"../assets/images/sable_default_cover.png\";\n\nexport default function Browse() {\n  const navigate = useNavigate();\n\n  const [trending, setTrending] = React.useState([]);\n  const [featured, setFeatured] = React.useState([]);\n  const [newest, setNewest] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function loadData() {\n      try {\n        const [trendingData, featuredData, newestData] = await Promise.all([\n          discoveryApi.trending(\"week\", 12).catch(() => ({ works: [] })),\n          discoveryApi.featured().catch(() => ({ works: [] })),\n          discoveryApi.newest(1, 12).catch(() => ({ works: [] })),\n        ]);\n\n        // Transform works to carousel format\n        const transformWork = (w) => ({\n          id: w._id,\n          title: w.title || \"Untitled\",\n          author: w.authorUsername || \"Unknown Author\",\n          cover: w.coverImageUrl || defaultCover,\n        });\n\n        const trendingWorks = (trendingData.works || []).map(transformWork);\n        const featuredWorks = (featuredData.works || []).map(transformWork);\n        const newestWorks = (newestData.works || []).map(transformWork);\n\n        // Deduplicate: remove works that appear in earlier sections\n        // Convert IDs to strings for proper Set comparison\n        const trendingIds = new Set(trendingWorks.map((w) => String(w.id)));\n        const featuredIds = new Set(featuredWorks.map((w) => String(w.id)));\n\n        // Featured excludes trending\n        const dedupedFeatured = featuredWorks.filter((w) => !trendingIds.has(String(w.id)));\n\n        // Newest excludes both trending and featured\n        const usedIds = new Set([...trendingIds, ...featuredIds]);\n        const dedupedNewest = newestWorks.filter((w) => !usedIds.has(String(w.id)));\n\n        setTrending(trendingWorks);\n        setFeatured(dedupedFeatured);\n        setNewest(dedupedNewest);\n      } catch (err) {\n        console.error(\"Failed to load browse data:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadData();\n  }, []);\n\n  function openWork(item) {\n    if (!item?.id) return;\n    navigate(`/works/${encodeURIComponent(item.id)}`);\n  }\n\n  if (loading) {\n    return <SableLoader />;\n  }\n\n  const hasContent = trending.length > 0 || featured.length > 0 || newest.length > 0;\n\n  if (!hasContent) {\n    return (\n      <div style={{ padding: 40, textAlign: \"center\" }}>\n        <h2>Browse Works</h2>\n        <p>No published works yet. Check back soon or be the first to publish!</p>\n        <button\n          onClick={() => navigate(\"/new-draft\")}\n          style={{\n            padding: \"12px 24px\",\n            background: \"#1f4a29\",\n            color: \"#fff\",\n            border: \"none\",\n            borderRadius: \"8px\",\n            cursor: \"pointer\",\n            fontSize: \"16px\",\n          }}\n        >\n          Create a Draft\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {trending.length > 0 && (\n        <WorkCarousel\n          title=\"Trending\"\n          subtitle=\"What readers are binging right now\"\n          items={trending}\n          ariaLabel=\"Trending works\"\n          titleIcon={homeIcon}\n          onItemClick={openWork}\n        />\n      )}\n\n      {featured.length > 0 && (\n        <WorkCarousel\n          title=\"Featured\"\n          subtitle=\"Curated picks from the front page\"\n          items={featured}\n          ariaLabel=\"Featured works\"\n          titleIcon={homeIcon}\n          onItemClick={openWork}\n        />\n      )}\n\n      {newest.length > 0 && (\n        <WorkCarousel\n          title=\"New & Noteworthy\"\n          subtitle=\"Fresh works worth a look\"\n          items={newest}\n          ariaLabel=\"New and noteworthy works\"\n          titleIcon={homeIcon}\n          onItemClick={openWork}\n        />\n      )}\n    </div>\n  );\n}\n","// src/data/libraryWorks.js\n\nexport const works = [\n  {\n    id: \"w1\",\n    title: \"Night in The Woods\",\n    author: \"john.doe\",\n    genre: \"Psychological\",\n    fandom: \"Original\",\n    language: \"Chinese\",\n    wordCount: 20000,\n    views: 1024,\n    tags: [\"Hurt/Comfort\", \"Found Family\", \"Trauma\", \"Emotional Healing\", \"Friendship\"],\n  },\n  {\n    id: \"w2\",\n    title: \"Ashes of the Crown\",\n    author: \"xi9283\",\n    genre: \"Fantasy\",\n    fandom: \"Original\",\n    language: \"Turkish\",\n    wordCount: 54000,\n    views: 873,\n    tags: [\"Enemies to Lovers\", \"Slow Burn\", \"Redemption Arc\", \"Forbidden Romance\", \"Violence\"],\n  },\n  {\n    id: \"w3\",\n    title: \"Untitled Draft\",\n    author: \"a82762\",\n    genre: \"Drama\",\n    fandom: \"Original\",\n    language: \"Japanese\",\n    wordCount: 8200,\n    views: 214,\n    tags: [\"Hurt/Comfort\", \"Trauma\", \"Emotional Healing\", \"One Shot\"],\n  },\n  {\n    id: \"w4\",\n    title: \"The Last Signal\",\n    author: \"amira575\",\n    genre: \"Sci-Fi\",\n    fandom: \"Original\",\n    language: \"English\",\n    wordCount: 31200,\n    views: 641,\n    tags: [\"Amnesia\", \"Time Loop\", \"Canon Universe\", \"Slow Burn\", \"Miscommunication\"],\n  },\n  {\n    id: \"w5\",\n    title: \"Fragments\",\n    author: \"gooner\",\n    genre: \"Experimental\",\n    fandom: \"Original\",\n    language: \"English\",\n    wordCount: 4600,\n    views: 97,\n    tags: [\"One Shot\", \"Canon Divergence\", \"Alternate Universe\"],\n  },\n  {\n    id: \"w6\",\n    title: \"Cold Water\",\n    author: \"john.doe\",\n    genre: \"Thriller\",\n    fandom: \"Original\",\n    language: \"English\",\n    wordCount: 17800,\n    views: 388,\n    tags: [\"Violence\", \"Blood and Injury\", \"Major Character Death\", \"Hurt/Comfort\"],\n  },\n];\n\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Communities.css\";\n\nimport { works as libraryWorks } from \"../data/libraryWorks\";\nimport { authApi, usersApi, followsApi, uploadsApi, likesApi, bookmarksApi, commentsApi } from \"../api\";\nimport postsApi from \"../api/posts\";\n\n// Mention input component with highlighting and suggestions\nfunction MentionInput({ value, onChange, placeholder, rows = 2, followingList = [] }) {\n  const textareaRef = React.useRef(null);\n  const highlightRef = React.useRef(null);\n  const [mentionQuery, setMentionQuery] = React.useState(\"\");\n  const [mentionIndex, setMentionIndex] = React.useState(-1);\n  const [showSuggestions, setShowSuggestions] = React.useState(false);\n  const [cursorPosition, setCursorPosition] = React.useState(0);\n\n  // Filter suggestions based on mention query\n  const suggestions = React.useMemo(() => {\n    if (!mentionQuery) return [];\n    const q = mentionQuery.toLowerCase();\n    return followingList\n      .filter((u) =>\n        u.username?.toLowerCase().includes(q) ||\n        u.displayName?.toLowerCase().includes(q)\n      )\n      .slice(0, 5);\n  }, [mentionQuery, followingList]);\n\n  // Detect @mention being typed\n  const handleChange = (e) => {\n    const text = e.target.value;\n    const cursor = e.target.selectionStart;\n    setCursorPosition(cursor);\n    onChange(text);\n\n    // Find if we're typing a mention\n    const textBeforeCursor = text.slice(0, cursor);\n    const mentionMatch = textBeforeCursor.match(/@([a-zA-Z0-9_-]*)$/);\n\n    if (mentionMatch) {\n      setMentionQuery(mentionMatch[1]);\n      setShowSuggestions(true);\n      setMentionIndex(0);\n    } else {\n      setMentionQuery(\"\");\n      setShowSuggestions(false);\n    }\n  };\n\n  // Handle keyboard navigation in suggestions\n  const handleKeyDown = (e) => {\n    if (!showSuggestions || suggestions.length === 0) return;\n\n    if (e.key === \"ArrowDown\") {\n      e.preventDefault();\n      setMentionIndex((prev) => Math.min(prev + 1, suggestions.length - 1));\n    } else if (e.key === \"ArrowUp\") {\n      e.preventDefault();\n      setMentionIndex((prev) => Math.max(prev - 1, 0));\n    } else if (e.key === \"Enter\" || e.key === \"Tab\") {\n      if (mentionIndex >= 0 && suggestions[mentionIndex]) {\n        e.preventDefault();\n        selectSuggestion(suggestions[mentionIndex]);\n      }\n    } else if (e.key === \"Escape\") {\n      setShowSuggestions(false);\n    }\n  };\n\n  // Insert selected mention\n  const selectSuggestion = (user) => {\n    const textBeforeCursor = value.slice(0, cursorPosition);\n    const textAfterCursor = value.slice(cursorPosition);\n    const mentionStart = textBeforeCursor.lastIndexOf(\"@\");\n    const newText = textBeforeCursor.slice(0, mentionStart) + \"@\" + user.username + \" \" + textAfterCursor;\n    onChange(newText);\n    setShowSuggestions(false);\n    setMentionQuery(\"\");\n\n    // Focus back on textarea\n    setTimeout(() => {\n      if (textareaRef.current) {\n        const newCursor = mentionStart + user.username.length + 2;\n        textareaRef.current.focus();\n        textareaRef.current.setSelectionRange(newCursor, newCursor);\n      }\n    }, 0);\n  };\n\n  // Render text with highlighted mentions\n  const renderHighlightedText = () => {\n    return value.replace(/@([a-zA-Z0-9_-]+)/g, '<span class=\"mention-highlight\">@$1</span>');\n  };\n\n  // Sync scroll between textarea and highlight layer\n  const handleScroll = () => {\n    if (highlightRef.current && textareaRef.current) {\n      highlightRef.current.scrollTop = textareaRef.current.scrollTop;\n    }\n  };\n\n  return (\n    <div className=\"mention-input-container\">\n      <div\n        ref={highlightRef}\n        className=\"mention-highlight-layer\"\n        dangerouslySetInnerHTML={{ __html: renderHighlightedText() + \"&nbsp;\" }}\n        aria-hidden=\"true\"\n      />\n      <textarea\n        ref={textareaRef}\n        className=\"mention-textarea\"\n        value={value}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        onScroll={handleScroll}\n        placeholder={placeholder}\n        rows={rows}\n      />\n      {showSuggestions && suggestions.length > 0 && (\n        <div className=\"mention-suggestions\">\n          {suggestions.map((user, idx) => (\n            <button\n              key={user._id || user.username}\n              type=\"button\"\n              className={`mention-suggestion ${idx === mentionIndex ? \"mention-suggestion--active\" : \"\"}`}\n              onClick={() => selectSuggestion(user)}\n            >\n              <div className=\"mention-suggestion-avatar\">\n                {user.avatarUrl ? (\n                  <img src={user.avatarUrl} alt=\"\" />\n                ) : (\n                  <span>{(user.username || \"U\")[0].toUpperCase()}</span>\n                )}\n              </div>\n              <div className=\"mention-suggestion-info\">\n                <div className=\"mention-suggestion-name\">@{user.username}</div>\n                {user.displayName && user.displayName !== user.username && (\n                  <div className=\"mention-suggestion-display\">{user.displayName}</div>\n                )}\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Post menu component (three dots)\nfunction PostMenu({ post, onEdit, onDelete, onReport, isOwner }) {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const menuRef = React.useRef(null);\n\n  React.useEffect(() => {\n    function handleClickOutside(e) {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setIsOpen(false);\n      }\n    }\n    if (isOpen) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    }\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [isOpen]);\n\n  return (\n    <div className=\"co-menuWrap\" ref={menuRef}>\n      <button\n        type=\"button\"\n        className=\"co-more\"\n        aria-label=\"More actions\"\n        title=\"More\"\n        onClick={() => setIsOpen(!isOpen)}\n      >\n        \n      </button>\n      {isOpen && (\n        <div className=\"co-menuDropdown\">\n          {isOwner ? (\n            <>\n              <button\n                type=\"button\"\n                className=\"co-menuItem\"\n                onClick={() => {\n                  setIsOpen(false);\n                  onEdit(post);\n                }}\n              >\n                Edit Post\n              </button>\n              <button\n                type=\"button\"\n                className=\"co-menuItem co-menuItem--danger\"\n                onClick={() => {\n                  setIsOpen(false);\n                  onDelete(post);\n                }}\n              >\n                Delete Post\n              </button>\n            </>\n          ) : (\n            <button\n              type=\"button\"\n              className=\"co-menuItem co-menuItem--danger\"\n              onClick={() => {\n                setIsOpen(false);\n                onReport?.(post);\n              }}\n            >\n              Report Post\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Render text with highlighted mentions for display\nfunction renderMentions(text) {\n  if (!text) return null;\n  const parts = text.split(/(@[a-zA-Z0-9_-]+)/g);\n  return parts.map((part, i) => {\n    if (part.match(/^@[a-zA-Z0-9_-]+$/)) {\n      return <span key={i} className=\"co-mention\">{part}</span>;\n    }\n    return part;\n  });\n}\n\n// Trending topics - static UI elements for filtering\nconst TOPICS = [\n  { id: \"t1\", label: \"Writing Prompts\" },\n  { id: \"t2\", label: \"Slow-burn Romance\" },\n  { id: \"t3\", label: \"Dark Academia\" },\n  { id: \"t4\", label: \"Worldbuilding\" },\n  { id: \"t5\", label: \"Fanworks\" },\n  { id: \"t6\", label: \"Audio Reads\" },\n];\n\nfunction initials(name) {\n  const s = (name || \"U\").trim();\n  return (s[0] || \"U\").toUpperCase();\n}\n\n\nfunction Avatar({ avatar, name }) {\n  if (avatar) {\n    return <img className=\"co-avatarImg\" src={avatar} alt=\"\" aria-hidden=\"true\" />;\n  }\n  return (\n    <div className=\"co-avatarFallback\" aria-hidden=\"true\">\n      {initials(name)}\n    </div>\n  );\n}\n\nfunction openLoginModal() {\n  window.dispatchEvent(new Event(\"sable:open-auth\"));\n}\n\nexport default function Communities({ isAuthed = false, username = \"john.doe\" }) {\n  const [tab, setTab] = React.useState(\"Explore\"); // Explore | Following | Discussions\n  const [query, setQuery] = React.useState(\"\");\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [suggestedUsers, setSuggestedUsers] = React.useState([]);\n  const [loadingUsers, setLoadingUsers] = React.useState(true);\n  const [followingList, setFollowingList] = React.useState([]);\n\n  // Edit/Delete modal state\n  const [editingPost, setEditingPost] = React.useState(null);\n  const [editDraft, setEditDraft] = React.useState(\"\");\n  const [editingInProgress, setEditingInProgress] = React.useState(false);\n  const [deletingPost, setDeletingPost] = React.useState(null);\n  const [deletingInProgress, setDeletingInProgress] = React.useState(false);\n\n  // Fetch current user info\n  React.useEffect(() => {\n    if (isAuthed) {\n      authApi.me().then((data) => {\n        if (data && data.user && !data.error) {\n          setCurrentUser(data.user);\n        }\n      }).catch(() => {});\n    }\n  }, [isAuthed]);\n\n  // Fetch following list for mention suggestions\n  React.useEffect(() => {\n    if (isAuthed) {\n      followsApi.getFollowing().then((data) => {\n        if (data && data.following) {\n          setFollowingList(data.following);\n        }\n      }).catch(() => {});\n    }\n  }, [isAuthed]);\n\n  // Fetch discoverable users\n  React.useEffect(() => {\n    async function loadUsers() {\n      try {\n        const data = await usersApi.getDiscoverable(10);\n        if (data.users) {\n          setSuggestedUsers(data.users);\n        }\n      } catch (err) {\n        console.error(\"Failed to load suggested users:\", err);\n      } finally {\n        setLoadingUsers(false);\n      }\n    }\n    loadUsers();\n  }, []);\n\n  // Prevent auto-scroll on mount - use multiple strategies\n  React.useEffect(() => {\n    // Immediate scroll\n    window.scrollTo(0, 0);\n    document.documentElement.scrollTop = 0;\n    document.body.scrollTop = 0;\n\n    // Also scroll after a brief delay to catch any late-loading content\n    const timer1 = setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 50);\n\n    const timer2 = setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 150);\n\n    return () => {\n      clearTimeout(timer1);\n      clearTimeout(timer2);\n    };\n  }, []);\n\n  // Fetch posts from backend\n  React.useEffect(() => {\n    async function fetchPosts() {\n      try {\n        setLoadingPosts(true);\n        setPostsError(null);\n        const response = await postsApi.list({ limit: 50 });\n\n        // Transform backend posts to frontend format\n        const transformedPosts = (response.posts || []).map((p) => ({\n          id: p._id,\n          type: p.type || \"post\",\n          user: {\n            handle: p.authorUsername,\n            display: p.author?.displayName || p.authorUsername,\n            avatar: p.author?.avatarUrl || \"\",\n          },\n          time: formatTimeAgo(p.createdAt),\n          title: p.title || \"\",\n          caption: p.caption || p.content || \"\",\n          imageUrl: p.imageUrl || null,\n          meta: {\n            replies: String(p.commentsCount || 0),\n            likes: String(p.likesCount || 0),\n          },\n          tags: p.tags || [],\n          workId: p.workId || null,\n          authorId: p.author?._id || p.authorId,\n          editedAt: p.editedAt || null,\n        }));\n\n        setPosts(transformedPosts);\n      } catch (err) {\n        console.error(\"Failed to fetch posts:\", err);\n        setPostsError(\"Failed to load posts\");\n      } finally {\n        setLoadingPosts(false);\n      }\n    }\n\n    fetchPosts();\n  }, []);\n\n  // Helper to format time ago\n  function formatTimeAgo(dateString) {\n    if (!dateString) return \"recently\";\n    const date = new Date(dateString);\n    const now = new Date();\n    const seconds = Math.floor((now - date) / 1000);\n\n    if (seconds < 60) return \"just now\";\n    if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;\n    if (seconds < 604800) return `${Math.floor(seconds / 86400)}d ago`;\n    return date.toLocaleDateString();\n  }\n\n  // Composer\n  const [postType, setPostType] = React.useState(\"post\"); // post | upload\n  const [draft, setDraft] = React.useState(\"\");\n  const [postImage, setPostImage] = React.useState(null); // { file, preview }\n  const [uploadingImage, setUploadingImage] = React.useState(false);\n  const imageInputRef = React.useRef(null);\n\n  // Feed state - starts empty, to be populated from backend\n  const [posts, setPosts] = React.useState([]);\n  const [loadingPosts, setLoadingPosts] = React.useState(true);\n  const [postsError, setPostsError] = React.useState(null);\n\n  // Likes and bookmarks (API-based)\n  const [likedPosts, setLikedPosts] = React.useState([]);\n  const [bookmarkedPosts, setBookmarkedPosts] = React.useState([]);\n  const [likeInProgress, setLikeInProgress] = React.useState({});\n  const [bookmarkInProgress, setBookmarkInProgress] = React.useState({});\n\n  // Track follow state per user (managed via API)\n  const [followingInProgress, setFollowingInProgress] = React.useState({});\n\n  // Reply\n  const [replyingTo, setReplyingTo] = React.useState(null);\n  const [replyDraft, setReplyDraft] = React.useState(\"\");\n  const [replyImageUrl, setReplyImageUrl] = React.useState(null);\n  const [replyInProgress, setReplyInProgress] = React.useState(false);\n  const [postComments, setPostComments] = React.useState({}); // { postId: [comments] }\n\n  // Comment interactions\n  const [editingComment, setEditingComment] = React.useState(null); // commentId\n  const [editCommentText, setEditCommentText] = React.useState(\"\");\n  const [editCommentImage, setEditCommentImage] = React.useState(null);\n  const [likedComments, setLikedComments] = React.useState([]); // array of commentIds\n  const [replyingToComment, setReplyingToComment] = React.useState(null); // commentId for nested reply\n  const [commentReplyText, setCommentReplyText] = React.useState(\"\");\n  const [commentReplyImage, setCommentReplyImage] = React.useState(null);\n  const [commentReplies, setCommentReplies] = React.useState({}); // { commentId: [replies] }\n\n  const normalizedUsername = (username || \"john.doe\").trim().toLowerCase();\n\n  // Fetch bookmarks to know which posts are bookmarked\n  React.useEffect(() => {\n    if (isAuthed) {\n      bookmarksApi.list(\"post\").then((data) => {\n        if (data && data.bookmarks) {\n          setBookmarkedPosts(data.bookmarks.map((b) => b.postId));\n        }\n      }).catch(() => {});\n    }\n  }, [isAuthed]);\n\n  // Fetch liked posts to know which posts are liked\n  React.useEffect(() => {\n    if (isAuthed) {\n      likesApi.getLikedPosts().then((data) => {\n        if (data && data.postIds) {\n          setLikedPosts(data.postIds);\n        }\n      }).catch(() => {});\n    }\n  }, [isAuthed]);\n\n  async function handleLike(postId) {\n    if (likeInProgress[postId]) return;\n\n    setLikeInProgress((prev) => ({ ...prev, [postId]: true }));\n\n    try {\n      if (likedPosts.includes(postId)) {\n        await likesApi.unlikePost(postId);\n        setLikedPosts((prev) => prev.filter((id) => id !== postId));\n        // Update post like count\n        setPosts((prev) =>\n          prev.map((p) =>\n            p.id === postId\n              ? { ...p, meta: { ...p.meta, likes: String(Math.max(0, parseInt(p.meta.likes || \"0\") - 1)) } }\n              : p\n          )\n        );\n      } else {\n        await likesApi.likePost(postId);\n        setLikedPosts((prev) => [...prev, postId]);\n        // Update post like count\n        setPosts((prev) =>\n          prev.map((p) =>\n            p.id === postId\n              ? { ...p, meta: { ...p.meta, likes: String(parseInt(p.meta.likes || \"0\") + 1) } }\n              : p\n          )\n        );\n      }\n    } catch (err) {\n      console.error(\"Like action failed:\", err);\n    } finally {\n      setLikeInProgress((prev) => ({ ...prev, [postId]: false }));\n    }\n  }\n\n  async function handleBookmark(postId) {\n    if (bookmarkInProgress[postId]) return;\n\n    setBookmarkInProgress((prev) => ({ ...prev, [postId]: true }));\n\n    try {\n      if (bookmarkedPosts.includes(postId)) {\n        await bookmarksApi.unbookmarkPost(postId);\n        setBookmarkedPosts((prev) => prev.filter((id) => id !== postId));\n      } else {\n        await bookmarksApi.bookmarkPost(postId);\n        setBookmarkedPosts((prev) => [...prev, postId]);\n      }\n    } catch (err) {\n      console.error(\"Bookmark action failed:\", err);\n    } finally {\n      setBookmarkInProgress((prev) => ({ ...prev, [postId]: false }));\n    }\n  }\n\n  async function handleFollow(userId, isCurrentlyFollowing) {\n    if (followingInProgress[userId]) return;\n\n    setFollowingInProgress((prev) => ({ ...prev, [userId]: true }));\n\n    try {\n      if (isCurrentlyFollowing) {\n        await followsApi.unfollow(userId);\n        setSuggestedUsers((prev) =>\n          prev.map((u) => (u._id === userId ? { ...u, isFollowing: false } : u))\n        );\n      } else {\n        await followsApi.follow(userId);\n        setSuggestedUsers((prev) =>\n          prev.map((u) => (u._id === userId ? { ...u, isFollowing: true } : u))\n        );\n      }\n    } catch (err) {\n      console.error(\"Follow action failed:\", err);\n    } finally {\n      setFollowingInProgress((prev) => ({ ...prev, [userId]: false }));\n    }\n  }\n\n  function handleShare(post) {\n    const url = `${window.location.origin}/communities?post=${post.id}`;\n\n    if (navigator.share) {\n      navigator.share({ title: post.title || \"Community Post\", url }).catch(() => {});\n    } else if (navigator.clipboard) {\n      navigator.clipboard.writeText(url);\n      alert(\"Link copied to clipboard!\");\n    }\n  }\n\n  function handleReply(postId) {\n    if (replyingTo === postId) {\n      setReplyingTo(null);\n      setReplyDraft(\"\");\n    } else {\n      setReplyingTo(postId);\n      setReplyDraft(\"\");\n      // Fetch existing comments for this post\n      commentsApi.list(null, postId).then((data) => {\n        if (data && data.comments) {\n          setPostComments((prev) => ({ ...prev, [postId]: data.comments }));\n        }\n      }).catch(() => {});\n    }\n  }\n\n  async function submitReply(postId) {\n    if (!replyDraft.trim() || replyInProgress) return;\n\n    setReplyInProgress(true);\n\n    try {\n      const response = await commentsApi.create(replyDraft.trim(), null, postId, null, replyImageUrl);\n\n      if (response && response.comment) {\n        // Add the new comment to the local state\n        setPostComments((prev) => ({\n          ...prev,\n          [postId]: [response.comment, ...(prev[postId] || [])],\n        }));\n\n        // Update comment count on post\n        setPosts((prev) =>\n          prev.map((p) =>\n            p.id === postId\n              ? { ...p, meta: { ...p.meta, replies: String(parseInt(p.meta.replies || \"0\") + 1) } }\n              : p\n          )\n        );\n      }\n\n      setReplyingTo(null);\n      setReplyDraft(\"\");\n      setReplyImageUrl(null);\n    } catch (err) {\n      console.error(\"Failed to submit reply:\", err);\n      alert(\"Failed to submit reply. Please try again.\");\n    } finally {\n      setReplyInProgress(false);\n    }\n  }\n\n  // Upload image for comment\n  async function handleCommentImageUpload(e, type = \"reply\") {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    try {\n      const response = await uploadsApi.image(file);\n      if (type === \"reply\") {\n        setReplyImageUrl(response.url);\n      } else if (type === \"edit\") {\n        setEditCommentImage(response.url);\n      } else if (type === \"commentReply\") {\n        setCommentReplyImage(response.url);\n      }\n    } catch (err) {\n      console.error(\"Failed to upload image:\", err);\n    }\n    e.target.value = \"\";\n  }\n\n  // Delete a comment\n  async function handleDeleteComment(commentId, postId) {\n    try {\n      await commentsApi.delete(commentId);\n      setPostComments((prev) => ({\n        ...prev,\n        [postId]: (prev[postId] || []).filter((c) => c._id !== commentId),\n      }));\n      // Update comment count\n      setPosts((prev) =>\n        prev.map((p) =>\n          p.id === postId\n            ? { ...p, meta: { ...p.meta, replies: String(Math.max(0, parseInt(p.meta.replies || \"0\") - 1)) } }\n            : p\n        )\n      );\n    } catch (err) {\n      console.error(\"Failed to delete comment:\", err);\n    }\n  }\n\n  // Start editing a comment\n  function startEditComment(comment) {\n    setEditingComment(comment._id);\n    setEditCommentText(comment.text);\n    setEditCommentImage(comment.imageUrl || null);\n  }\n\n  // Cancel editing\n  function cancelEditComment() {\n    setEditingComment(null);\n    setEditCommentText(\"\");\n    setEditCommentImage(null);\n  }\n\n  // Save edited comment\n  async function saveEditComment(commentId, postId) {\n    if (!editCommentText.trim()) return;\n\n    try {\n      const response = await commentsApi.update(commentId, editCommentText.trim(), editCommentImage);\n      if (response && response.comment) {\n        setPostComments((prev) => ({\n          ...prev,\n          [postId]: (prev[postId] || []).map((c) =>\n            c._id === commentId ? response.comment : c\n          ),\n        }));\n      }\n      cancelEditComment();\n    } catch (err) {\n      console.error(\"Failed to update comment:\", err);\n    }\n  }\n\n  // Like/unlike a comment\n  async function handleLikeComment(commentId, postId) {\n    const isLiked = likedComments.includes(commentId);\n\n    // Optimistic update\n    if (isLiked) {\n      setLikedComments((prev) => prev.filter((id) => id !== commentId));\n    } else {\n      setLikedComments((prev) => [...prev, commentId]);\n    }\n\n    try {\n      if (isLiked) {\n        await commentsApi.unlike(commentId);\n      } else {\n        await commentsApi.like(commentId);\n      }\n      // Update likes count in local state\n      setPostComments((prev) => ({\n        ...prev,\n        [postId]: (prev[postId] || []).map((c) =>\n          c._id === commentId\n            ? { ...c, likesCount: (c.likesCount || 0) + (isLiked ? -1 : 1) }\n            : c\n        ),\n      }));\n    } catch (err) {\n      // Revert on error\n      if (isLiked) {\n        setLikedComments((prev) => [...prev, commentId]);\n      } else {\n        setLikedComments((prev) => prev.filter((id) => id !== commentId));\n      }\n      console.error(\"Failed to like/unlike comment:\", err);\n    }\n  }\n\n  // Load replies for a comment\n  async function loadCommentReplies(commentId) {\n    try {\n      const response = await commentsApi.replies(commentId);\n      if (response && response.replies) {\n        setCommentReplies((prev) => ({ ...prev, [commentId]: response.replies }));\n      }\n    } catch (err) {\n      console.error(\"Failed to load replies:\", err);\n    }\n  }\n\n  // Start replying to a comment\n  function startReplyToComment(commentId) {\n    if (replyingToComment === commentId) {\n      setReplyingToComment(null);\n      setCommentReplyText(\"\");\n      setCommentReplyImage(null);\n    } else {\n      setReplyingToComment(commentId);\n      setCommentReplyText(\"\");\n      setCommentReplyImage(null);\n      loadCommentReplies(commentId);\n    }\n  }\n\n  // Submit reply to a comment\n  async function submitCommentReply(parentCommentId, postId) {\n    if (!commentReplyText.trim()) return;\n\n    try {\n      const response = await commentsApi.create(commentReplyText.trim(), null, postId, parentCommentId, commentReplyImage);\n      if (response && response.comment) {\n        setCommentReplies((prev) => ({\n          ...prev,\n          [parentCommentId]: [...(prev[parentCommentId] || []), response.comment],\n        }));\n      }\n      setReplyingToComment(null);\n      setCommentReplyText(\"\");\n      setCommentReplyImage(null);\n    } catch (err) {\n      console.error(\"Failed to submit comment reply:\", err);\n    }\n  }\n\n  // Delete a reply to a comment\n  async function handleDeleteCommentReply(replyId, parentCommentId) {\n    try {\n      await commentsApi.delete(replyId);\n      setCommentReplies((prev) => ({\n        ...prev,\n        [parentCommentId]: (prev[parentCommentId] || []).filter((r) => r._id !== replyId),\n      }));\n    } catch (err) {\n      console.error(\"Failed to delete reply:\", err);\n    }\n  }\n\n  function requireAuth(action) {\n    if (isAuthed) {\n      action?.();\n      return true;\n    }\n    openLoginModal();\n    return false;\n  }\n\n  function communityHrefFor(handle) {\n    const h = (handle || \"\").trim().toLowerCase();\n    if (h === \"john.doe\") {\n      return isAuthed && normalizedUsername === \"john.doe\" ? \"/communities/me\" : \"/communities/john.doe\";\n    }\n    if (isAuthed && h === normalizedUsername) return \"/communities/me\";\n    return `/communities/${handle}`;\n  }\n\n  const [postingInProgress, setPostingInProgress] = React.useState(false);\n\n  // Edit post handler\n  function handleEditPost(post) {\n    setEditingPost(post);\n    setEditDraft(post.caption || \"\");\n  }\n\n  async function submitEditPost() {\n    if (!editingPost || editingInProgress) return;\n\n    setEditingInProgress(true);\n    try {\n      const response = await postsApi.update(editingPost.id, {\n        caption: editDraft,\n      });\n\n      if (response.post) {\n        // Update the post in the feed\n        setPosts((prev) =>\n          prev.map((p) =>\n            p.id === editingPost.id\n              ? { ...p, caption: editDraft, editedAt: response.post.editedAt || new Date().toISOString() }\n              : p\n          )\n        );\n      }\n\n      setEditingPost(null);\n      setEditDraft(\"\");\n    } catch (err) {\n      console.error(\"Failed to edit post:\", err);\n      alert(\"Failed to update post. Please try again.\");\n    } finally {\n      setEditingInProgress(false);\n    }\n  }\n\n  // Delete post handler\n  function handleDeletePost(post) {\n    setDeletingPost(post);\n  }\n\n  async function confirmDeletePost() {\n    if (!deletingPost || deletingInProgress) return;\n\n    setDeletingInProgress(true);\n    try {\n      await postsApi.delete(deletingPost.id);\n\n      // Remove the post from the feed\n      setPosts((prev) => prev.filter((p) => p.id !== deletingPost.id));\n\n      setDeletingPost(null);\n    } catch (err) {\n      console.error(\"Failed to delete post:\", err);\n      alert(\"Failed to delete post. Please try again.\");\n    } finally {\n      setDeletingInProgress(false);\n    }\n  }\n\n  // Image upload handlers\n  function handleImageSelect(e) {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.type.startsWith(\"image/\")) {\n      alert(\"Please select an image file.\");\n      return;\n    }\n\n    // Create preview URL\n    const preview = URL.createObjectURL(file);\n    setPostImage({ file, preview });\n  }\n\n  function removeImage() {\n    if (postImage?.preview) {\n      URL.revokeObjectURL(postImage.preview);\n    }\n    setPostImage(null);\n    if (imageInputRef.current) {\n      imageInputRef.current.value = \"\";\n    }\n  }\n\n  // Report handler\n  function handleReport(post) {\n    alert(`Report functionality coming soon. Post ID: ${post.id}`);\n  }\n\n  async function submitPost() {\n    const text = draft.trim();\n    if ((!text && !postImage) || postingInProgress) return;\n\n    const userDisplay = currentUser?.displayName || currentUser?.username || normalizedUsername || \"user\";\n    const userHandle = currentUser?.username || normalizedUsername || \"user\";\n    const userAvatar = currentUser?.avatarUrl || \"\";\n\n    setPostingInProgress(true);\n\n    try {\n      // Upload image first if present\n      let imageUrl = null;\n      if (postImage?.file) {\n        setUploadingImage(true);\n        try {\n          const uploadResult = await uploadsApi.image(postImage.file);\n          imageUrl = uploadResult.url;\n        } catch (uploadErr) {\n          console.error(\"Failed to upload image:\", uploadErr);\n          alert(\"Failed to upload image. Please try again.\");\n          setUploadingImage(false);\n          setPostingInProgress(false);\n          return;\n        }\n        setUploadingImage(false);\n      }\n\n      // Create post via backend API\n      const postData = {\n        type: \"post\",\n        caption: text,\n        imageUrl,\n      };\n\n      const response = await postsApi.create(postData);\n\n      if (response.post) {\n        // Add the new post to the top of the feed\n        const newPost = {\n          id: response.post._id,\n          type: response.post.type || \"post\",\n          user: { handle: userHandle, display: userDisplay, avatar: userAvatar },\n          time: \"just now\",\n          title: response.post.title || \"\",\n          caption: response.post.caption || response.post.content || text,\n          imageUrl: response.post.imageUrl || imageUrl,\n          meta: { replies: \"0\", likes: \"0\" },\n          tags: response.post.tags || [],\n          authorId: response.post.authorId,\n        };\n\n        setPosts((prev) => [newPost, ...prev]);\n      }\n\n      setDraft(\"\");\n      setPostType(\"post\");\n      removeImage();\n    } catch (err) {\n      console.error(\"Failed to create post:\", err);\n      alert(\"Failed to create post. Please try again.\");\n    } finally {\n      setPostingInProgress(false);\n    }\n  }\n\n  const filteredPosts = React.useMemo(() => {\n    const q = query.trim().toLowerCase();\n    return q\n      ? posts.filter((p) => {\n          const hay = [p.title, p.caption, p.user?.handle, p.user?.display, ...(p.tags || [])]\n            .filter(Boolean)\n            .join(\" \")\n            .toLowerCase();\n          return hay.includes(q);\n        })\n      : posts;\n  }, [posts, query]);\n\n  // if a post is a work but lacks workId, try to resolve from library mock data by title\n  function resolveWorkIdFromTitle(title) {\n    const t = String(title || \"\").trim().toLowerCase();\n    if (!t) return null;\n    const found = (libraryWorks || []).find((w) => String(w.title || \"\").trim().toLowerCase() === t);\n    return found?.id || null;\n  }\n\n  return (\n    <div className=\"co-page\" aria-label=\"Communities explore page\">\n      <div className=\"co-shell\">\n        {/* Left Sidebar */}\n        <aside className=\"co-left\" aria-label=\"Community center navigation\">\n          <div className=\"co-leftCard\">\n            <div className=\"co-leftTitle\">Community Center</div>\n\n            <div className=\"co-leftTabs\" role=\"tablist\" aria-label=\"Community tabs\">\n              {[\"Explore\", \"Following\"].map((t) => (\n                <button\n                  key={t}\n                  type=\"button\"\n                  className={tab === t ? \"co-leftTab co-leftTab--active\" : \"co-leftTab\"}\n                  onClick={() => setTab(t)}\n                  role=\"tab\"\n                  aria-selected={tab === t ? \"true\" : \"false\"}\n                >\n                  {t}\n                </button>\n              ))}\n            </div>\n\n            <div className=\"co-leftSection\">\n              <div className=\"co-leftSectionTitle\">Topics</div>\n              <div className=\"co-topicList\">\n                {TOPICS.map((t) => (\n                  <button\n                    key={t.id}\n                    type=\"button\"\n                    className=\"co-topic\"\n                    onClick={() => setQuery(t.label)}\n                    aria-label={`Search topic ${t.label}`}\n                    title={`Search: ${t.label}`}\n                  >\n                    <span className=\"co-topicName\">{t.label}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n          </div>\n        </aside>\n\n        {/* Main Feed */}\n        <main className=\"co-main\" aria-label=\"Explore feed\">\n          <div className=\"co-mainHeader\">\n            <div className=\"co-mainHeaderTop\">\n              <h1 className=\"co-title\">Explore</h1>\n\n              <div className=\"co-searchWrap\" role=\"search\" aria-label=\"Search community content\">\n                <span className=\"co-searchIcon\" aria-hidden=\"true\">\n                  \n                </span>\n                <input\n                  className=\"co-searchInput\"\n                  value={query}\n                  onChange={(e) => setQuery(e.target.value)}\n                  placeholder=\"Search posts...\"\n                  aria-label=\"Search\"\n                />\n              </div>\n            </div>\n\n            <div className=\"co-filters\" aria-label=\"Feed filters\">\n              <button\n                type=\"button\"\n                className={tab === \"Explore\" ? \"co-filter co-filter--active\" : \"co-filter\"}\n                onClick={() => setTab(\"Explore\")}\n              >\n                All Posts\n              </button>\n              <button\n                type=\"button\"\n                className={tab === \"Following\" ? \"co-filter co-filter--active\" : \"co-filter\"}\n                onClick={() => setTab(\"Following\")}\n              >\n                Following\n              </button>\n\n              <span className=\"co-filterSep\" aria-hidden=\"true\" />\n\n              <button type=\"button\" className=\"co-filter co-filter--ghost\" onClick={() => {}}>\n                Sort: Trending \n              </button>\n            </div>\n          </div>\n\n          {/* Composer */}\n          <section className=\"co-compose\" aria-label=\"Create post\">\n            {isAuthed ? (\n              <div className=\"co-composeLeft\">\n                <div className=\"co-composeAvatar\" aria-hidden=\"true\">\n                  <Avatar avatar={currentUser?.avatarUrl || \"\"} name={currentUser?.displayName || currentUser?.username || username} />\n                </div>\n\n                <div className=\"co-composeBox\">\n                  <div className=\"co-composeHead\">\n                    <div className=\"co-composeTitle\">Post to the Community</div>\n                  </div>\n\n                  <MentionInput\n                    value={draft}\n                    onChange={setDraft}\n                    followingList={followingList}\n                    placeholder=\"Share something with the community...\"\n                    rows={2}\n                  />\n\n                  {/* Image preview */}\n                  {postImage && (\n                    <div className=\"co-imagePreview\">\n                      <img src={postImage.preview} alt=\"Upload preview\" />\n                      <button\n                        type=\"button\"\n                        className=\"co-imageRemove\"\n                        onClick={removeImage}\n                        aria-label=\"Remove image\"\n                      >\n                        \n                      </button>\n                    </div>\n                  )}\n\n                  <div className=\"co-composeFooter\">\n                    <div className=\"co-composeActions\">\n                      <input\n                        ref={imageInputRef}\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleImageSelect}\n                        style={{ display: \"none\" }}\n                        id=\"post-image-input\"\n                      />\n                      <button\n                        type=\"button\"\n                        className=\"co-attachBtn\"\n                        onClick={() => imageInputRef.current?.click()}\n                        disabled={uploadingImage}\n                        title=\"Add image\"\n                      >\n                         Image\n                      </button>\n                      <span className=\"co-composeHint\">Tip: Use @username to mention someone</span>\n                    </div>\n\n                    <button\n                      type=\"button\"\n                      className=\"co-postBtn\"\n                      onClick={submitPost}\n                      disabled={postingInProgress || (!draft.trim() && !postImage)}\n                      aria-label=\"Post\"\n                    >\n                      {uploadingImage ? \"Uploading...\" : postingInProgress ? \"Posting...\" : \"Post\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <button\n                type=\"button\"\n                className=\"co-composeLoggedOut\"\n                onClick={openLoginModal}\n                aria-label=\"Log in to post\"\n              >\n                <div className=\"co-composeLoggedOutTitle\">Post to the Community</div>\n                <div className=\"co-composeLoggedOutSub\">Log in to share an update with the community</div>\n              </button>\n            )}\n          </section>\n\n          {/* Feed */}\n          <section className=\"co-feed\" aria-label=\"Posts\">\n            {loadingPosts ? (\n              <div className=\"co-empty\">Loading posts...</div>\n            ) : postsError ? (\n              <div className=\"co-empty\">{postsError}</div>\n            ) : filteredPosts.length === 0 ? (\n              <div className=\"co-empty\">\n                {query ? \"Nothing matched that search. Try different keywords.\" : \"No posts yet. Be the first to share something with the community.\"}\n              </div>\n            ) : (\n              filteredPosts.map((p) => {\n                return (\n                  <article key={p.id} className=\"co-post\" aria-label=\"Post\">\n                    <div className=\"co-postTop\">\n                      <div className=\"co-postUser\">\n                        <Link\n                          to={communityHrefFor(p.user.handle)}\n                          className=\"co-userLink\"\n                          aria-label={`Open ${p.user.display} community page`}\n                        >\n                          <div className=\"co-avatar\">\n                            <Avatar avatar={p.user.avatar} name={p.user.display} />\n                          </div>\n                          <div className=\"co-userMeta\">\n                            <div className=\"co-userName\">{p.user.display}</div>\n                            <div className=\"co-userHandle\">@{p.user.handle}</div>\n                          </div>\n                        </Link>\n                      </div>\n\n                      <div className=\"co-postRight\">\n                        <div className=\"co-time\">\n                          {p.time}\n                          {p.editedAt && <span className=\"co-edited\">(edited)</span>}\n                        </div>\n                        <PostMenu\n                          post={p}\n                          onEdit={handleEditPost}\n                          onDelete={handleDeletePost}\n                          onReport={handleReport}\n                          isOwner={currentUser && p.authorId === currentUser._id}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"co-postBody\">\n                      {p.title && <div className=\"co-postTitle\">{p.title}</div>}\n\n                      <div className=\"co-postCaption\">{renderMentions(p.caption)}</div>\n\n                      {/* Post image */}\n                      {p.imageUrl && (\n                        <div className=\"co-postImage\">\n                          <img src={p.imageUrl} alt=\"Post attachment\" />\n                        </div>\n                      )}\n\n                      {p.tags && p.tags.length > 0 && (\n                        <div className=\"co-tags\" aria-label=\"Tags\">\n                          {p.tags.map((t) => (\n                            <button\n                              key={t}\n                              type=\"button\"\n                              className=\"co-tag\"\n                              onClick={() => setQuery(t)}\n                              aria-label={`Search tag ${t}`}\n                            >\n                              #{t}\n                            </button>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"co-postActions\" aria-label=\"Post actions\">\n                      <button\n                        type=\"button\"\n                        className={`co-action ${likedPosts.includes(p.id) ? \"co-action--active\" : \"\"}`}\n                        onClick={() => requireAuth(() => handleLike(p.id))}\n                        disabled={likeInProgress[p.id]}\n                      >\n                        {likedPosts.includes(p.id) ? \" Liked\" : \" Like\"} {p.meta?.likes && p.meta.likes !== \"0\" ? `(${p.meta.likes})` : \"\"}\n                      </button>\n                      <button\n                        type=\"button\"\n                        className={`co-action ${replyingTo === p.id ? \"co-action--active\" : \"\"}`}\n                        onClick={() => requireAuth(() => handleReply(p.id))}\n                      >\n                         Reply {p.meta?.replies && p.meta.replies !== \"0\" ? `(${p.meta.replies})` : \"\"}\n                      </button>\n                      <button type=\"button\" className=\"co-action\" onClick={() => handleShare(p)}>\n                         Share\n                      </button>\n                      <button\n                        type=\"button\"\n                        className={`co-action co-action--ghost ${bookmarkedPosts.includes(p.id) ? \"co-action--active\" : \"\"}`}\n                        onClick={() => requireAuth(() => handleBookmark(p.id))}\n                        disabled={bookmarkInProgress[p.id]}\n                      >\n                        {bookmarkedPosts.includes(p.id) ? \" Bookmarked\" : \"Bookmark\"}\n                      </button>\n                    </div>\n\n                    {/* Reply section */}\n                    {replyingTo === p.id && (\n                      <div className=\"co-replySection\">\n                        {/* Existing comments */}\n                        {postComments[p.id] && postComments[p.id].length > 0 && (\n                          <div className=\"co-commentsList\">\n                            {postComments[p.id].map((comment) => (\n                              <div key={comment._id} className=\"co-comment\">\n                                <div className=\"co-commentHeader\">\n                                  <Link to={`/communities/${comment.authorUsername}`} className=\"co-commentAuthor\">\n                                    @{comment.authorUsername}\n                                  </Link>\n                                  <span className=\"co-commentTime\">\n                                    {formatTimeAgo(comment.createdAt)}\n                                    {comment.editedAt && <span className=\"co-edited\">(edited)</span>}\n                                  </span>\n                                </div>\n\n                                {/* Editing mode */}\n                                {editingComment === comment._id ? (\n                                  <div className=\"co-commentEdit\">\n                                    <textarea\n                                      className=\"co-replyInput\"\n                                      value={editCommentText}\n                                      onChange={(e) => setEditCommentText(e.target.value)}\n                                      rows={2}\n                                    />\n                                    {editCommentImage && (\n                                      <div className=\"co-commentImagePreview\">\n                                        <img src={editCommentImage} alt=\"Attachment\" />\n                                        <button type=\"button\" onClick={() => setEditCommentImage(null)}></button>\n                                      </div>\n                                    )}\n                                    <div className=\"co-commentEditActions\">\n                                      <label className=\"co-imageUploadBtn\">\n                                        \n                                        <input type=\"file\" accept=\"image/*\" onChange={(e) => handleCommentImageUpload(e, \"edit\")} hidden />\n                                      </label>\n                                      <button type=\"button\" onClick={cancelEditComment}>Cancel</button>\n                                      <button type=\"button\" onClick={() => saveEditComment(comment._id, p.id)}>Save</button>\n                                    </div>\n                                  </div>\n                                ) : (\n                                  <>\n                                    <div className=\"co-commentText\">{renderMentions(comment.text)}</div>\n                                    {comment.imageUrl && (\n                                      <div className=\"co-commentImage\">\n                                        <img src={comment.imageUrl} alt=\"Comment attachment\" />\n                                      </div>\n                                    )}\n                                  </>\n                                )}\n\n                                {/* Comment actions */}\n                                {editingComment !== comment._id && (\n                                  <div className=\"co-commentActions\">\n                                    <button\n                                      type=\"button\"\n                                      className={`co-commentAction ${likedComments.includes(comment._id) ? \"co-commentAction--liked\" : \"\"}`}\n                                      onClick={() => requireAuth(() => handleLikeComment(comment._id, p.id))}\n                                    >\n                                      {likedComments.includes(comment._id) ? \"\" : \"\"} {comment.likesCount || 0}\n                                    </button>\n                                    <button\n                                      type=\"button\"\n                                      className=\"co-commentAction\"\n                                      onClick={() => requireAuth(() => startReplyToComment(comment._id))}\n                                    >\n                                      Reply\n                                    </button>\n                                    {currentUser && comment.authorId === currentUser._id && (\n                                      <>\n                                        <button\n                                          type=\"button\"\n                                          className=\"co-commentAction\"\n                                          onClick={() => startEditComment(comment)}\n                                        >\n                                          Edit\n                                        </button>\n                                        <button\n                                          type=\"button\"\n                                          className=\"co-commentAction co-commentAction--delete\"\n                                          onClick={() => handleDeleteComment(comment._id, p.id)}\n                                        >\n                                          Delete\n                                        </button>\n                                      </>\n                                    )}\n                                  </div>\n                                )}\n\n                                {/* Nested replies */}\n                                {replyingToComment === comment._id && (\n                                  <div className=\"co-nestedReplies\">\n                                    {commentReplies[comment._id] && commentReplies[comment._id].length > 0 && (\n                                      <div className=\"co-nestedReplyList\">\n                                        {commentReplies[comment._id].map((reply) => (\n                                          <div key={reply._id} className=\"co-nestedReply\">\n                                            <div className=\"co-commentHeader\">\n                                              <Link to={`/communities/${reply.authorUsername}`} className=\"co-commentAuthor\">\n                                                @{reply.authorUsername}\n                                              </Link>\n                                              <span className=\"co-commentTime\">\n                                                {formatTimeAgo(reply.createdAt)}\n                                                {reply.editedAt && <span className=\"co-edited\">(edited)</span>}\n                                              </span>\n                                              {currentUser && reply.authorId === currentUser._id && (\n                                                <button\n                                                  type=\"button\"\n                                                  className=\"co-commentAction co-commentAction--delete\"\n                                                  onClick={() => handleDeleteCommentReply(reply._id, comment._id)}\n                                                >\n                                                  Delete\n                                                </button>\n                                              )}\n                                            </div>\n                                            <div className=\"co-commentText\">{renderMentions(reply.text)}</div>\n                                            {reply.imageUrl && (\n                                              <div className=\"co-commentImage\">\n                                                <img src={reply.imageUrl} alt=\"Reply attachment\" />\n                                              </div>\n                                            )}\n                                          </div>\n                                        ))}\n                                      </div>\n                                    )}\n\n                                    {/* Reply to comment input */}\n                                    <div className=\"co-nestedReplyBox\">\n                                      <textarea\n                                        className=\"co-replyInput co-replyInput--small\"\n                                        value={commentReplyText}\n                                        onChange={(e) => setCommentReplyText(e.target.value)}\n                                        placeholder={`Reply to @${comment.authorUsername}...`}\n                                        rows={2}\n                                      />\n                                      {commentReplyImage && (\n                                        <div className=\"co-commentImagePreview\">\n                                          <img src={commentReplyImage} alt=\"Attachment\" />\n                                          <button type=\"button\" onClick={() => setCommentReplyImage(null)}></button>\n                                        </div>\n                                      )}\n                                      <div className=\"co-replyActions\">\n                                        <label className=\"co-imageUploadBtn\">\n                                          \n                                          <input type=\"file\" accept=\"image/*\" onChange={(e) => handleCommentImageUpload(e, \"commentReply\")} hidden />\n                                        </label>\n                                        <button type=\"button\" onClick={() => setReplyingToComment(null)}>Cancel</button>\n                                        <button type=\"button\" onClick={() => submitCommentReply(comment._id, p.id)} disabled={!commentReplyText.trim()}>Reply</button>\n                                      </div>\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            ))}\n                          </div>\n                        )}\n\n                        {/* Reply input */}\n                        <div className=\"co-replyBox\">\n                          <textarea\n                            className=\"co-replyInput\"\n                            value={replyDraft}\n                            onChange={(e) => setReplyDraft(e.target.value)}\n                            placeholder=\"Write a reply...\"\n                            rows={2}\n                            autoFocus\n                            disabled={replyInProgress}\n                          />\n                          {replyImageUrl && (\n                            <div className=\"co-commentImagePreview\">\n                              <img src={replyImageUrl} alt=\"Attachment\" />\n                              <button type=\"button\" onClick={() => setReplyImageUrl(null)}></button>\n                            </div>\n                          )}\n                          <div className=\"co-replyActions\">\n                            <label className=\"co-imageUploadBtn\">\n                              \n                              <input type=\"file\" accept=\"image/*\" onChange={(e) => handleCommentImageUpload(e, \"reply\")} hidden />\n                            </label>\n                            <button\n                              type=\"button\"\n                              className=\"co-replyCancel\"\n                              onClick={() => { setReplyingTo(null); setReplyImageUrl(null); }}\n                              disabled={replyInProgress}\n                            >\n                              Cancel\n                            </button>\n                            <button\n                              type=\"button\"\n                              className=\"co-replySubmit\"\n                              onClick={() => submitReply(p.id)}\n                              disabled={replyInProgress || !replyDraft.trim()}\n                            >\n                              {replyInProgress ? \"Posting...\" : \"Reply\"}\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </article>\n                );\n              })\n            )}\n          </section>\n        </main>\n\n        {/* Right Sidebar */}\n        <aside className=\"co-right\" aria-label=\"Suggestions and live activity\">\n          <div className=\"co-rightCard\">\n            <div className=\"co-rightTitle\">Suggested Creators</div>\n\n            {loadingUsers ? (\n              <div className=\"co-suggestEmpty\">Loading...</div>\n            ) : suggestedUsers.length === 0 ? (\n              <div className=\"co-suggestEmpty\">\n                No creators to suggest yet.\n              </div>\n            ) : (\n              <div className=\"co-suggestList\">\n                {suggestedUsers.map((u) => (\n                  <div key={u._id} className=\"co-suggest\">\n                    <Link\n                      to={`/communities/${u.username}`}\n                      className=\"co-suggestUser\"\n                      aria-label={`Open @${u.username}'s community page`}\n                    >\n                      <div className=\"co-avatar co-avatar--sm\">\n                        <Avatar avatar={u.avatarUrl} name={u.displayName || u.username} />\n                      </div>\n                      <div className=\"co-suggestMeta\">\n                        <div className=\"co-suggestName\">@{u.username}</div>\n                        {u.displayName && u.displayName !== u.username && (\n                          <div className=\"co-suggestDisplayName\">{u.displayName}</div>\n                        )}\n                        <div className=\"co-suggestFollowers\">{u.stats?.followersCount || 0} followers</div>\n                      </div>\n                    </Link>\n\n                    <button\n                      type=\"button\"\n                      className={`co-followBtn ${u.isFollowing ? \"co-followBtn--following\" : \"\"}`}\n                      onClick={() => requireAuth(() => handleFollow(u._id, u.isFollowing))}\n                      disabled={followingInProgress[u._id]}\n                    >\n                      {followingInProgress[u._id]\n                        ? \"...\"\n                        : u.isFollowing\n                        ? \"Following\"\n                        : \"Follow\"}\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n        </aside>\n      </div>\n\n      {/* Edit Post Modal */}\n      {editingPost && (\n        <div className=\"co-modal-overlay\" onClick={() => !editingInProgress && setEditingPost(null)}>\n          <div className=\"co-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"co-modal-header\">\n              <h3 className=\"co-modal-title\">Edit Post</h3>\n              <button\n                type=\"button\"\n                className=\"co-modal-close\"\n                onClick={() => !editingInProgress && setEditingPost(null)}\n                disabled={editingInProgress}\n              >\n                \n              </button>\n            </div>\n            <div className=\"co-modal-body\">\n              <MentionInput\n                value={editDraft}\n                onChange={setEditDraft}\n                followingList={followingList}\n                placeholder=\"Edit your post...\"\n                rows={4}\n              />\n            </div>\n            <div className=\"co-modal-footer\">\n              <button\n                type=\"button\"\n                className=\"co-modal-btn co-modal-btn--secondary\"\n                onClick={() => setEditingPost(null)}\n                disabled={editingInProgress}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                className=\"co-modal-btn co-modal-btn--primary\"\n                onClick={submitEditPost}\n                disabled={editingInProgress || !editDraft.trim()}\n              >\n                {editingInProgress ? \"Saving...\" : \"Save Changes\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {deletingPost && (\n        <div className=\"co-modal-overlay\" onClick={() => !deletingInProgress && setDeletingPost(null)}>\n          <div className=\"co-modal co-modal--small\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"co-modal-header\">\n              <h3 className=\"co-modal-title\">Delete Post</h3>\n              <button\n                type=\"button\"\n                className=\"co-modal-close\"\n                onClick={() => !deletingInProgress && setDeletingPost(null)}\n                disabled={deletingInProgress}\n              >\n                \n              </button>\n            </div>\n            <div className=\"co-modal-body\">\n              <p className=\"co-modal-text\">\n                Are you sure you want to delete this post? This action cannot be undone.\n              </p>\n            </div>\n            <div className=\"co-modal-footer\">\n              <button\n                type=\"button\"\n                className=\"co-modal-btn co-modal-btn--secondary\"\n                onClick={() => setDeletingPost(null)}\n                disabled={deletingInProgress}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                className=\"co-modal-btn co-modal-btn--danger\"\n                onClick={confirmDeletePost}\n                disabled={deletingInProgress}\n              >\n                {deletingInProgress ? \"Deleting...\" : \"Delete\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n\n\n\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./About.css\";\n\nexport default function About() {\n  const navigate = useNavigate();\n\n  return (\n    <section className=\"aboutPage\" aria-label=\"About Sable\">\n      <div className=\"aboutInner\">\n        <div className=\"aboutGrid\">\n          <div className=\"aboutMain\">\n            <h1 className=\"aboutTitle\">ABOUT SABLE</h1>\n\n            <p className=\"aboutBody\">\n              Sable is a community driven writing platform built for people who care about craft, atmosphere, and discovering stories the\n              same way youd find a book you cant put down. Browse by genre, fandom, or tags, publish works, and keep drafts in\n              progress configured around a clean reading experience.\n            </p>\n\n            <p className=\"aboutBody\">\n              Our goal is to make it easy to write, easy to share, and easy to find the kind of stories you actually want to readwithout\n              drowning in noise. Communities help you connect around themes and niches, and bookmarks let you save what you want to come back to.\n            </p>\n\n            <p className=\"aboutBody\">\n              Sable is currently a front-end demo using mock data and prototype interactions. Were building toward a full release with real\n              accounts, publishing workflows, and richer discovery.\n            </p>\n          </div>\n\n          <aside className=\"aboutSupport\" aria-label=\"Support Sable\">\n            <h2 className=\"aboutSupportTitle\">\n              LIKE WHAT WE DO?\n              <br />\n              SUPPORT US!\n            </h2>\n\n            <p className=\"aboutSupportBody\">\n              This is a student-built prototypesupport helps keep the project moving, improves accessibility, and funds better assets,\n              testing, and polish.\n            </p>\n\n            <button type=\"button\" className=\"aboutSupportBtn\" onClick={() => navigate(\"/support\")}>\n              Support Sable\n            </button>\n          </aside>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n","import React from \"react\";\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport { discoveryApi } from \"../api\";\nimport \"./Search.css\";\nimport defaultCover from \"../assets/images/sable_default_cover.png\";\n\nexport default function Search() {\n  const [params, setParams] = useSearchParams();\n\n  const urlQuery = (params.get(\"q\") || \"\").trim();\n  const urlType = params.get(\"type\") || \"all\";\n\n  const [input, setInput] = React.useState(urlQuery);\n  const [searchType, setSearchType] = React.useState(urlType);\n  const [results, setResults] = React.useState(null);\n  const [loading, setLoading] = React.useState(false);\n\n  // Perform search when URL query changes\n  React.useEffect(() => {\n    setInput(urlQuery);\n    if (urlQuery.length >= 2) {\n      performSearch(urlQuery, urlType);\n    } else {\n      setResults(null);\n    }\n  }, [urlQuery, urlType]);\n\n  async function performSearch(query, type) {\n    if (query.length < 2) return;\n\n    setLoading(true);\n    try {\n      const data = await discoveryApi.search(query, type);\n      setResults(data.results);\n    } catch (err) {\n      console.error(\"Search failed:\", err);\n      setResults(null);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function submitSearch(e) {\n    e.preventDefault();\n    const q = input.trim();\n\n    if (!q || q.length < 2) {\n      setParams({});\n      setResults(null);\n      return;\n    }\n\n    setParams({ q, type: searchType });\n  }\n\n  function clearSearch() {\n    setInput(\"\");\n    setParams({});\n    setResults(null);\n  }\n\n  const hasQuery = urlQuery.length >= 2;\n  const hasResults = results && (\n    (results.works?.items?.length > 0) ||\n    (results.users?.items?.length > 0) ||\n    (results.fandoms?.items?.length > 0) ||\n    (results.tags?.items?.length > 0)\n  );\n\n  return (\n    <div className=\"searchPage\">\n      <div className=\"searchWrap\">\n        <header className=\"searchHeader\" aria-label=\"Search header\">\n          <div className=\"searchTitleBlock\">\n            <h1 className=\"searchTitle\">Search Results For:</h1>\n            <div className=\"searchQuery\" title={urlQuery || \"\"}>\n              {hasQuery ? urlQuery : \"Type a title, author, genre, fandom, or keyword.\"}\n            </div>\n          </div>\n\n          <form className=\"searchBar\" role=\"search\" aria-label=\"Search works\" onSubmit={submitSearch}>\n            <input\n              className=\"searchInput\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              placeholder=\"Search Sable... (min 2 characters)\"\n              aria-label=\"Search Sable\"\n              minLength={2}\n            />\n\n            <select\n              className=\"searchTypeSelect\"\n              value={searchType}\n              onChange={(e) => setSearchType(e.target.value)}\n              aria-label=\"Search type\"\n            >\n              <option value=\"all\">All</option>\n              <option value=\"works\">Works</option>\n              <option value=\"users\">Users</option>\n              <option value=\"fandoms\">Fandoms</option>\n              <option value=\"tags\">Tags</option>\n            </select>\n\n            <button type=\"submit\" className=\"searchBtn\" disabled={loading}>\n              {loading ? \"...\" : \"Search\"}\n            </button>\n\n            {hasQuery && (\n              <button\n                type=\"button\"\n                className=\"searchBtn\"\n                onClick={clearSearch}\n                aria-label=\"Clear search\"\n                title=\"Clear\"\n              >\n                Clear\n              </button>\n            )}\n          </form>\n        </header>\n\n        <main className=\"searchMain\" aria-label=\"Search results\">\n          {loading ? (\n            <div className=\"searchEmptyState\" role=\"status\" aria-live=\"polite\">\n              <div className=\"searchEmptyTitle\">Searching...</div>\n            </div>\n          ) : !hasQuery ? (\n            <div className=\"searchEmptyState\" role=\"status\" aria-live=\"polite\">\n              <div className=\"searchEmptyTitle\">Search Sable.</div>\n              <div className=\"searchEmptySub\">\n                Enter at least 2 characters, then hit <span className=\"searchEm\">Search</span>.\n              </div>\n            </div>\n          ) : !hasResults ? (\n            <div className=\"searchEmptyState\" role=\"status\" aria-live=\"polite\">\n              <div className=\"searchEmptyTitle\">No results found.</div>\n              <div className=\"searchEmptySub\">\n                Try a different keyword, or search by <span className=\"searchEm\">author</span>,{\" \"}\n                <span className=\"searchEm\">genre</span>, or <span className=\"searchEm\">fandom</span>.\n              </div>\n            </div>\n          ) : (\n            <div className=\"searchResultsList\" aria-label=\"Results list\">\n              {/* Works */}\n              {results.works?.items?.length > 0 && (\n                <div className=\"searchSection\">\n                  <h2 className=\"searchSectionTitle\">Works ({results.works.total})</h2>\n                  {results.works.items.map((w) => (\n                    <div key={w._id} className=\"searchResultCard searchResultCard--work\" aria-label={`Result: ${w.title}`}>\n                      <Link to={`/works/${w._id}`} className=\"searchResultCover\">\n                        <img\n                          src={w.coverImageUrl || defaultCover}\n                          alt=\"\"\n                          className=\"searchResultCoverImg\"\n                        />\n                      </Link>\n                      <div className=\"searchResultLeft\">\n                        <Link\n                          to={`/works/${w._id}`}\n                          className=\"searchResultTitle\"\n                          style={{ color: \"inherit\", textDecoration: \"none\" }}\n                        >\n                          {w.title || \"Untitled\"}\n                        </Link>\n                        <div className=\"searchResultAuthor\">\n                          by <Link to={`/communities/${encodeURIComponent(w.authorUsername || \"unknown\")}`} className=\"searchAuthorLink\">{w.authorUsername || \"Unknown\"}</Link>\n                        </div>\n                      </div>\n                      <div className=\"searchResultRight\">\n                        <div className=\"searchMetaRow\">\n                          <div className=\"searchMetaLabel\">Genre:</div>\n                          <div className=\"searchMetaValue\">{w.genre || \"\"}</div>\n                        </div>\n                        <div className=\"searchMetaRow\">\n                          <div className=\"searchMetaLabel\">Views:</div>\n                          <div className=\"searchMetaValue\">{w.stats?.viewCount || 0}</div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Users */}\n              {results.users?.items?.length > 0 && (\n                <div className=\"searchSection\">\n                  <h2 className=\"searchSectionTitle\">Users ({results.users.total})</h2>\n                  {results.users.items.map((u) => (\n                    <div key={u._id} className=\"searchResultCard\" aria-label={`User: ${u.username}`}>\n                      <div className=\"searchResultLeft\">\n                        <Link\n                          to={`/communities/${u.username}`}\n                          className=\"searchResultTitle\"\n                          style={{ color: \"inherit\", textDecoration: \"none\" }}\n                        >\n                          {u.displayName || u.username}\n                        </Link>\n                        <div className=\"searchResultAuthor\">@{u.username}</div>\n                      </div>\n                      <div className=\"searchResultRight\">\n                        <div className=\"searchMetaRow\">\n                          <div className=\"searchMetaLabel\">Followers:</div>\n                          <div className=\"searchMetaValue\">{u.stats?.followersCount || 0}</div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Fandoms */}\n              {results.fandoms?.items?.length > 0 && (\n                <div className=\"searchSection\">\n                  <h2 className=\"searchSectionTitle\">Fandoms ({results.fandoms.total})</h2>\n                  {results.fandoms.items.map((f) => (\n                    <div key={f._id} className=\"searchResultCard\" aria-label={`Fandom: ${f.name}`}>\n                      <div className=\"searchResultLeft\">\n                        <Link\n                          to={`/fandoms/${f.slug}`}\n                          className=\"searchResultTitle\"\n                          style={{ color: \"inherit\", textDecoration: \"none\" }}\n                        >\n                          {f.name}\n                        </Link>\n                        <div className=\"searchResultAuthor\">{f.category}</div>\n                      </div>\n                      <div className=\"searchResultRight\">\n                        <div className=\"searchMetaRow\">\n                          <div className=\"searchMetaLabel\">Works:</div>\n                          <div className=\"searchMetaValue\">{f.workCount || 0}</div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Tags */}\n              {results.tags?.items?.length > 0 && (\n                <div className=\"searchSection\">\n                  <h2 className=\"searchSectionTitle\">Tags ({results.tags.total})</h2>\n                  {results.tags.items.map((t) => (\n                    <div key={t._id} className=\"searchResultCard\" aria-label={`Tag: ${t.name}`}>\n                      <div className=\"searchResultLeft\">\n                        <Link\n                          to={`/tags/${t.slug}`}\n                          className=\"searchResultTitle\"\n                          style={{ color: \"inherit\", textDecoration: \"none\" }}\n                        >\n                          #{t.name}\n                        </Link>\n                        <div className=\"searchResultAuthor\">{t.category}</div>\n                      </div>\n                      <div className=\"searchResultRight\">\n                        <div className=\"searchMetaRow\">\n                          <div className=\"searchMetaLabel\">Used:</div>\n                          <div className=\"searchMetaValue\">{t.usageCount || 0} times</div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Inbox.css\";\n\nimport { messagesApi, authApi, uploadsApi } from \"../api\";\nimport { SableLoader } from \"../components\";\nimport {\n  initSocket,\n  getSocket,\n  joinThread,\n  leaveThread,\n  startTyping,\n  stopTyping,\n  onTyping,\n  onNewMessage,\n  onMessageSeen,\n  onMessageReaction,\n} from \"../api/socket\";\n\nfunction uid(prefix = \"id\") {\n  return `${prefix}_${Math.random().toString(16).slice(2)}_${Date.now()}`;\n}\n\n// Format relative time for presence\nfunction formatPresenceTime(dateStr) {\n  if (!dateStr) return \"\";\n  const date = new Date(dateStr);\n  const now = new Date();\n  const diffMs = now - date;\n  const diffMins = Math.floor(diffMs / (1000 * 60));\n  const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n\n  if (diffMins < 1) return \"just now\";\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays === 1) return \"yesterday\";\n  if (diffDays < 7) return `${diffDays}d ago`;\n  return date.toLocaleDateString();\n}\n\n// Get presence display text\nfunction getPresenceText(presence) {\n  if (!presence) return \"\";\n  const { status, lastSeenAt, lastActiveAt } = presence;\n\n  if (status === \"online\") return \"Active now\";\n  if (status === \"away\") {\n    const time = formatPresenceTime(lastActiveAt);\n    return `Away ${time ? ` ${time}` : \"\"}`;\n  }\n  // offline\n  const time = formatPresenceTime(lastSeenAt);\n  return time ? `Last seen ${time}` : \"Offline\";\n}\n\nfunction StatusDot({ status }) {\n  return <span className={`in-statusDot in-statusDot--${status || \"offline\"}`} aria-label={status || \"offline\"} />;\n}\n\nfunction Avatar({ name, avatar, status, size = \"md\" }) {\n  const letter = (name || \"U\").trim()[0]?.toUpperCase() || \"U\";\n\n  return (\n    <div className={`in-avatarWrap in-avatarWrap--${size}`} aria-label={`${name} avatar`}>\n      {avatar ? (\n        <img className=\"in-avatarImg\" src={avatar} alt=\"\" aria-hidden=\"true\" />\n      ) : (\n        <div className=\"in-avatarFallback\" aria-hidden=\"true\">\n          {letter}\n        </div>\n      )}\n\n      {status && (\n        <div className=\"in-statusWrap\" aria-hidden=\"true\">\n          <StatusDot status={status} />\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Reaction picker component with emoji categories\nfunction ReactionPicker({ onSelect, onClose }) {\n  const [activeTab, setActiveTab] = React.useState(\"quick\");\n\n  const quickEmojis = [\"\", \"\", \"\", \"\", \"\", \"\"];\n  const emojiCategories = {\n    faces: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n    gestures: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n    hearts: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n    symbols: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n  };\n\n  return (\n    <div className=\"in-reactionPicker\" role=\"menu\" onClick={(e) => e.stopPropagation()}>\n      <div className=\"in-emojiTabs\">\n        <button\n          type=\"button\"\n          className={`in-emojiTab ${activeTab === \"quick\" ? \"in-emojiTab--active\" : \"\"}`}\n          onClick={() => setActiveTab(\"quick\")}\n        >\n          \n        </button>\n        <button\n          type=\"button\"\n          className={`in-emojiTab ${activeTab === \"faces\" ? \"in-emojiTab--active\" : \"\"}`}\n          onClick={() => setActiveTab(\"faces\")}\n        >\n          \n        </button>\n        <button\n          type=\"button\"\n          className={`in-emojiTab ${activeTab === \"gestures\" ? \"in-emojiTab--active\" : \"\"}`}\n          onClick={() => setActiveTab(\"gestures\")}\n        >\n          \n        </button>\n        <button\n          type=\"button\"\n          className={`in-emojiTab ${activeTab === \"hearts\" ? \"in-emojiTab--active\" : \"\"}`}\n          onClick={() => setActiveTab(\"hearts\")}\n        >\n          \n        </button>\n        <button\n          type=\"button\"\n          className={`in-emojiTab ${activeTab === \"symbols\" ? \"in-emojiTab--active\" : \"\"}`}\n          onClick={() => setActiveTab(\"symbols\")}\n        >\n          \n        </button>\n        <button\n          type=\"button\"\n          className=\"in-emojiTab in-emojiTab--close\"\n          onClick={onClose}\n        >\n          \n        </button>\n      </div>\n      <div className=\"in-emojiGrid\">\n        {(activeTab === \"quick\" ? quickEmojis : emojiCategories[activeTab] || []).map((emoji) => (\n          <button\n            key={emoji}\n            type=\"button\"\n            className=\"in-reactionBtn\"\n            onClick={() => {\n              onSelect(emoji);\n              onClose();\n            }}\n          >\n            {emoji}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// Message bubble with reaction indicator on corner (like presence dots)\nfunction MessageBubble({ message, isMe, currentUserId, onAddReaction, onRemoveReaction }) {\n  const [showReactionPicker, setShowReactionPicker] = React.useState(false);\n\n  const reactions = message.reactions || [];\n\n  // Get the primary reaction to display (most recent or user's own)\n  const myReaction = reactions.find((r) => r.userId === currentUserId);\n  const primaryReaction = myReaction || reactions[reactions.length - 1];\n  const hasReaction = reactions.length > 0;\n\n  // Handle clicking the reaction indicator\n  function handleReactionClick() {\n    if (myReaction) {\n      // Remove my reaction\n      onRemoveReaction(message._id, myReaction.emoji);\n    } else {\n      // Open picker to add reaction\n      setShowReactionPicker(true);\n    }\n  }\n\n  return (\n    <div className={`in-bubbleRow ${isMe ? \"in-bubbleRow--me\" : \"\"}`}>\n      <div className={`in-bubbleWrap ${isMe ? \"in-bubbleWrap--me\" : \"\"}`}>\n        <div\n          className={isMe ? \"in-bubble in-bubble--me\" : \"in-bubble\"}\n          onDoubleClick={() => setShowReactionPicker(true)}\n        >\n          {message.text}\n\n          {message.attachmentUrl && (\n            <div className=\"in-attachment\">\n              <a href={message.attachmentUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                {message.attachmentName || \"Attachment\"}\n              </a>\n            </div>\n          )}\n        </div>\n\n        {/* Reaction indicator on corner (like presence status dot) */}\n        <button\n          type=\"button\"\n          className={`in-reactionIndicator ${hasReaction ? \"in-reactionIndicator--active\" : \"\"} ${myReaction ? \"in-reactionIndicator--mine\" : \"\"}`}\n          onClick={handleReactionClick}\n          onContextMenu={(e) => {\n            e.preventDefault();\n            setShowReactionPicker(true);\n          }}\n          title={hasReaction ? `${reactions.length} reaction${reactions.length > 1 ? \"s\" : \"\"} - ${reactions.map(r => r.username).join(\", \")}` : \"Add reaction\"}\n        >\n          {hasReaction ? (\n            <>\n              <span className=\"in-reactionEmoji\">{primaryReaction.emoji}</span>\n              {reactions.length > 1 && <span className=\"in-reactionBadge\">{reactions.length}</span>}\n            </>\n          ) : (\n            <span className=\"in-reactionPlus\">+</span>\n          )}\n        </button>\n\n        {showReactionPicker && (\n          <ReactionPicker\n            onSelect={(emoji) => {\n              // If user already has a reaction, remove it first\n              if (myReaction) {\n                onRemoveReaction(message._id, myReaction.emoji);\n              }\n              onAddReaction(message._id, emoji);\n            }}\n            onClose={() => setShowReactionPicker(false)}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default function Inbox() {\n  const navigate = useNavigate();\n\n  // Current user\n  const [currentUser, setCurrentUser] = React.useState(null);\n\n  // Left tabs\n  const [leftTab, setLeftTab] = React.useState(\"Messages\"); // Messages | Requests | Files\n\n  // Right area modes\n  const [rightMode, setRightMode] = React.useState(\"chat\"); // chat | compose | files | settings\n\n  // Threads state\n  const [threads, setThreads] = React.useState([]);\n  const [requests, setRequests] = React.useState([]);\n  const [activeThreadId, setActiveThreadId] = React.useState(null);\n  const [activeThread, setActiveThread] = React.useState(null);\n  const [messages, setMessages] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n\n  // Middle column search\n  const [query, setQuery] = React.useState(\"\");\n\n  // Composer (sending messages)\n  const [draft, setDraft] = React.useState(\"\");\n  const [sending, setSending] = React.useState(false);\n\n  // Compose-new-message UX\n  const [userQuery, setUserQuery] = React.useState(\"\");\n  const [searchUsers, setSearchUsers] = React.useState([]);\n  const [mutuals, setMutuals] = React.useState([]);\n  const [composeDraft, setComposeDraft] = React.useState(\"\");\n\n  // Chat search (header search)\n  const [isChatSearchOpen, setIsChatSearchOpen] = React.useState(false);\n  const [chatSearchQuery, setChatSearchQuery] = React.useState(\"\");\n\n  // Info dropdown\n  const [isInfoOpen, setIsInfoOpen] = React.useState(false);\n  const infoMenuRef = React.useRef(null);\n\n  // Files\n  const [files, setFiles] = React.useState([]);\n  const [fileQuery, setFileQuery] = React.useState(\"\");\n  const [activeFileId, setActiveFileId] = React.useState(null);\n\n  // Settings\n  const [settings, setSettings] = React.useState({ readReceipts: true, showSeenIndicators: true });\n\n  // Typing indicator\n  const [typingUsers, setTypingUsers] = React.useState({});\n  const typingTimeoutRef = React.useRef(null);\n\n  // Seen indicator\n  const [seenInfo, setSeenInfo] = React.useState({});\n\n  // File upload\n  const fileInputRef = React.useRef(null);\n\n  // Delete modal state\n  const [showDeleteModal, setShowDeleteModal] = React.useState(false);\n  const [deleteInProgress, setDeleteInProgress] = React.useState(false);\n\n  // Load initial data\n  React.useEffect(() => {\n    async function loadData() {\n      try {\n        const [meData, threadsData, requestsData, settingsData, mutualsData] = await Promise.all([\n          authApi.me(),\n          messagesApi.getThreads(),\n          messagesApi.getRequests(),\n          messagesApi.getSettings(),\n          messagesApi.getMutuals(),\n        ]);\n\n        setCurrentUser(meData.user);\n        setThreads(threadsData.threads || []);\n        setRequests(requestsData.requests || []);\n        setSettings(settingsData.settings || { readReceipts: true, showSeenIndicators: true });\n        setMutuals(mutualsData.mutuals || []);\n\n        if (threadsData.threads?.length > 0) {\n          setActiveThreadId(threadsData.threads[0]._id);\n        }\n      } catch (err) {\n        console.error(\"Failed to load inbox data:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadData();\n    initSocket();\n\n    // Throttled activity ping (max once per 30 seconds)\n    let lastActivityPing = 0;\n    function sendActivityPing() {\n      const now = Date.now();\n      if (now - lastActivityPing > 30000) {\n        lastActivityPing = now;\n        const socket = getSocket();\n        if (socket) {\n          socket.emit(\"activity\");\n        }\n      }\n    }\n\n    // Send activity ping every 2 minutes\n    const activityInterval = setInterval(sendActivityPing, 2 * 60 * 1000);\n\n    // Also send on user interaction (throttled)\n    window.addEventListener(\"mousemove\", sendActivityPing, { passive: true });\n    window.addEventListener(\"keydown\", sendActivityPing, { passive: true });\n\n    return () => {\n      clearInterval(activityInterval);\n      window.removeEventListener(\"mousemove\", sendActivityPing);\n      window.removeEventListener(\"keydown\", sendActivityPing);\n    };\n  }, []);\n\n  // Load active thread messages\n  React.useEffect(() => {\n    async function loadThread() {\n      if (!activeThreadId) return;\n\n      try {\n        const data = await messagesApi.getThread(activeThreadId);\n        setActiveThread(data.thread);\n        setMessages(data.messages || []);\n\n        // Mark as seen\n        if (settings.readReceipts) {\n          messagesApi.markSeen(activeThreadId).catch(() => {});\n        }\n      } catch (err) {\n        console.error(\"Failed to load thread:\", err);\n      }\n    }\n\n    loadThread();\n  }, [activeThreadId, settings.readReceipts]);\n\n  // Join/leave thread rooms for real-time updates\n  React.useEffect(() => {\n    if (activeThreadId) {\n      joinThread(activeThreadId);\n    }\n\n    return () => {\n      if (activeThreadId) {\n        leaveThread(activeThreadId);\n      }\n    };\n  }, [activeThreadId]);\n\n  // Socket event listeners\n  React.useEffect(() => {\n    const unsubMessage = onNewMessage(({ threadId, message }) => {\n      if (threadId === activeThreadId) {\n        setMessages((prev) => [...prev, message]);\n        // Mark as seen\n        if (settings.readReceipts) {\n          messagesApi.markSeen(threadId).catch(() => {});\n        }\n      }\n      // Update thread preview\n      setThreads((prev) =>\n        prev.map((t) =>\n          t._id === threadId\n            ? { ...t, lastMessage: message.text, lastMessageAt: message.createdAt }\n            : t\n        )\n      );\n    });\n\n    const unsubSeen = onMessageSeen(({ threadId, userId, username, seenAt }) => {\n      if (threadId === activeThreadId) {\n        setSeenInfo((prev) => ({ ...prev, [userId]: { username, seenAt } }));\n      }\n    });\n\n    const unsubReaction = onMessageReaction(({ messageId, reaction, action }) => {\n      setMessages((prev) =>\n        prev.map((m) => {\n          if (m._id !== messageId) return m;\n          let reactions = m.reactions || [];\n          if (action === \"add\") {\n            reactions = [...reactions, reaction];\n          } else {\n            reactions = reactions.filter(\n              (r) => !(r.userId === reaction.userId && r.emoji === reaction.emoji)\n            );\n          }\n          return { ...m, reactions };\n        })\n      );\n    });\n\n    const unsubTyping = onTyping(({ userId, threadId, typing }) => {\n      if (threadId === activeThreadId && userId !== currentUser?._id) {\n        setTypingUsers((prev) => {\n          if (typing) {\n            return { ...prev, [userId]: true };\n          } else {\n            const next = { ...prev };\n            delete next[userId];\n            return next;\n          }\n        });\n      }\n    });\n\n    return () => {\n      unsubMessage();\n      unsubSeen();\n      unsubReaction();\n      unsubTyping();\n    };\n  }, [activeThreadId, currentUser?._id, settings.readReceipts]);\n\n  // Search users for compose\n  React.useEffect(() => {\n    const timer = setTimeout(async () => {\n      if (userQuery.trim()) {\n        try {\n          const data = await messagesApi.searchUsers(userQuery);\n          setSearchUsers(data.users || []);\n        } catch (err) {\n          console.error(\"Failed to search users:\", err);\n        }\n      } else {\n        setSearchUsers([]);\n      }\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [userQuery]);\n\n  // Get other participant from thread\n  function getOtherParticipant(thread) {\n    if (!thread || !currentUser) return null;\n    const details = thread.participantDetails || [];\n    return details.find((p) => p && p._id !== currentUser._id) || details[0];\n  }\n\n  const otherUser = activeThread ? getOtherParticipant(activeThread) : null;\n\n  const filteredThreads = React.useMemo(() => {\n    const q = query.trim().toLowerCase();\n    if (!q) return threads;\n    return threads.filter((t) => {\n      const other = getOtherParticipant(t);\n      return (other?.username || \"\").toLowerCase().includes(q);\n    });\n  }, [threads, query, currentUser]);\n\n  const filteredFiles = React.useMemo(() => {\n    const q = fileQuery.trim().toLowerCase();\n    if (!q) return files;\n    return files.filter((f) => {\n      const hay = `${f.name} ${f.type} ${f.from}`.toLowerCase();\n      return hay.includes(q);\n    });\n  }, [files, fileQuery]);\n\n  const activeFile = React.useMemo(() => {\n    return files.find((f) => f.id === activeFileId) || files[0];\n  }, [files, activeFileId]);\n\n  const visibleMessages = React.useMemo(() => {\n    const q = chatSearchQuery.trim().toLowerCase();\n    if (!isChatSearchOpen || !q) return messages;\n    return messages.filter((m) => (m.text || \"\").toLowerCase().includes(q));\n  }, [messages, isChatSearchOpen, chatSearchQuery]);\n\n  // Close info dropdown on outside click / Esc\n  React.useEffect(() => {\n    function onDocMouseDown(e) {\n      if (!isInfoOpen) return;\n      if (infoMenuRef.current && !infoMenuRef.current.contains(e.target)) {\n        setIsInfoOpen(false);\n      }\n    }\n    function onKeyDown(e) {\n      if (e.key === \"Escape\") setIsInfoOpen(false);\n    }\n\n    document.addEventListener(\"mousedown\", onDocMouseDown);\n    document.addEventListener(\"keydown\", onKeyDown);\n    return () => {\n      document.removeEventListener(\"mousedown\", onDocMouseDown);\n      document.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [isInfoOpen]);\n\n  // Handle typing indicators\n  function handleDraftChange(e) {\n    setDraft(e.target.value);\n\n    if (activeThreadId) {\n      startTyping(activeThreadId);\n\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n      }\n      typingTimeoutRef.current = setTimeout(() => {\n        stopTyping(activeThreadId);\n      }, 2000);\n    }\n  }\n\n  async function sendMessage() {\n    const text = draft.trim();\n    if (!text || !activeThreadId || sending) return;\n\n    setSending(true);\n    stopTyping(activeThreadId);\n\n    try {\n      const data = await messagesApi.sendMessage(activeThreadId, { text });\n      setMessages((prev) => [...prev, data.message]);\n      setDraft(\"\");\n\n      // Update thread preview\n      setThreads((prev) =>\n        prev.map((t) =>\n          t._id === activeThreadId\n            ? { ...t, lastMessage: text, lastMessageAt: new Date().toISOString() }\n            : t\n        )\n      );\n    } catch (err) {\n      console.error(\"Failed to send message:\", err);\n      alert(\"Failed to send message\");\n    } finally {\n      setSending(false);\n    }\n  }\n\n  async function handleAddReaction(messageId, emoji) {\n    try {\n      await messagesApi.addReaction(messageId, emoji);\n    } catch (err) {\n      console.error(\"Failed to add reaction:\", err);\n    }\n  }\n\n  async function handleRemoveReaction(messageId, emoji) {\n    try {\n      await messagesApi.removeReaction(messageId, emoji);\n    } catch (err) {\n      console.error(\"Failed to remove reaction:\", err);\n    }\n  }\n\n  async function handleFileUpload(e) {\n    const file = e.target.files?.[0];\n    if (!file || !activeThreadId) return;\n\n    try {\n      const result = await uploadsApi.file(file);\n      if (result.url) {\n        await messagesApi.sendMessage(activeThreadId, {\n          text: `Sent a file: ${file.name}`,\n          attachmentUrl: result.url,\n          attachmentType: file.type,\n          attachmentName: file.name,\n        });\n      }\n    } catch (err) {\n      console.error(\"Failed to upload file:\", err);\n      alert(\"Failed to upload file\");\n    }\n\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\n  }\n\n  async function openCompose() {\n    setLeftTab(\"Messages\");\n    setRightMode(\"compose\");\n    setIsChatSearchOpen(false);\n    setChatSearchQuery(\"\");\n    setIsInfoOpen(false);\n    setUserQuery(\"\");\n    setComposeDraft(\"\");\n    setSearchUsers([]);\n\n    // Refresh mutuals when opening compose\n    try {\n      const data = await messagesApi.getMutuals();\n      setMutuals(data.mutuals || []);\n    } catch (err) {\n      console.error(\"Failed to load mutuals:\", err);\n    }\n  }\n\n  async function startChatWithUser(user) {\n    try {\n      const data = await messagesApi.createThread(user._id);\n      const thread = data.thread;\n\n      // Send initial message if provided\n      if (composeDraft.trim() && thread._id) {\n        await messagesApi.sendMessage(thread._id, { text: composeDraft.trim() });\n      }\n\n      // Refresh threads\n      const threadsData = await messagesApi.getThreads();\n      setThreads(threadsData.threads || []);\n\n      setActiveThreadId(thread._id);\n      setRightMode(\"chat\");\n      setComposeDraft(\"\");\n    } catch (err) {\n      console.error(\"Failed to start chat:\", err);\n      alert(\"Failed to start conversation\");\n    }\n  }\n\n  async function acceptRequest(threadId) {\n    try {\n      await messagesApi.acceptRequest(threadId);\n      // Move from requests to threads\n      const req = requests.find((r) => r._id === threadId);\n      if (req) {\n        setRequests((prev) => prev.filter((r) => r._id !== threadId));\n        setThreads((prev) => [{ ...req, isRequest: false }, ...prev]);\n        setActiveThreadId(threadId);\n        setLeftTab(\"Messages\");\n        setRightMode(\"chat\");\n      }\n    } catch (err) {\n      console.error(\"Failed to accept request:\", err);\n    }\n  }\n\n  async function declineRequest(threadId) {\n    try {\n      await messagesApi.declineRequest(threadId);\n      setRequests((prev) => prev.filter((r) => r._id !== threadId));\n    } catch (err) {\n      console.error(\"Failed to decline request:\", err);\n    }\n  }\n\n  async function openFiles() {\n    setLeftTab(\"Files\");\n    setRightMode(\"files\");\n    setIsChatSearchOpen(false);\n    setChatSearchQuery(\"\");\n    setIsInfoOpen(false);\n\n    try {\n      const data = await messagesApi.getFiles();\n      setFiles(data.files || []);\n      if (data.files?.length > 0) {\n        setActiveFileId(data.files[0].id);\n      }\n    } catch (err) {\n      console.error(\"Failed to load files:\", err);\n    }\n  }\n\n  function openSettingsPanel() {\n    setRightMode(\"settings\");\n    setIsChatSearchOpen(false);\n    setChatSearchQuery(\"\");\n    setIsInfoOpen(false);\n  }\n\n  function openChat() {\n    setLeftTab(\"Messages\");\n    setRightMode(\"chat\");\n  }\n\n  function handleLeftTabClick(tab) {\n    setLeftTab(tab);\n\n    if (tab === \"Files\") {\n      openFiles();\n      return;\n    }\n\n    if (tab === \"Requests\") {\n      setRightMode(\"chat\");\n      return;\n    }\n\n    setRightMode(\"chat\");\n  }\n\n  async function updateSetting(key, value) {\n    const newSettings = { ...settings, [key]: value };\n    setSettings(newSettings);\n\n    try {\n      await messagesApi.updateSettings(newSettings);\n    } catch (err) {\n      console.error(\"Failed to update settings:\", err);\n    }\n  }\n\n  async function muteThread() {\n    if (!activeThreadId) return;\n    try {\n      await messagesApi.mute(activeThreadId);\n      setIsInfoOpen(false);\n    } catch (err) {\n      console.error(\"Failed to mute:\", err);\n    }\n  }\n\n  function openDeleteModal() {\n    setShowDeleteModal(true);\n    setIsInfoOpen(false);\n  }\n\n  async function confirmDeleteThread() {\n    if (!activeThreadId || deleteInProgress) return;\n\n    setDeleteInProgress(true);\n\n    try {\n      await messagesApi.deleteThread(activeThreadId);\n\n      // Remove from threads list\n      setThreads((prev) => prev.filter((t) => t._id !== activeThreadId));\n\n      // Clear active thread\n      setActiveThreadId(null);\n      setActiveThread(null);\n      setMessages([]);\n      setShowDeleteModal(false);\n    } catch (err) {\n      console.error(\"Failed to delete chat:\", err);\n      alert(\"Failed to delete chat\");\n    } finally {\n      setDeleteInProgress(false);\n    }\n  }\n\n  function goToUserProfile(username) {\n    if (username) {\n      navigate(`/communities/${username}`);\n    }\n  }\n\n  function toggleChatSearch() {\n    setIsChatSearchOpen((v) => {\n      const next = !v;\n      if (!next) setChatSearchQuery(\"\");\n      return next;\n    });\n    setIsInfoOpen(false);\n  }\n\n  function toggleInfoDropdown() {\n    setIsInfoOpen((v) => !v);\n    setIsChatSearchOpen(false);\n    setChatSearchQuery(\"\");\n  }\n\n  function formatTime(dateStr) {\n    if (!dateStr) return \"\";\n    const date = new Date(dateStr);\n    const now = new Date();\n    const diff = now - date;\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n    if (days === 0) {\n      return date.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\n    } else if (days === 1) {\n      return \"Yesterday\";\n    } else if (days < 7) {\n      return `${days} days ago`;\n    } else {\n      return date.toLocaleDateString();\n    }\n  }\n\n  function renderMiddleColumn() {\n    if (leftTab === \"Files\") {\n      return (\n        <section className=\"in-col in-col--middle\" aria-label=\"Files list\">\n          <div className=\"in-midTop\">\n            <input\n              className=\"in-search\"\n              placeholder=\"Search files...\"\n              value={fileQuery}\n              onChange={(e) => setFileQuery(e.target.value)}\n              aria-label=\"Search files\"\n            />\n          </div>\n\n          <div className=\"in-threadList\" role=\"list\" aria-label=\"Files\">\n            {filteredFiles.length === 0 ? (\n              <div className=\"in-emptyState\">No files shared yet</div>\n            ) : (\n              filteredFiles.map((f) => (\n                <button\n                  key={f.id}\n                  type=\"button\"\n                  className={f.id === activeFileId ? \"in-thread in-thread--active\" : \"in-thread\"}\n                  onClick={() => setActiveFileId(f.id)}\n                  role=\"listitem\"\n                  aria-label={`Open file ${f.name}`}\n                >\n                  <div className=\"in-threadText\">\n                    <div className=\"in-threadNameRow\">\n                      <div className=\"in-threadName\">{f.name}</div>\n                      <div className=\"in-threadMeta\">{formatTime(f.createdAt)}</div>\n                    </div>\n                    <div className=\"in-threadLast\">\n                      {f.type}  From: {f.from}\n                    </div>\n                  </div>\n                </button>\n              ))\n            )}\n          </div>\n        </section>\n      );\n    }\n\n    if (leftTab === \"Requests\") {\n      return (\n        <section className=\"in-col in-col--middle\" aria-label=\"Message requests\">\n          <div className=\"in-midTop\">\n            <div className=\"in-requestsHeader\">Message Requests ({requests.length})</div>\n          </div>\n\n          <div className=\"in-threadList\" role=\"list\" aria-label=\"Requests\">\n            {requests.length === 0 ? (\n              <div className=\"in-emptyState\">No message requests</div>\n            ) : (\n              requests.map((t) => {\n                const other = getOtherParticipant(t);\n                return (\n                  <div key={t._id} className=\"in-requestRow\">\n                    <Avatar\n                      name={other?.username}\n                      avatar={other?.avatarUrl}\n                      status={other?.presence?.status}\n                      size=\"sm\"\n                    />\n                    <div className=\"in-requestInfo\">\n                      <button\n                        type=\"button\"\n                        className=\"in-requestName\"\n                        onClick={() => goToUserProfile(other?.username)}\n                      >\n                        @{other?.username || \"Unknown\"}\n                      </button>\n                      <div className=\"in-requestPreview\">{t.lastMessage || \"Sent a message\"}</div>\n                    </div>\n                    <div className=\"in-requestActions\">\n                      <button\n                        type=\"button\"\n                        className=\"in-acceptBtn\"\n                        onClick={() => acceptRequest(t._id)}\n                      >\n                        Accept\n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"in-declineBtn\"\n                        onClick={() => declineRequest(t._id)}\n                      >\n                        Decline\n                      </button>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n        </section>\n      );\n    }\n\n    // Filter mutuals to exclude those already in threads\n    const existingUsernames = threads.map((t) => {\n      const other = getOtherParticipant(t);\n      return other?.username;\n    }).filter(Boolean);\n    const suggestedMutuals = mutuals.filter((m) => !existingUsernames.includes(m.username));\n\n    return (\n      <section className=\"in-col in-col--middle\" aria-label=\"Conversation list\">\n        <div className=\"in-midTop\">\n          <input\n            className=\"in-search\"\n            placeholder=\"Search conversations...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            aria-label=\"Search conversations\"\n          />\n        </div>\n\n        <div className=\"in-threadList\" role=\"list\" aria-label=\"Threads\">\n          {filteredThreads.length === 0 && suggestedMutuals.length === 0 ? (\n            <div className=\"in-emptyState\">\n              {loading ? \"Loading...\" : \"No conversations yet\"}\n            </div>\n          ) : (\n            <>\n              {filteredThreads.map((t) => {\n                const other = getOtherParticipant(t);\n                const unread = t.unreadCounts?.[currentUser?._id] || 0;\n\n                return (\n                  <button\n                    key={t._id}\n                    type=\"button\"\n                    className={t._id === activeThreadId ? \"in-thread in-thread--active\" : \"in-thread\"}\n                    onClick={() => {\n                      setActiveThreadId(t._id);\n                      setRightMode(\"chat\");\n                      setIsChatSearchOpen(false);\n                      setChatSearchQuery(\"\");\n                      setIsInfoOpen(false);\n                    }}\n                    role=\"listitem\"\n                    aria-label={`Open chat with ${other?.username}`}\n                  >\n                    <Avatar\n                      name={other?.username}\n                      avatar={other?.avatarUrl}\n                      status={other?.presence?.status}\n                      size=\"sm\"\n                    />\n\n                    <div className=\"in-threadText\">\n                      <div className=\"in-threadNameRow\">\n                        <div className=\"in-threadName\">{other?.username || \"Unknown\"}</div>\n                        <div className=\"in-threadMeta\">{formatTime(t.lastMessageAt)}</div>\n                      </div>\n                    <div className=\"in-threadLast\">\n                      {t.lastMessage || \"Start a conversation...\"}\n                    </div>\n                  </div>\n\n                  {unread > 0 && <div className=\"in-unreadBadge\">{unread}</div>}\n                </button>\n                );\n              })}\n\n              {/* Suggested mutuals */}\n              {suggestedMutuals.length > 0 && !query.trim() && (\n                <>\n                  <div className=\"in-suggestionsHeader\">Suggested</div>\n                  {suggestedMutuals.slice(0, 5).map((u) => (\n                    <button\n                      key={u._id}\n                      type=\"button\"\n                      className=\"in-thread in-thread--suggestion\"\n                      onClick={() => startChatWithUser(u)}\n                      role=\"listitem\"\n                      aria-label={`Start chat with ${u.username}`}\n                    >\n                      <Avatar\n                        name={u.username}\n                        avatar={u.avatarUrl}\n                        status={u.presence?.status}\n                        size=\"sm\"\n                      />\n                      <div className=\"in-threadText\">\n                        <div className=\"in-threadNameRow\">\n                          <div className=\"in-threadName\">@{u.username}</div>\n                          <div className=\"in-threadMeta\">{getPresenceText(u.presence)}</div>\n                        </div>\n                        <div className=\"in-threadLast\">\n                          {u.displayName || \"Start a conversation\"}\n                        </div>\n                      </div>\n                    </button>\n                  ))}\n                </>\n              )}\n            </>\n          )}\n        </div>\n      </section>\n    );\n  }\n\n  function renderRightColumn() {\n    if (rightMode === \"files\") {\n      return (\n        <section className=\"in-col in-col--right\" aria-label=\"Files browser\">\n          <div className=\"in-chatHeader\">\n            <div className=\"in-chatHeaderLeft\">\n              <div className=\"in-chatTitleWrap\">\n                <div className=\"in-chatTitle\">Files</div>\n                <div className=\"in-chatSub\">Browse shared attachments</div>\n              </div>\n            </div>\n\n            <div className=\"in-chatHeaderActions\" aria-label=\"Files actions\">\n              <button\n                type=\"button\"\n                className=\"in-chatIconBtn\"\n                aria-label=\"Back to messages\"\n                title=\"Back\"\n                onClick={openChat}\n              >\n                \n              </button>\n            </div>\n          </div>\n\n          <div className=\"in-chatBody\" aria-label=\"File details\">\n            {activeFile ? (\n              <div className=\"in-bubbleRow\">\n                <div className=\"in-bubble\" style={{ maxWidth: \"100%\" }}>\n                  <div style={{ fontWeight: 700, marginBottom: 6 }}>{activeFile.name}</div>\n                  <div style={{ opacity: 0.8, marginBottom: 10 }}>\n                    {activeFile.type}  From: {activeFile.from}  {formatTime(activeFile.createdAt)}\n                  </div>\n\n                  <div style={{ marginTop: 12, display: \"flex\", gap: 10, flexWrap: \"wrap\" }}>\n                    <a\n                      href={activeFile.url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"in-sendBtn\"\n                      style={{ textDecoration: \"none\" }}\n                    >\n                      Download\n                    </a>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"in-emptyState\">Select a file to view details</div>\n            )}\n          </div>\n\n          <div className=\"in-chatComposer\" aria-label=\"Files footer\">\n            <span style={{ opacity: 0.7 }}>{files.length} file{files.length !== 1 ? \"s\" : \"\"} shared</span>\n          </div>\n        </section>\n      );\n    }\n\n    if (rightMode === \"settings\") {\n      return (\n        <section className=\"in-col in-col--right\" aria-label=\"Inbox settings panel\">\n          <div className=\"in-chatHeader\">\n            <div className=\"in-chatHeaderLeft\">\n              <div className=\"in-chatTitleWrap\">\n                <div className=\"in-chatTitle\">Inbox Settings</div>\n                <div className=\"in-chatSub\">Privacy and notification preferences</div>\n              </div>\n            </div>\n\n            <div className=\"in-chatHeaderActions\" aria-label=\"Settings actions\">\n              <button\n                type=\"button\"\n                className=\"in-chatIconBtn\"\n                aria-label=\"Back to messages\"\n                title=\"Back\"\n                onClick={openChat}\n              >\n                \n              </button>\n            </div>\n          </div>\n\n          <div className=\"in-chatBody\" aria-label=\"Settings options\">\n            <div className=\"in-bubbleRow\">\n              <div className=\"in-bubble\" style={{ maxWidth: \"100%\" }}>\n                <div style={{ fontWeight: 700, marginBottom: 10 }}>Privacy</div>\n\n                <div style={{ display: \"grid\", gap: 10 }}>\n                  <label style={{ display: \"flex\", alignItems: \"center\", gap: 10 }}>\n                    <input\n                      type=\"checkbox\"\n                      checked={settings.readReceipts}\n                      onChange={(e) => updateSetting(\"readReceipts\", e.target.checked)}\n                      aria-label=\"Read receipts\"\n                    />\n                    <span>Send read receipts</span>\n                  </label>\n\n                  <label style={{ display: \"flex\", alignItems: \"center\", gap: 10 }}>\n                    <input\n                      type=\"checkbox\"\n                      checked={settings.showSeenIndicators}\n                      onChange={(e) => updateSetting(\"showSeenIndicators\", e.target.checked)}\n                      aria-label=\"Show seen indicators\"\n                    />\n                    <span>Show seen indicators</span>\n                  </label>\n                </div>\n\n                <div style={{ marginTop: 14, opacity: 0.85 }}>\n                  Turn off read receipts to prevent others from knowing when you've read their messages.\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"in-chatComposer\" aria-label=\"Settings footer\">\n            <span style={{ opacity: 0.7 }}>Settings saved automatically</span>\n            <button type=\"button\" className=\"in-sendBtn\" onClick={openChat}>\n              Done\n            </button>\n          </div>\n        </section>\n      );\n    }\n\n    if (rightMode === \"compose\") {\n      // Show mutuals if no search, otherwise show search results\n      const usersToShow = userQuery.trim() ? searchUsers : mutuals;\n      const listTitle = userQuery.trim() ? \"Search Results\" : \"Your Mutuals\";\n\n      return (\n        <section className=\"in-col in-col--right\" aria-label=\"New message composer\">\n          <div className=\"in-chatHeader\">\n            <div className=\"in-chatHeaderLeft\">\n              <div className=\"in-chatTitleWrap\">\n                <div className=\"in-chatTitle\">New Message</div>\n                <div className=\"in-chatSub\">Start a conversation with someone</div>\n              </div>\n            </div>\n\n            <div className=\"in-chatHeaderActions\" aria-label=\"Compose actions\">\n              <button\n                type=\"button\"\n                className=\"in-chatIconBtn\"\n                aria-label=\"Back to inbox\"\n                title=\"Back\"\n                onClick={() => setRightMode(\"chat\")}\n              >\n                \n              </button>\n            </div>\n          </div>\n\n          <div className=\"in-chatBody\" aria-label=\"Compose body\">\n            <input\n              className=\"in-search\"\n              placeholder=\"Search users...\"\n              value={userQuery}\n              onChange={(e) => setUserQuery(e.target.value)}\n              aria-label=\"Search users\"\n            />\n\n            <div style={{ height: 10 }} />\n\n            {usersToShow.length > 0 && (\n              <div className=\"in-composeListTitle\">{listTitle}</div>\n            )}\n\n            <div aria-label=\"User results\" style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\n              {usersToShow.length === 0 ? (\n                <div className=\"in-emptyState\">\n                  {userQuery.trim() ? \"No users found\" : \"No mutuals yet. Follow someone who follows you back!\"}\n                </div>\n              ) : (\n                usersToShow.map((u) => (\n                  <button\n                    key={u._id}\n                    type=\"button\"\n                    className=\"in-thread\"\n                    onClick={() => startChatWithUser(u)}\n                    aria-label={`Start chat with ${u.username}`}\n                  >\n                    <Avatar\n                      name={u.username}\n                      avatar={u.avatarUrl}\n                      status={u.presence?.status}\n                      size=\"sm\"\n                    />\n                    <div className=\"in-threadText\">\n                      <div className=\"in-threadNameRow\">\n                        <div className=\"in-threadName\">@{u.username}</div>\n                        <div className=\"in-threadMeta\">{getPresenceText(u.presence)}</div>\n                      </div>\n                      <div className=\"in-threadLast\">\n                        {u.displayName || \"Click to start a chat\"}\n                      </div>\n                    </div>\n                  </button>\n                ))\n              )}\n            </div>\n\n            <div style={{ height: 14 }} />\n\n            <div className=\"in-bubbleRow\">\n              <div className=\"in-bubble\" style={{ maxWidth: \"100%\" }}>\n                <div style={{ fontWeight: 700, marginBottom: 8 }}>Message (optional)</div>\n                <input\n                  className=\"in-composeInput\"\n                  value={composeDraft}\n                  onChange={(e) => setComposeDraft(e.target.value)}\n                  placeholder=\"Write an intro message...\"\n                  aria-label=\"Intro message\"\n                />\n                <div style={{ marginTop: 10, opacity: 0.85 }}>\n                  Pick a user above to start the conversation.\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"in-chatComposer\" aria-label=\"Compose footer\">\n            <span style={{ opacity: 0.7 }}>Select a user to begin</span>\n            <button type=\"button\" className=\"in-sendBtn\" onClick={() => setRightMode(\"chat\")}>\n              Cancel\n            </button>\n          </div>\n        </section>\n      );\n    }\n\n    // Chat mode\n    const typingUserIds = Object.keys(typingUsers);\n\n    // Show welcome state if no thread selected\n    if (!activeThreadId || !otherUser) {\n      return (\n        <section className=\"in-col in-col--right\" aria-label=\"Welcome\">\n          <div className=\"in-welcomeState\">\n            <div className=\"in-welcomeIcon\"></div>\n            <div className=\"in-welcomeTitle\">Welcome to your Inbox</div>\n            <div className=\"in-welcomeText\">\n              Select a conversation from the left or start a new message.\n            </div>\n            <button type=\"button\" className=\"in-sendBtn\" onClick={openCompose}>\n              + New Message\n            </button>\n          </div>\n        </section>\n      );\n    }\n\n    // Get presence info for other user\n    const otherPresence = otherUser?.presence;\n    const presenceText = getPresenceText(otherPresence);\n\n    return (\n      <section className=\"in-col in-col--right\" aria-label=\"Conversation\">\n        <div className=\"in-chatHeader\">\n          <div className=\"in-chatHeaderLeft\">\n            <Avatar\n              name={otherUser?.username}\n              avatar={otherUser?.avatarUrl}\n              status={otherPresence?.status}\n              size=\"sm\"\n            />\n            <div className=\"in-chatTitleWrap\">\n              <button\n                type=\"button\"\n                className=\"in-chatTitleLink\"\n                onClick={() => goToUserProfile(otherUser?.username)}\n              >\n                @{otherUser?.username}\n              </button>\n              <div className=\"in-chatSub\">\n                {typingUserIds.length > 0 ? \"Typing...\" : presenceText || otherUser?.displayName || \"\"}\n              </div>\n            </div>\n          </div>\n\n          <div\n            className=\"in-chatHeaderActions\"\n            aria-label=\"Chat actions\"\n            style={{ position: \"relative\" }}\n            ref={infoMenuRef}\n          >\n            <button\n              type=\"button\"\n              className=\"in-chatIconBtn\"\n              aria-label=\"Search in chat\"\n              title=\"Search\"\n              onClick={toggleChatSearch}\n            >\n              \n            </button>\n\n            <button\n              type=\"button\"\n              className=\"in-chatIconBtn\"\n              aria-label=\"Info\"\n              title=\"Info\"\n              onClick={toggleInfoDropdown}\n              aria-haspopup=\"menu\"\n              aria-expanded={isInfoOpen ? \"true\" : \"false\"}\n            >\n              \n            </button>\n\n            {isInfoOpen && (\n              <div\n                role=\"menu\"\n                aria-label=\"Chat info menu\"\n                className=\"in-infoDropdown\"\n              >\n                <div style={{ padding: \"6px 8px\", marginBottom: 6, opacity: 0.85, fontWeight: 700 }}>\n                  @{otherUser?.username}\n                </div>\n                {otherUser?.displayName && (\n                  <div style={{ padding: \"0 8px 8px\", opacity: 0.75, fontSize: 13 }}>\n                    {otherUser.displayName}\n                  </div>\n                )}\n\n                <div style={{ height: 1, background: \"rgba(0,0,0,0.10)\", margin: \"8px 0\" }} />\n\n                <button\n                  type=\"button\"\n                  role=\"menuitem\"\n                  className=\"in-thread\"\n                  style={{ width: \"100%\" }}\n                  onClick={() => {\n                    goToUserProfile(otherUser?.username);\n                    setIsInfoOpen(false);\n                  }}\n                >\n                  View Profile\n                </button>\n\n                <button\n                  type=\"button\"\n                  role=\"menuitem\"\n                  className=\"in-thread\"\n                  style={{ width: \"100%\" }}\n                  onClick={muteThread}\n                >\n                  Mute\n                </button>\n\n                <button\n                  type=\"button\"\n                  role=\"menuitem\"\n                  className=\"in-thread in-thread--danger\"\n                  style={{ width: \"100%\" }}\n                  onClick={openDeleteModal}\n                >\n                  Delete Chat\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"in-chatBody\" aria-label=\"Messages\">\n          {isChatSearchOpen && (\n            <div className=\"in-bubbleRow\" style={{ marginBottom: 6 }}>\n              <div className=\"in-bubble\" style={{ maxWidth: \"100%\" }}>\n                <div style={{ fontWeight: 700, marginBottom: 8 }}>Search in chat</div>\n                <input\n                  className=\"in-search\"\n                  placeholder=\"Type to filter messages...\"\n                  value={chatSearchQuery}\n                  onChange={(e) => setChatSearchQuery(e.target.value)}\n                  aria-label=\"Search messages\"\n                />\n                <div style={{ marginTop: 8, opacity: 0.8 }}>\n                  Showing {visibleMessages.length} message{visibleMessages.length === 1 ? \"\" : \"s\"}.\n                </div>\n              </div>\n            </div>\n          )}\n\n          {visibleMessages.length === 0 ? (\n            <div className=\"in-emptyState\">\n              {isChatSearchOpen ? \"No messages match your search.\" : \"No messages yet. Say hello!\"}\n            </div>\n          ) : (\n            visibleMessages.map((m) => (\n              <MessageBubble\n                key={m._id}\n                message={m}\n                isMe={m.senderId === currentUser?._id}\n                currentUserId={currentUser?._id}\n                onAddReaction={handleAddReaction}\n                onRemoveReaction={handleRemoveReaction}\n              />\n            ))\n          )}\n\n          {/* Typing indicator */}\n          {typingUserIds.length > 0 && (\n            <div className=\"in-typingIndicator\">\n              <div className=\"in-typingDots\">\n                <span className=\"in-typingDot\" />\n                <span className=\"in-typingDot\" />\n                <span className=\"in-typingDot\" />\n              </div>\n              <span>{otherUser?.username} is typing...</span>\n            </div>\n          )}\n\n          {settings.showSeenIndicators && Object.keys(seenInfo).length > 0 && (\n            <div className=\"in-seenIndicator\">\n              Seen by {Object.values(seenInfo).map((s) => s.username).join(\", \")}\n            </div>\n          )}\n        </div>\n\n        <div className=\"in-chatComposer\" aria-label=\"Message composer\">\n          <input type=\"file\" ref={fileInputRef} style={{ display: \"none\" }} onChange={handleFileUpload} />\n          <button\n            type=\"button\"\n            className=\"in-attachBtn\"\n            onClick={() => fileInputRef.current?.click()}\n            title=\"Attach file\"\n          >\n            \n          </button>\n          <input\n            className=\"in-composeInput\"\n            value={draft}\n            onChange={handleDraftChange}\n            placeholder=\"Write a message...\"\n            aria-label=\"Type a message\"\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\" && !e.shiftKey) {\n                e.preventDefault();\n                sendMessage();\n              }\n            }}\n          />\n          <button\n            type=\"button\"\n            className=\"in-sendBtn\"\n            onClick={sendMessage}\n            disabled={sending || !draft.trim()}\n            aria-label=\"Send\"\n          >\n            {sending ? \"...\" : \"Send\"}\n          </button>\n        </div>\n      </section>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"in-page\">\n        <SableLoader />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"in-page\">\n      <div className=\"in-shell\" aria-label=\"Inbox layout\">\n        {/* left column */}\n        <aside className=\"in-col in-col--left\" aria-label=\"Inbox sidebar\">\n          <div className=\"in-leftHeader\">\n            <div className=\"in-me\">\n              {currentUser?.avatarUrl ? (\n                <img className=\"in-meImg\" src={currentUser.avatarUrl} alt=\"\" aria-hidden=\"true\" />\n              ) : (\n                <div className=\"in-meImgFallback\">\n                  {(currentUser?.username || \"U\")[0].toUpperCase()}\n                </div>\n              )}\n              <div className=\"in-meMeta\">\n                <div className=\"in-meName\">@{currentUser?.username || \"guest\"}</div>\n                <div className=\"in-meSub\">Inbox</div>\n              </div>\n            </div>\n\n            <button\n              type=\"button\"\n              className=\"in-composeBtn\"\n              onClick={openCompose}\n              aria-label=\"Compose new message\"\n              title=\"Compose\"\n            >\n              + New Message\n            </button>\n          </div>\n\n          <div className=\"in-leftNav\" role=\"tablist\" aria-label=\"Inbox tabs\">\n            {[\"Messages\", \"Requests\", \"Files\"].map((t) => (\n              <button\n                key={t}\n                type=\"button\"\n                className={leftTab === t ? \"in-leftNavItem in-leftNavItem--active\" : \"in-leftNavItem\"}\n                onClick={() => handleLeftTabClick(t)}\n                role=\"tab\"\n                aria-selected={leftTab === t ? \"true\" : \"false\"}\n              >\n                {t}\n                {t === \"Requests\" && requests.length > 0 && (\n                  <span className=\"in-tabBadge\">{requests.length}</span>\n                )}\n              </button>\n            ))}\n          </div>\n\n          <div className=\"in-leftFooter\" aria-label=\"Inbox footer\">\n            <button\n              type=\"button\"\n              className=\"in-leftLink\"\n              aria-label=\"Settings\"\n              onClick={openSettingsPanel}\n            >\n              Settings\n            </button>\n          </div>\n        </aside>\n\n        {/* middle column */}\n        {renderMiddleColumn()}\n\n        {/* Right column */}\n        {renderRightColumn()}\n      </div>\n\n      {/* Delete Chat Modal */}\n      {showDeleteModal && (\n        <div className=\"in-modalOverlay\" onClick={() => !deleteInProgress && setShowDeleteModal(false)}>\n          <div className=\"in-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"in-modalHeader\">\n              <h3 className=\"in-modalTitle\">Delete Chat</h3>\n              <button\n                type=\"button\"\n                className=\"in-modalClose\"\n                onClick={() => setShowDeleteModal(false)}\n                disabled={deleteInProgress}\n              >\n                \n              </button>\n            </div>\n            <div className=\"in-modalBody\">\n              <p>Are you sure you want to delete this conversation with <strong>@{otherUser?.username}</strong>?</p>\n              <p style={{ opacity: 0.7, marginTop: 8 }}>This action cannot be undone. All messages will be permanently deleted.</p>\n            </div>\n            <div className=\"in-modalFooter\">\n              <button\n                type=\"button\"\n                className=\"in-modalBtn in-modalBtn--secondary\"\n                onClick={() => setShowDeleteModal(false)}\n                disabled={deleteInProgress}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                className=\"in-modalBtn in-modalBtn--danger\"\n                onClick={confirmDeleteThread}\n                disabled={deleteInProgress}\n              >\n                {deleteInProgress ? \"Deleting...\" : \"Delete Chat\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport notificationsApi from \"../api/notifications\";\nimport followsApi from \"../api/follows\";\nimport { onNotification, onNotificationsRead, initSocket } from \"../api/socket\";\nimport \"./Notifications.css\";\n\nfunction TypeIcon({ type }) {\n  const map = {\n    comment: \"C\",\n    follow: \"+\",\n    follow_request: \"?\",\n    donation: \"$\",\n    mention: \"@\",\n    reply: \"R\",\n    like: \"L\",\n    system: \"S\",\n    post: \"P\",\n  };\n  return (\n    <span className={`no-typeIcon no-typeIcon--${type}`} aria-hidden=\"true\">\n      {map[type] || \"N\"}\n    </span>\n  );\n}\n\nfunction TypeChip({ type }) {\n  const labelMap = {\n    comment: \"Comment\",\n    follow: \"Follow\",\n    follow_request: \"Request\",\n    donation: \"Donation\",\n    mention: \"Mention\",\n    reply: \"Reply\",\n    like: \"Like\",\n    system: \"System\",\n    post: \"Post\",\n  };\n\n  return <span className={`no-chip no-chip--${type}`}>{labelMap[type] || \"Notification\"}</span>;\n}\n\nfunction AvatarCircle({ user, avatarUrl }) {\n  const letter = (user || \"U\").trim()[0]?.toUpperCase() || \"U\";\n\n  if (avatarUrl) {\n    return (\n      <div className=\"no-avatar\" aria-hidden=\"true\">\n        <img src={avatarUrl} alt=\"\" className=\"no-avatar-img\" />\n      </div>\n    );\n  }\n\n  return <div className=\"no-avatar\" aria-hidden=\"true\">{letter}</div>;\n}\n\nfunction formatTimeAgo(dateString) {\n  const date = new Date(dateString);\n  const now = new Date();\n  const seconds = Math.floor((now - date) / 1000);\n\n  if (seconds < 60) return \"Just now\";\n  if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\n  if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;\n  if (seconds < 604800) return `${Math.floor(seconds / 86400)}d ago`;\n\n  return date.toLocaleDateString();\n}\n\nfunction getDayGroup(dateString) {\n  const date = new Date(dateString);\n  const now = new Date();\n  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  const notifDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n  if (notifDate.getTime() === today.getTime()) return \"Today\";\n  if (notifDate.getTime() === yesterday.getTime()) return \"Yesterday\";\n\n  const daysAgo = Math.floor((today - notifDate) / (1000 * 60 * 60 * 24));\n  if (daysAgo < 7) return `${daysAgo} days ago`;\n\n  return date.toLocaleDateString(\"en-US\", { month: \"short\", day: \"numeric\" });\n}\n\nexport default function Notifications() {\n  const navigate = useNavigate();\n  const [silentMode, setSilentMode] = useState(false);\n  const [tab, setTab] = useState(\"All\");\n  const [query, setQuery] = useState(\"\");\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [processingRequests, setProcessingRequests] = useState(new Set());\n\n  // Fetch notifications from API\n  const fetchNotifications = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await notificationsApi.list({ limit: 50 });\n      setNotifications(response.notifications || []);\n      setUnreadCount(response.unreadCount || 0);\n      setError(null);\n    } catch (err) {\n      console.error(\"Failed to fetch notifications:\", err);\n      setError(\"Failed to load notifications\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Initial fetch\n  useEffect(() => {\n    fetchNotifications();\n  }, [fetchNotifications]);\n\n  // Real-time notifications via Socket.IO\n  useEffect(() => {\n    initSocket();\n\n    const unsubNotification = onNotification((newNotif) => {\n      // Add to front of list and increment unread count\n      setNotifications((prev) => [newNotif, ...prev]);\n      setUnreadCount((prev) => prev + 1);\n    });\n\n    const unsubRead = onNotificationsRead((data) => {\n      if (data.all) {\n        // All marked as read\n        setNotifications((prev) => prev.map((n) => ({ ...n, read: true })));\n        setUnreadCount(0);\n      } else if (data.notificationIds) {\n        // Specific notifications marked as read\n        setNotifications((prev) =>\n          prev.map((n) =>\n            data.notificationIds.includes(n._id) ? { ...n, read: true } : n\n          )\n        );\n        setUnreadCount((prev) => Math.max(0, prev - data.count));\n      }\n    });\n\n    return () => {\n      unsubNotification();\n      unsubRead();\n    };\n  }, []);\n\n  // Mark notification as read\n  const handleMarkAsRead = useCallback(async (notificationId) => {\n    try {\n      await notificationsApi.markAsRead(notificationId);\n      setNotifications((prev) =>\n        prev.map((n) => (n._id === notificationId ? { ...n, read: true } : n))\n      );\n      setUnreadCount((prev) => Math.max(0, prev - 1));\n    } catch (err) {\n      console.error(\"Failed to mark as read:\", err);\n    }\n  }, []);\n\n  // Mark all as read\n  const handleMarkAllAsRead = useCallback(async () => {\n    try {\n      await notificationsApi.markAllAsRead();\n      setNotifications((prev) => prev.map((n) => ({ ...n, read: true })));\n      setUnreadCount(0);\n    } catch (err) {\n      console.error(\"Failed to mark all as read:\", err);\n    }\n  }, []);\n\n  // Accept follow request\n  const handleAcceptRequest = useCallback(async (notification, e) => {\n    e.stopPropagation();\n\n    if (!notification.followRequestId) return;\n\n    setProcessingRequests((prev) => new Set(prev).add(notification._id));\n\n    try {\n      await followsApi.acceptRequest(notification.followRequestId);\n      // Remove the notification from the list or mark it as read\n      setNotifications((prev) =>\n        prev.filter((n) => n._id !== notification._id)\n      );\n      setUnreadCount((prev) => (notification.read ? prev : Math.max(0, prev - 1)));\n    } catch (err) {\n      console.error(\"Failed to accept follow request:\", err);\n    } finally {\n      setProcessingRequests((prev) => {\n        const newSet = new Set(prev);\n        newSet.delete(notification._id);\n        return newSet;\n      });\n    }\n  }, []);\n\n  // Decline follow request\n  const handleDeclineRequest = useCallback(async (notification, e) => {\n    e.stopPropagation();\n\n    if (!notification.followRequestId) return;\n\n    setProcessingRequests((prev) => new Set(prev).add(notification._id));\n\n    try {\n      await followsApi.declineRequest(notification.followRequestId);\n      // Remove the notification from the list\n      setNotifications((prev) =>\n        prev.filter((n) => n._id !== notification._id)\n      );\n      setUnreadCount((prev) => (notification.read ? prev : Math.max(0, prev - 1)));\n    } catch (err) {\n      console.error(\"Failed to decline follow request:\", err);\n    } finally {\n      setProcessingRequests((prev) => {\n        const newSet = new Set(prev);\n        newSet.delete(notification._id);\n        return newSet;\n      });\n    }\n  }, []);\n\n  // Handle notification click\n  const handleNotificationClick = useCallback((notification) => {\n    // Mark as read if unread\n    if (!notification.read) {\n      handleMarkAsRead(notification._id);\n    }\n\n    // Navigate based on notification type\n    if (notification.workId) {\n      navigate(`/work/${notification.workId}`);\n    } else if (notification.postId) {\n      navigate(`/post/${notification.postId}`);\n    } else if (notification.type === \"follow_request\") {\n      // Don't navigate for follow requests - they have action buttons\n      return;\n    } else if (notification.actorId) {\n      const username = notification.actor?.username || notification.actorUsername;\n      if (username) {\n        navigate(`/user/${username}`);\n      }\n    }\n  }, [handleMarkAsRead, navigate]);\n\n  // Filter notifications based on tab and search\n  const filtered = useMemo(() => {\n    let list = notifications;\n\n    if (tab === \"Unread\") list = list.filter((n) => !n.read);\n    if (tab === \"Mentions\") list = list.filter((n) => n.type === \"mention\");\n    if (tab === \"System\") list = list.filter((n) => n.type === \"system\");\n    if (tab === \"Requests\") list = list.filter((n) => n.type === \"follow_request\");\n    if (tab === \"Posts\") list = list.filter((n) => n.type === \"post\");\n\n    const q = query.trim().toLowerCase();\n    if (q) {\n      list = list.filter((n) => {\n        const actorName = n.actor?.displayName || n.actor?.username || n.actorUsername || \"\";\n        const hay = `${actorName} ${n.title || \"\"} ${n.body || \"\"}`.toLowerCase();\n        return hay.includes(q);\n      });\n    }\n\n    return list;\n  }, [notifications, tab, query]);\n\n  // Group notifications by day\n  const grouped = useMemo(() => {\n    const byDay = new Map();\n    for (const n of filtered) {\n      const day = getDayGroup(n.createdAt);\n      if (!byDay.has(day)) byDay.set(day, []);\n      byDay.get(day).push(n);\n    }\n    return Array.from(byDay.entries());\n  }, [filtered]);\n\n  // Count follow requests for tab badge\n  const requestCount = useMemo(() => {\n    return notifications.filter((n) => n.type === \"follow_request\" && !n.read).length;\n  }, [notifications]);\n\n  if (loading) {\n    return (\n      <div className=\"no-page\">\n        <div className=\"no-shell\">\n          <div className=\"no-loading\">Loading notifications...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"no-page\">\n        <div className=\"no-shell\">\n          <div className=\"no-error\">{error}</div>\n          <button onClick={fetchNotifications} className=\"no-cta\">\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"no-page\">\n      <div className=\"no-shell\" aria-label=\"Notifications layout\">\n        <header className=\"no-topbar\" aria-label=\"Notifications header\">\n          <div className=\"no-titleWrap\">\n            <h1 className=\"no-title\">Notifications</h1>\n            {unreadCount > 0 ? (\n              <div className=\"no-sub\">{unreadCount} unread</div>\n            ) : (\n              <div className=\"no-sub\">You're all caught up.</div>\n            )}\n          </div>\n\n          <div className=\"no-topActions\">\n            <div className=\"no-silent\">\n              <span className=\"no-silentLabel\">Silent</span>\n              <button\n                type=\"button\"\n                className={silentMode ? \"no-toggle no-toggle--on\" : \"no-toggle\"}\n                onClick={() => setSilentMode((v) => !v)}\n                aria-label=\"Toggle silent mode\"\n                aria-pressed={silentMode ? \"true\" : \"false\"}\n              >\n                <span className=\"no-toggleKnob\" aria-hidden=\"true\" />\n              </button>\n            </div>\n\n            <button\n              type=\"button\"\n              className=\"no-cta\"\n              onClick={handleMarkAllAsRead}\n              disabled={unreadCount === 0}\n            >\n              Mark all read\n            </button>\n          </div>\n        </header>\n\n        <section className=\"no-card\" aria-label=\"Notifications list\">\n          <div className=\"no-toolbar\">\n            <div className=\"no-tabs\" role=\"tablist\" aria-label=\"Notification tabs\">\n              {[\"All\", \"Unread\", \"Requests\", \"Posts\", \"Mentions\", \"System\"].map((t) => (\n                <button\n                  key={t}\n                  type=\"button\"\n                  className={tab === t ? \"no-tab no-tab--active\" : \"no-tab\"}\n                  onClick={() => setTab(t)}\n                  role=\"tab\"\n                  aria-selected={tab === t ? \"true\" : \"false\"}\n                >\n                  {t}\n                  {t === \"Unread\" && unreadCount > 0 ? (\n                    <span className=\"no-pillCount\" aria-label={`${unreadCount} unread`}>\n                      {unreadCount}\n                    </span>\n                  ) : null}\n                  {t === \"Requests\" && requestCount > 0 ? (\n                    <span className=\"no-pillCount\" aria-label={`${requestCount} requests`}>\n                      {requestCount}\n                    </span>\n                  ) : null}\n                </button>\n              ))}\n            </div>\n\n            <div className=\"no-searchWrap\">\n              <input\n                className=\"no-search\"\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n                placeholder=\"Search notifications...\"\n                aria-label=\"Search notifications\"\n              />\n              {query ? (\n                <button\n                  type=\"button\"\n                  className=\"no-clearSearch\"\n                  onClick={() => setQuery(\"\")}\n                  aria-label=\"Clear search\"\n                  title=\"Clear\"\n                >\n                  x\n                </button>\n              ) : null}\n            </div>\n          </div>\n\n          <div className=\"no-list\" aria-label=\"Notifications\">\n            {grouped.length === 0 ? (\n              <div className=\"no-empty\">\n                <div className=\"no-emptyTitle\">Nothing here.</div>\n                <div className=\"no-emptySub\">\n                  {tab === \"Requests\"\n                    ? \"No pending follow requests.\"\n                    : \"Try switching tabs or clearing your search.\"}\n                </div>\n              </div>\n            ) : (\n              grouped.map(([day, items]) => (\n                <div key={day} className=\"no-group\">\n                  <div className=\"no-dayRow\">\n                    <div className=\"no-day\">{day}</div>\n                    <div className=\"no-dayLine\" aria-hidden=\"true\" />\n                  </div>\n\n                  <div className=\"no-items\">\n                    {items.map((n) => {\n                      const isProcessing = processingRequests.has(n._id);\n                      const actorName = n.actor?.displayName || n.actor?.username || n.actorUsername || \"Someone\";\n                      const actorAvatar = n.actor?.avatarUrl || null;\n\n                      return (\n                        <div\n                          key={n._id}\n                          className={n.read ? \"no-item\" : \"no-item no-item--unread\"}\n                          onClick={() => handleNotificationClick(n)}\n                          role=\"button\"\n                          tabIndex={0}\n                          aria-label={`${actorName} ${n.title || \"\"}`}\n                        >\n                          <div className=\"no-left\">\n                            <AvatarCircle user={actorName} avatarUrl={actorAvatar} />\n                          </div>\n\n                          <div className=\"no-main\">\n                            <div className=\"no-topRow\">\n                              <div className=\"no-userRow\">\n                                <TypeIcon type={n.type} />\n                                <span className=\"no-user\">{actorName}</span>\n                                <span className=\"no-time\">{formatTimeAgo(n.createdAt)}</span>\n                              </div>\n\n                              <div className=\"no-rightRow\">\n                                <TypeChip type={n.type} />\n                                {!n.read ? <span className=\"no-unreadDot\" aria-hidden=\"true\" /> : null}\n                              </div>\n                            </div>\n\n                            <div className=\"no-titleLine\">{n.title}</div>\n                            {n.body ? <div className=\"no-body\">{n.body}</div> : null}\n\n                            {n.type === \"follow_request\" && n.followRequestId && (\n                              <div className=\"no-actions\">\n                                <button\n                                  type=\"button\"\n                                  className=\"no-action no-action--accept\"\n                                  onClick={(e) => handleAcceptRequest(n, e)}\n                                  disabled={isProcessing}\n                                >\n                                  {isProcessing ? \"...\" : \"Accept\"}\n                                </button>\n                                <button\n                                  type=\"button\"\n                                  className=\"no-action no-action--decline\"\n                                  onClick={(e) => handleDeclineRequest(n, e)}\n                                  disabled={isProcessing}\n                                >\n                                  {isProcessing ? \"...\" : \"Decline\"}\n                                </button>\n                              </div>\n                            )}\n                          </div>\n\n                          <div className=\"no-chevron\" aria-hidden=\"true\">\n                            {n.type !== \"follow_request\" && \">\"}\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Profile.css\";\nimport { authApi, worksApi, draftsApi, uploadsApi, usersApi, communityApi } from \"../api\";\n\nfunction Stat({ label, value }) {\n  return (\n    <div className=\"pf-stat\">\n      <div className=\"pf-statValue\">{value}</div>\n      <div className=\"pf-statLabel\">{label}</div>\n    </div>\n  );\n}\n\nfunction NavItem({ active, children, onClick }) {\n  return (\n    <button\n      type=\"button\"\n      className={`pf-navItem${active ? \" pf-navItem--active\" : \"\"}`}\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  );\n}\n\nfunction ActionCard({ icon, title, desc, onClick }) {\n  return (\n    <button type=\"button\" className=\"pf-actionCard\" onClick={onClick}>\n      <div className=\"pf-actionIcon\" aria-hidden=\"true\">\n        {icon}\n      </div>\n      <div className=\"pf-actionText\">\n        <div className=\"pf-actionTitle\">{title}</div>\n        <div className=\"pf-actionDesc\">{desc}</div>\n      </div>\n      <div className=\"pf-actionChev\" aria-hidden=\"true\">\n        &rarr;\n      </div>\n    </button>\n  );\n}\n\nexport default function Profile({ username = \"guest\" }) {\n  const navigate = useNavigate();\n\n  const [active, setActive] = React.useState(\"Overview\");\n  const [user, setUser] = React.useState(null);\n  const [works, setWorks] = React.useState([]);\n  const [drafts, setDrafts] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [uploadingAvatar, setUploadingAvatar] = React.useState(false);\n  const avatarInputRef = React.useRef(null);\n\n  React.useEffect(() => {\n    async function loadData() {\n      try {\n        const [meData, worksData, draftsData] = await Promise.all([\n          authApi.me(),\n          worksApi.mine().catch(() => ({ works: [] })),\n          draftsApi.list().catch(() => ({ drafts: [] })),\n        ]);\n\n        setUser(meData.user);\n        setWorks(worksData.works || []);\n        setDrafts(draftsData.drafts || []);\n      } catch (err) {\n        console.error(\"Failed to load profile data:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadData();\n  }, []);\n\n  const effectiveUsername = user?.username || username || \"guest\";\n  const displayName = user?.displayName || effectiveUsername;\n  const handle = `@${effectiveUsername}`;\n  const avatarUrl = user?.avatarUrl || \"\";\n  const stats = user?.stats || { followersCount: 0, followingCount: 0, worksCount: 0 };\n  const initials = (displayName || \"U\").charAt(0).toUpperCase();\n\n  // Handle avatar upload - syncs to both User profile and CommunityPage\n  async function handleAvatarUpload(e) {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setUploadingAvatar(true);\n    try {\n      const result = await uploadsApi.image(file, \"avatar\");\n      if (result.url) {\n        // Update both User profile and CommunityPage to keep them in sync\n        await Promise.all([\n          usersApi.updateProfile({ avatarUrl: result.url }),\n          communityApi.update({ profileImageUrl: result.url }),\n        ]);\n        setUser((prev) => prev ? { ...prev, avatarUrl: result.url } : prev);\n      }\n    } catch (err) {\n      console.error(\"Failed to upload avatar:\", err);\n      alert(\"Failed to upload profile picture. Please try again.\");\n    } finally {\n      setUploadingAvatar(false);\n      if (avatarInputRef.current) avatarInputRef.current.value = \"\";\n    }\n  }\n\n  function goToWorksPage() {\n    navigate(\"/works\");\n  }\n\n  function goToDraftsPage() {\n    navigate(\"/drafts\");\n  }\n\n  function openWorkView(workId) {\n    navigate(`/works/${encodeURIComponent(workId)}`);\n  }\n\n  function openWorkEditor(workId) {\n    navigate(`/works/edit/${encodeURIComponent(workId)}`);\n  }\n\n  function openDraftEditor(draftId) {\n    navigate(`/drafts/edit/${encodeURIComponent(draftId)}`);\n  }\n\n  const worksCount = works.length;\n  const draftsCount = drafts.length;\n\n  if (loading) {\n    return (\n      <div className=\"pf\">\n        <div className=\"pf-shell\">\n          <div style={{ padding: 40, textAlign: \"center\" }}>Loading profile...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"pf\">\n      {/* Hidden file input for avatar upload */}\n      <input\n        type=\"file\"\n        ref={avatarInputRef}\n        accept=\"image/*\"\n        style={{ display: \"none\" }}\n        onChange={handleAvatarUpload}\n      />\n\n      <div className=\"pf-shell\">\n        {/* Hero */}\n        <section className=\"pf-hero\" aria-label=\"Profile header\">\n          <div className=\"pf-heroTop\">\n            <div className=\"pf-id\">\n              <div\n                className=\"pf-avatarWrap\"\n                aria-label=\"Profile picture\"\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => avatarInputRef.current?.click()}\n                onKeyDown={(e) => e.key === \"Enter\" && avatarInputRef.current?.click()}\n                title=\"Click to change profile picture\"\n              >\n                {avatarUrl ? (\n                  <img className=\"pf-avatar\" src={avatarUrl} alt={`${displayName} profile`} />\n                ) : (\n                  <div className=\"pf-avatar pf-avatar--fallback\">{initials}</div>\n                )}\n                <div className=\"pf-avatarOverlay\">\n                  {uploadingAvatar ? \"...\" : \"Edit\"}\n                </div>\n              </div>\n\n              <div className=\"pf-idText\">\n                <h1 className=\"pf-name\">{displayName}</h1>\n                <div className=\"pf-subRow\">\n                  <span className=\"pf-handle\">{handle}</span>\n                  {user?.bio && (\n                    <>\n                      <span className=\"pf-dot\">&bull;</span>\n                      <span className=\"pf-meta\">{user.bio}</span>\n                    </>\n                  )}\n                  <span className=\"pf-badge\">Logged In</span>\n                </div>\n\n                <div className=\"pf-metaRow\">\n                  <span className=\"pf-meta\">Works: {worksCount}</span>\n                  <span className=\"pf-dot\">&bull;</span>\n                  <span className=\"pf-meta\">Drafts: {draftsCount}</span>\n                  <span className=\"pf-dot\">&bull;</span>\n                  <span className=\"pf-meta\">Followers: {stats.followersCount}</span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"pf-cta\">\n              <button type=\"button\" className=\"pf-btn pf-btn--primary\" onClick={() => navigate(\"/new-draft\")}>\n                New Draft\n              </button>\n              <button type=\"button\" className=\"pf-btn\" onClick={() => navigate(\"/settings\")}>\n                Settings\n              </button>\n            </div>\n          </div>\n\n          <div className=\"pf-stats\" aria-label=\"Profile stats\">\n            <Stat label=\"Published Works\" value={worksCount} />\n            <Stat label=\"Drafts\" value={draftsCount} />\n            <Stat label=\"Followers\" value={stats.followersCount} />\n            <Stat label=\"Following\" value={stats.followingCount} />\n          </div>\n        </section>\n\n        {/* Grid */}\n        <div className=\"pf-grid\">\n          {/* Left nav */}\n          <aside className=\"pf-navCard\" aria-label=\"Profile navigation\">\n            <div className=\"pf-navTitle\">Profile</div>\n\n            <div className=\"pf-navList\">\n              <NavItem active={active === \"Overview\"} onClick={() => setActive(\"Overview\")}>\n                Overview\n              </NavItem>\n              <NavItem active={active === \"Works\"} onClick={() => setActive(\"Works\")}>\n                Works ({worksCount})\n              </NavItem>\n              <NavItem active={active === \"Drafts\"} onClick={() => setActive(\"Drafts\")}>\n                Drafts ({draftsCount})\n              </NavItem>\n            </div>\n\n            <div className=\"pf-navDivider\" />\n\n            <button type=\"button\" className=\"pf-navLink\" onClick={goToWorksPage}>\n              Go to Works Page\n            </button>\n            <button type=\"button\" className=\"pf-navLink\" onClick={goToDraftsPage}>\n              Go to Drafts Page\n            </button>\n            <button type=\"button\" className=\"pf-navLink\" onClick={() => navigate(\"/settings\")}>\n              Go to Settings\n            </button>\n          </aside>\n\n          {/* Main */}\n          <section className=\"pf-main\" aria-label=\"Profile content\">\n            {active === \"Overview\" && (\n              <>\n                <div className=\"pf-card\">\n                  <div className=\"pf-cardHead\">\n                    <div className=\"pf-cardTitle\">Quick actions</div>\n                    <div className=\"pf-cardRight\">\n                      <span className=\"pf-softMeta\">Shortcuts</span>\n                    </div>\n                  </div>\n\n                  <div className=\"pf-cardBody\">\n                    <div className=\"pf-actionsGrid\">\n                      <ActionCard\n                        icon=\"+\"\n                        title=\"Write a new draft\"\n                        desc=\"Start something fresh in the editor.\"\n                        onClick={() => navigate(\"/new-draft\")}\n                      />\n                      <ActionCard\n                        icon=\"*\"\n                        title=\"View your works\"\n                        desc=\"Browse your published library.\"\n                        onClick={goToWorksPage}\n                      />\n                      <ActionCard\n                        icon=\"#\"\n                        title=\"Edit drafts\"\n                        desc=\"Jump back into something unfinished.\"\n                        onClick={goToDraftsPage}\n                      />\n                      <ActionCard\n                        icon=\"?\"\n                        title=\"Search\"\n                        desc=\"Find works, tags, or keywords.\"\n                        onClick={() => navigate(\"/search\")}\n                      />\n                    </div>\n\n                    <div className=\"pf-row\" aria-label=\"Overview highlights\">\n                      <div className=\"pf-mini\">\n                        <div className=\"pf-miniTitle\">Latest work</div>\n                        <div className=\"pf-miniMeta\">\n                          {worksCount > 0\n                            ? works[0]?.title || \"Untitled\"\n                            : \"No published works yet.\"}\n                        </div>\n                      </div>\n\n                      <div className=\"pf-mini\">\n                        <div className=\"pf-miniTitle\">Latest draft</div>\n                        <div className=\"pf-miniMeta\">\n                          {draftsCount > 0\n                            ? drafts[0]?.title || \"Untitled\"\n                            : \"No drafts yet.\"}\n                        </div>\n                      </div>\n\n                      <div className=\"pf-mini\">\n                        <div className=\"pf-miniTitle\">Member since</div>\n                        <div className=\"pf-miniMeta\">\n                          {user?.createdAt\n                            ? new Date(user.createdAt).toLocaleDateString()\n                            : \"\"}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"pf-card\">\n                  <div className=\"pf-cardHead\">\n                    <div className=\"pf-cardTitle\">Library</div>\n                    <div className=\"pf-cardRight\">\n                      <button type=\"button\" className=\"pf-linkBtn\" onClick={() => setActive(\"Works\")}>\n                        View works\n                      </button>\n                      <button type=\"button\" className=\"pf-linkBtn\" onClick={() => setActive(\"Drafts\")}>\n                        View drafts\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"pf-cardBody\">\n                    <div className=\"pf-library\" aria-label=\"Library stats\">\n                      <div className=\"pf-libraryItem\">\n                        <div className=\"pf-libraryLabel\">Published works</div>\n                        <div className=\"pf-libraryValue\">{worksCount}</div>\n                      </div>\n                      <div className=\"pf-libraryItem\">\n                        <div className=\"pf-libraryLabel\">Drafts</div>\n                        <div className=\"pf-libraryValue\">{draftsCount}</div>\n                      </div>\n                      <div className=\"pf-libraryItem\">\n                        <div className=\"pf-libraryLabel\">Followers</div>\n                        <div className=\"pf-libraryValue\">{stats.followersCount}</div>\n                      </div>\n                      <div className=\"pf-libraryItem\">\n                        <div className=\"pf-libraryLabel\">Following</div>\n                        <div className=\"pf-libraryValue\">{stats.followingCount}</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n\n            {active === \"Works\" && (\n              <div className=\"pf-card\">\n                <div className=\"pf-cardHead\">\n                  <div className=\"pf-cardTitle\">Published works</div>\n                  <div className=\"pf-cardRight\">\n                    <button type=\"button\" className=\"pf-linkBtn\" onClick={goToWorksPage}>\n                      Open Works\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"pf-cardBody\">\n                  {worksCount > 0 ? (\n                    <div className=\"pf-list\" aria-label=\"Works list\">\n                      {works.slice(0, 10).map((w) => (\n                        <div key={w._id} className=\"pf-listRow\">\n                          <div>\n                            <div className=\"pf-listTitle\">{w.title || \"Untitled\"}</div>\n                            <div className=\"pf-listMeta\">\n                              {w.genre || \"No genre\"} &bull; {w.stats?.viewCount || 0} views &bull;{\" \"}\n                              {new Date(w.publishedAt || w.createdAt).toLocaleDateString()}\n                            </div>\n                          </div>\n\n                          <div className=\"pf-cardRight\">\n                            <button type=\"button\" className=\"pf-linkBtn\" onClick={() => openWorkView(w._id)}>\n                              View\n                            </button>\n                            <button type=\"button\" className=\"pf-linkBtn\" onClick={() => openWorkEditor(w._id)}>\n                              Edit\n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"pf-softMeta\">No published works yet.</div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {active === \"Drafts\" && (\n              <div className=\"pf-card\">\n                <div className=\"pf-cardHead\">\n                  <div className=\"pf-cardTitle\">Drafts</div>\n                  <div className=\"pf-cardRight\">\n                    <button type=\"button\" className=\"pf-linkBtn\" onClick={goToDraftsPage}>\n                      Open Drafts\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"pf-cardBody\">\n                  {draftsCount > 0 ? (\n                    <div className=\"pf-list\" aria-label=\"Drafts list\">\n                      {drafts.slice(0, 10).map((d) => (\n                        <div key={d._id} className=\"pf-listRow\">\n                          <div>\n                            <div className=\"pf-listTitle\">{d.title || \"Untitled\"}</div>\n                            <div className=\"pf-listMeta\">\n                              Last updated: {new Date(d.updatedAt || d.createdAt).toLocaleDateString()}\n                            </div>\n                          </div>\n\n                          <div className=\"pf-cardRight\">\n                            <button type=\"button\" className=\"pf-linkBtn\" onClick={() => openDraftEditor(d._id)}>\n                              Edit\n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"pf-softMeta\">No drafts yet.</div>\n                  )}\n\n                  <div className=\"pf-actionRow\">\n                    <button type=\"button\" className=\"pf-btn pf-btn--primary\" onClick={() => navigate(\"/new-draft\")}>\n                      Create New Draft\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </section>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Settings.css\";\nimport { settingsApi, usersApi, authApi, skinsApi } from \"../api\";\nimport { SableLoader } from \"../components\";\n\nimport profileImg from \"../assets/images/profile_picture.png\";\n\nexport default function Settings({ username, onLogout }) {\n  const navigate = useNavigate();\n\n  // User data from API\n  const [user, setUser] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n\n  // Left nav\n  const [activeNav, setActiveNav] = React.useState(\"account\");\n\n  // Right-side visibility card\n  const [visibility, setVisibility] = React.useState(\"public\");\n\n  // Modals\n  const [activeModal, setActiveModal] = React.useState(null);\n\n  // Generic modal input state\n  const [modalValue, setModalValue] = React.useState(\"\");\n  const [modalValue2, setModalValue2] = React.useState(\"\");\n  const [modalValue3, setModalValue3] = React.useState(\"\");\n\n  // Status line for actions\n  const [modalStatus, setModalStatus] = React.useState(\"\");\n  const [modalLoading, setModalLoading] = React.useState(false);\n\n  // Password visibility toggles\n  const [showPassword, setShowPassword] = React.useState(false);\n  const [showPassword2, setShowPassword2] = React.useState(false);\n  const [showPassword3, setShowPassword3] = React.useState(false);\n\n  // Privacy state\n  const [blockedUsers, setBlockedUsers] = React.useState([]);\n  const [mutedWords, setMutedWords] = React.useState([]);\n  const [dmSetting, setDmSetting] = React.useState(\"everyone\");\n  const [contentFilters, setContentFilters] = React.useState({\n    mature: true,\n    explicit: false,\n    violence: true,\n    selfHarm: true,\n    spoilers: false,\n  });\n  const [privacySettings, setPrivacySettings] = React.useState({\n    showListeningActivity: true,\n    showCollections: true,\n    allowDMRequests: true,\n  });\n\n  // Personal info form state\n  const [personalInfo, setPersonalInfo] = React.useState({\n    displayName: \"\",\n    dateOfBirth: \"\",\n    timezone: \"America/New_York\",\n    country: \"\",\n    region: \"\",\n    pronouns: \"\",\n  });\n\n  // Sessions state\n  const [sessions, setSessions] = React.useState([]);\n\n  // Connected accounts state\n  const [connectedAccounts, setConnectedAccounts] = React.useState([]);\n  const [hasPassword, setHasPassword] = React.useState(true);\n\n  // Audio preferences state\n  const [audioPrefs, setAudioPrefs] = React.useState({\n    autoplay: false,\n    crossfade: false,\n    crossfadeSeconds: 4,\n  });\n\n  // Skin modal\n  const [skinName, setSkinName] = React.useState(\"\");\n  const [skinAppliesTo, setSkinAppliesTo] = React.useState(\"work\");\n  const [skinCss, setSkinCss] = React.useState(\n    \"/* Example */\\n.wv-card {\\n  background: rgba(255,255,255,0.8);\\n}\\n\"\n  );\n  const [skinSaving, setSkinSaving] = React.useState(false);\n  const [skinError, setSkinError] = React.useState(\"\");\n\n  // Custom skins list\n  const [customSkins, setCustomSkins] = React.useState([]);\n  const [skinsLoading, setSkinsLoading] = React.useState(false);\n\n  // Load user data on mount\n  React.useEffect(() => {\n    async function loadData() {\n      try {\n        const [meData, blockedData, mutedData, privacyData, sessionsData, accountsData, skinsData] = await Promise.all([\n          authApi.me(),\n          usersApi.getBlockedUsers().catch(() => ({ blockedUsers: [] })),\n          settingsApi.getMutedWords().catch(() => ({ mutedWords: [] })),\n          settingsApi.getPrivacy().catch(() => ({ privacy: {} })),\n          settingsApi.getSessions().catch(() => ({ sessions: [] })),\n          settingsApi.getConnectedAccounts().catch(() => ({ accounts: [], hasPassword: true })),\n          skinsApi.list().catch(() => ({ skins: [] })),\n        ]);\n\n        setUser(meData.user);\n        setBlockedUsers(blockedData.blockedUsers || []);\n        setMutedWords(mutedData.mutedWords || []);\n        setPrivacySettings(privacyData.privacy || {});\n        setSessions(sessionsData.sessions || []);\n        setConnectedAccounts(accountsData.accounts || []);\n        setHasPassword(accountsData.hasPassword !== false);\n        setCustomSkins(skinsData.skins || []);\n\n        // Set visibility from user preferences\n        if (meData.user?.preferences?.visibility) {\n          setVisibility(meData.user.preferences.visibility);\n        }\n        if (meData.user?.preferences?.dmSetting) {\n          setDmSetting(meData.user.preferences.dmSetting);\n        }\n        if (meData.user?.contentFilters) {\n          setContentFilters(meData.user.contentFilters);\n        }\n        if (meData.user?.preferences?.audioPrefs) {\n          setAudioPrefs(meData.user.preferences.audioPrefs);\n        }\n\n        // Set personal info\n        setPersonalInfo({\n          displayName: meData.user?.displayName || \"\",\n          dateOfBirth: meData.user?.dateOfBirth || \"\",\n          timezone: meData.user?.timezone || \"America/New_York\",\n          country: meData.user?.country || \"\",\n          region: meData.user?.region || \"\",\n          pronouns: meData.user?.pronouns || \"\",\n        });\n      } catch (err) {\n        console.error(\"Failed to load settings:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadData();\n  }, []);\n\n  const effectiveUsername = user?.username || username || \"guest\";\n  const displayName = user?.displayName || effectiveUsername;\n\n  function openModal(key) {\n    setActiveModal(key);\n    setModalValue(\"\");\n    setModalValue2(\"\");\n    setModalValue3(\"\");\n    setModalStatus(\"\");\n    setModalLoading(false);\n    setShowPassword(false);\n    setShowPassword2(false);\n    setShowPassword3(false);\n  }\n\n  function closeModal() {\n    setActiveModal(null);\n    setModalValue(\"\");\n    setModalValue2(\"\");\n    setModalValue3(\"\");\n    setModalStatus(\"\");\n    setModalLoading(false);\n    setShowPassword(false);\n    setShowPassword2(false);\n    setShowPassword3(false);\n  }\n\n  const isGoodbyeModal = activeModal === \"delete\" || activeModal === \"deactivate\";\n  const isSkinModal = activeModal === \"skin\";\n  const isMiniEditModal = activeModal && !isGoodbyeModal && !isSkinModal;\n\n  function goodbyeActionLabel() {\n    return activeModal === \"delete\" ? \"delete\" : \"deactivate\";\n  }\n\n  async function handleConfirmGoodbye() {\n    if (activeModal === \"delete\") {\n      setModalLoading(true);\n      try {\n        await settingsApi.deleteAccount(modalValue);\n        closeModal();\n        if (typeof onLogout === \"function\") {\n          onLogout();\n        }\n        navigate(\"/\", { replace: true });\n      } catch (err) {\n        setModalStatus(err.message || \"Failed to delete account\");\n        setModalLoading(false);\n      }\n    } else {\n      // Deactivate is just a placeholder for now\n      closeModal();\n      if (typeof onLogout === \"function\") {\n        onLogout();\n      }\n      navigate(\"/\", { replace: true });\n    }\n  }\n\n  function modalTitle() {\n    switch (activeModal) {\n      case \"username\": return \"Edit your Username\";\n      case \"screenname\": return \"Edit your Screen name\";\n      case \"password\": return \"Change your password\";\n      case \"email\": return \"Change Email Address\";\n      case \"linked\": return \"Linked Accounts\";\n      case \"2fa\": return \"Two-Factor Authentication\";\n      case \"download\": return \"Download Your Data\";\n      case \"sessions\": return \"Active Sessions\";\n      case \"blocked\": return \"Blocked Users\";\n      case \"muted\": return \"Muted Words\";\n      case \"filters\": return \"Content Filters\";\n      case \"dm\": return \"DM Permissions\";\n      case \"playback\": return \"Playback Preferences\";\n      case \"audioPrivacy\": return \"Audio Privacy\";\n      default: return \"Edit Setting\";\n    }\n  }\n\n  // Update visibility\n  async function handleVisibilityChange(newVisibility) {\n    setVisibility(newVisibility);\n    try {\n      await usersApi.updatePreferences({ visibility: newVisibility });\n    } catch (err) {\n      console.error(\"Failed to update visibility:\", err);\n    }\n  }\n\n  // Save personal info\n  async function handleSavePersonalInfo() {\n    try {\n      await usersApi.updateProfile({\n        displayName: personalInfo.displayName,\n        pronouns: personalInfo.pronouns,\n        country: personalInfo.country,\n        region: personalInfo.region,\n        timezone: personalInfo.timezone,\n      });\n      setModalStatus(\"Saved successfully!\");\n    } catch (err) {\n      setModalStatus(err.message || \"Failed to save\");\n    }\n  }\n\n  // Handle data export\n  async function handleDownloadData() {\n    setModalLoading(true);\n    try {\n      const data = await settingsApi.exportData();\n      const blob = new Blob([JSON.stringify(data, null, 2)], { type: \"application/json\" });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `sable-data-export-${effectiveUsername}.json`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      setModalStatus(\"Download started!\");\n    } catch (err) {\n      setModalStatus(err.message || \"Failed to export data\");\n    } finally {\n      setModalLoading(false);\n    }\n  }\n\n  function renderMiniModalBody() {\n    switch (activeModal) {\n      case \"username\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Current username: <strong>{effectiveUsername}</strong>\n              <br />\n              Usernames must be 3-30 characters and can only contain letters, numbers, and underscores.\n            </div>\n\n            <div className=\"st-field st-field--modal\">\n              <div className=\"st-fieldLabel\">New username</div>\n              <input\n                className=\"st-input\"\n                value={modalValue}\n                onChange={(e) => setModalValue(e.target.value)}\n                placeholder=\"e.g., john_smith\"\n              />\n            </div>\n\n            <div className=\"st-field st-field--modal\">\n              <div className=\"st-fieldLabel\">Current password</div>\n              <div className=\"st-inputWrap\">\n                <input\n                  className=\"st-input\"\n                  type={showPassword2 ? \"text\" : \"password\"}\n                  value={modalValue2}\n                  onChange={(e) => setModalValue2(e.target.value)}\n                  placeholder=\"Enter your password\"\n                />\n                <button\n                  type=\"button\"\n                  className=\"st-passwordToggle\"\n                  onClick={() => setShowPassword2((v) => !v)}\n                  aria-label={showPassword2 ? \"Hide password\" : \"Show password\"}\n                >\n                  {showPassword2 ? \"\" : \"\"}\n                </button>\n              </div>\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10, color: modalStatus.includes(\"success\") ? \"green\" : \"inherit\" }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"screenname\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Your screen name is how you appear publicly (display name).\n            </div>\n\n            <div className=\"st-field st-field--modal\">\n              <div className=\"st-fieldLabel\">New screen name</div>\n              <input\n                className=\"st-input\"\n                value={modalValue}\n                onChange={(e) => setModalValue(e.target.value)}\n                placeholder=\"e.g., Caroline\"\n              />\n            </div>\n\n            <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>\n              Preview: <strong>{(modalValue || displayName).toUpperCase()}</strong>\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"password\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Enter your current password and choose a new one.\n            </div>\n\n            <div className=\"st-field st-field--modal\">\n              <div className=\"st-fieldLabel\">Current password</div>\n              <div className=\"st-inputWrap\">\n                <input\n                  className=\"st-input\"\n                  value={modalValue3}\n                  onChange={(e) => setModalValue3(e.target.value)}\n                  placeholder=\"Current password\"\n                  type={showPassword3 ? \"text\" : \"password\"}\n                />\n                <button\n                  type=\"button\"\n                  className=\"st-passwordToggle\"\n                  onClick={() => setShowPassword3((v) => !v)}\n                  aria-label={showPassword3 ? \"Hide password\" : \"Show password\"}\n                >\n                  {showPassword3 ? \"\" : \"\"}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"st-field st-field--modal\">\n              <div className=\"st-fieldLabel\">New password</div>\n              <div className=\"st-inputWrap\">\n                <input\n                  className=\"st-input\"\n                  value={modalValue}\n                  onChange={(e) => setModalValue(e.target.value)}\n                  placeholder=\"New password (min 6 characters)\"\n                  type={showPassword ? \"text\" : \"password\"}\n                />\n                <button\n                  type=\"button\"\n                  className=\"st-passwordToggle\"\n                  onClick={() => setShowPassword((v) => !v)}\n                  aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                >\n                  {showPassword ? \"\" : \"\"}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"st-field st-field--modal\">\n              <div className=\"st-fieldLabel\">Confirm new password</div>\n              <div className=\"st-inputWrap\">\n                <input\n                  className=\"st-input\"\n                  value={modalValue2}\n                  onChange={(e) => setModalValue2(e.target.value)}\n                  placeholder=\"Confirm password\"\n                  type={showPassword2 ? \"text\" : \"password\"}\n                />\n                <button\n                  type=\"button\"\n                  className=\"st-passwordToggle\"\n                  onClick={() => setShowPassword2((v) => !v)}\n                  aria-label={showPassword2 ? \"Hide password\" : \"Show password\"}\n                >\n                  {showPassword2 ? \"\" : \"\"}\n                </button>\n              </div>\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10, color: modalStatus.includes(\"success\") ? \"green\" : \"red\" }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"email\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Current email: <strong>{user?.email || \"Not set\"}</strong>\n              <br />\n              A verification email will be sent to your new address.\n            </div>\n\n            <div className=\"st-field st-field--modal\">\n              <div className=\"st-fieldLabel\">New email address</div>\n              <input\n                className=\"st-input\"\n                value={modalValue}\n                onChange={(e) => setModalValue(e.target.value)}\n                placeholder=\"e.g., john.smith@gmail.com\"\n              />\n            </div>\n\n            <div className=\"st-field st-field--modal\">\n              <div className=\"st-fieldLabel\">Current password</div>\n              <div className=\"st-inputWrap\">\n                <input\n                  className=\"st-input\"\n                  type={showPassword2 ? \"text\" : \"password\"}\n                  value={modalValue2}\n                  onChange={(e) => setModalValue2(e.target.value)}\n                  placeholder=\"Enter your password\"\n                />\n                <button\n                  type=\"button\"\n                  className=\"st-passwordToggle\"\n                  onClick={() => setShowPassword2((v) => !v)}\n                  aria-label={showPassword2 ? \"Hide password\" : \"Show password\"}\n                >\n                  {showPassword2 ? \"\" : \"\"}\n                </button>\n              </div>\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10, color: modalStatus.includes(\"sent\") ? \"green\" : \"red\" }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"linked\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Link external accounts to make login easier.\n            </div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              {connectedAccounts.map((acc) => (\n                <button\n                  key={acc.provider}\n                  type=\"button\"\n                  className=\"st-pillBtn\"\n                  onClick={async () => {\n                    if (!hasPassword && connectedAccounts.length <= 1) {\n                      setModalStatus(\"Cannot disconnect - you need at least one login method. Set a password first.\");\n                      return;\n                    }\n                    try {\n                      await settingsApi.disconnectAccount(acc.provider);\n                      setConnectedAccounts((prev) => prev.filter((a) => a.provider !== acc.provider));\n                      setModalStatus(`${acc.provider} disconnected.`);\n                    } catch (err) {\n                      setModalStatus(err.message || \"Failed to disconnect\");\n                    }\n                  }}\n                >\n                  Disconnect {acc.provider} ({acc.email || acc.username})\n                </button>\n              ))}\n              {connectedAccounts.length === 0 && (\n                <div className=\"st-mutedNote\">No accounts connected.</div>\n              )}\n            </div>\n\n            <div className=\"st-mutedNote\" style={{ marginTop: 12 }}>\n              To connect a new account, log out and sign in with that provider.\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"2fa\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Two-factor authentication adds a second step after your password.\n              {user?.twoFactor?.enabled ? \" 2FA is currently enabled.\" : \" 2FA is not enabled.\"}\n            </div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              <button\n                type=\"button\"\n                className=\"st-pillBtn st-pillBtn--primary\"\n                onClick={() => navigate(\"/settings/2fa\")}\n              >\n                {user?.twoFactor?.enabled ? \"Manage 2FA Settings\" : \"Enable Authenticator App\"}\n              </button>\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"download\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Download all your data in JSON format. This includes your profile, works, drafts, and more.\n            </div>\n\n            {modalStatus && (\n              <div className=\"st-mutedNote\" style={{ marginTop: 10, color: \"green\" }}>\n                {modalStatus}\n              </div>\n            )}\n          </>\n        );\n\n      case \"sessions\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              These are your active login sessions. You can log out of any session.\n            </div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              {sessions.map((s) => (\n                <div key={s.id} className=\"st-sessionItem\">\n                  <div className=\"st-sessionInfo\">\n                    <strong>{s.browser}</strong> on {s.os} ({s.device})\n                    {s.isCurrent && <span className=\"st-currentBadge\"> (Current)</span>}\n                    <br />\n                    <span className=\"st-sessionMeta\">\n                      Last active: {new Date(s.lastActive).toLocaleString()}\n                    </span>\n                  </div>\n                  {!s.isCurrent && (\n                    <button\n                      type=\"button\"\n                      className=\"st-pillBtn st-pillBtn--small\"\n                      onClick={async () => {\n                        try {\n                          await settingsApi.deleteSession(s.id);\n                          setSessions((prev) => prev.filter((x) => x.id !== s.id));\n                          setModalStatus(\"Session terminated.\");\n                        } catch (err) {\n                          setModalStatus(err.message || \"Failed to terminate session\");\n                        }\n                      }}\n                    >\n                      Log out\n                    </button>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {sessions.length > 1 && (\n              <button\n                type=\"button\"\n                className=\"st-pillBtn\"\n                style={{ marginTop: 12 }}\n                onClick={async () => {\n                  try {\n                    await settingsApi.deleteAllOtherSessions();\n                    setSessions((prev) => prev.filter((s) => s.isCurrent));\n                    setModalStatus(\"All other sessions terminated.\");\n                  } catch (err) {\n                    setModalStatus(err.message || \"Failed to terminate sessions\");\n                  }\n                }}\n              >\n                Log out all other sessions\n              </button>\n            )}\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"blocked\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Blocked users cannot follow you, DM you, or interact with your content.\n            </div>\n\n            <div className=\"st-mutedNote\" style={{ marginTop: 12 }}>\n              Currently blocked:\n            </div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              {blockedUsers.map((u) => (\n                <button\n                  key={u._id}\n                  type=\"button\"\n                  className=\"st-pillBtn\"\n                  onClick={async () => {\n                    try {\n                      await usersApi.unblockUser(u._id);\n                      setBlockedUsers((prev) => prev.filter((x) => x._id !== u._id));\n                      setModalStatus(`Unblocked @${u.username}`);\n                    } catch (err) {\n                      setModalStatus(err.message || \"Failed to unblock\");\n                    }\n                  }}\n                >\n                  Unblock @{u.username}\n                </button>\n              ))}\n              {blockedUsers.length === 0 && <div className=\"st-mutedNote\">No blocked users.</div>}\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"muted\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Muted words hide posts/comments containing those terms.\n            </div>\n\n            <div className=\"st-field st-field--modal\">\n              <div className=\"st-fieldLabel\">Add muted word</div>\n              <input\n                className=\"st-input\"\n                value={modalValue}\n                onChange={(e) => setModalValue(e.target.value)}\n                placeholder=\"e.g., spoilers\"\n              />\n            </div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              <button\n                type=\"button\"\n                className=\"st-pillBtn\"\n                disabled={modalLoading}\n                onClick={async () => {\n                  const v = modalValue.trim();\n                  if (!v) return;\n                  setModalLoading(true);\n                  try {\n                    await settingsApi.addMutedWord(v);\n                    setMutedWords((prev) => [v, ...prev]);\n                    setModalValue(\"\");\n                    setModalStatus(`Muted \"${v}\"`);\n                  } catch (err) {\n                    setModalStatus(err.message || \"Failed to add word\");\n                  } finally {\n                    setModalLoading(false);\n                  }\n                }}\n              >\n                Add\n              </button>\n            </div>\n\n            <div className=\"st-mutedNote\" style={{ marginTop: 12 }}>Muted list:</div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              {mutedWords.map((w) => (\n                <button\n                  key={w}\n                  type=\"button\"\n                  className=\"st-pillBtn\"\n                  onClick={async () => {\n                    try {\n                      await settingsApi.removeMutedWord(w);\n                      setMutedWords((prev) => prev.filter((x) => x !== w));\n                      setModalStatus(`Unmuted \"${w}\"`);\n                    } catch (err) {\n                      setModalStatus(err.message || \"Failed to remove word\");\n                    }\n                  }}\n                >\n                  Remove \"{w}\"\n                </button>\n              ))}\n              {mutedWords.length === 0 && <div className=\"st-mutedNote\">No muted words.</div>}\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"filters\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Choose what types of content you want hidden by default.\n            </div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              {[\n                [\"mature\", \"Mature content\"],\n                [\"explicit\", \"Explicit content\"],\n                [\"violence\", \"Graphic violence\"],\n                [\"selfHarm\", \"Self-harm themes\"],\n                [\"spoilers\", \"Spoilers\"],\n              ].map(([key, label]) => (\n                <button\n                  key={key}\n                  type=\"button\"\n                  className=\"st-pillBtn\"\n                  aria-pressed={contentFilters[key]}\n                  onClick={async () => {\n                    const newFilters = { ...contentFilters, [key]: !contentFilters[key] };\n                    setContentFilters(newFilters);\n                    try {\n                      await usersApi.updateContentFilters(newFilters);\n                    } catch (err) {\n                      console.error(\"Failed to update filters:\", err);\n                    }\n                  }}\n                >\n                  {contentFilters[key] ? \"Hide \" : \"Show \"}\n                  {label}\n                </button>\n              ))}\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"dm\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">Control who can DM you.</div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              {[\n                [\"everyone\", \"Everyone\"],\n                [\"community\", \"Community members\"],\n                [\"mutuals\", \"Mutuals only\"],\n                [\"none\", \"No one\"],\n              ].map(([val, label]) => (\n                <button\n                  key={val}\n                  type=\"button\"\n                  className=\"st-pillBtn\"\n                  aria-pressed={dmSetting === val}\n                  onClick={async () => {\n                    setDmSetting(val);\n                    try {\n                      await usersApi.updatePreferences({ dmSetting: val });\n                      setModalStatus(`DM permissions set to: ${label}`);\n                    } catch (err) {\n                      console.error(\"Failed to update DM setting:\", err);\n                    }\n                  }}\n                >\n                  {dmSetting === val ? \"* \" : \"\"}\n                  {label}\n                </button>\n              ))}\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"playback\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Customize how audio behaves during playback.\n            </div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              <button\n                type=\"button\"\n                className=\"st-pillBtn\"\n                aria-pressed={audioPrefs.autoplay}\n                onClick={async () => {\n                  const newPrefs = { ...audioPrefs, autoplay: !audioPrefs.autoplay };\n                  setAudioPrefs(newPrefs);\n                  try {\n                    await usersApi.updatePreferences({ audioPrefs: newPrefs });\n                  } catch (err) {\n                    console.error(\"Failed to update audio prefs:\", err);\n                  }\n                }}\n              >\n                {audioPrefs.autoplay ? \"* \" : \"\"}\n                Autoplay Next Track\n              </button>\n\n              <button\n                type=\"button\"\n                className=\"st-pillBtn\"\n                aria-pressed={audioPrefs.crossfade}\n                onClick={async () => {\n                  const newPrefs = { ...audioPrefs, crossfade: !audioPrefs.crossfade };\n                  setAudioPrefs(newPrefs);\n                  try {\n                    await usersApi.updatePreferences({ audioPrefs: newPrefs });\n                  } catch (err) {\n                    console.error(\"Failed to update audio prefs:\", err);\n                  }\n                }}\n              >\n                {audioPrefs.crossfade ? \"* \" : \"\"}\n                Crossfade\n              </button>\n\n              <button\n                type=\"button\"\n                className=\"st-pillBtn\"\n                onClick={async () => {\n                  const newSeconds = Math.min(10, (audioPrefs.crossfadeSeconds || 0) + 1);\n                  const newPrefs = { ...audioPrefs, crossfadeSeconds: newSeconds > 10 ? 1 : newSeconds };\n                  setAudioPrefs(newPrefs);\n                  try {\n                    await usersApi.updatePreferences({ audioPrefs: newPrefs });\n                  } catch (err) {\n                    console.error(\"Failed to update audio prefs:\", err);\n                  }\n                }}\n              >\n                Crossfade Seconds: {audioPrefs.crossfadeSeconds}\n              </button>\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      case \"audioPrivacy\":\n        return (\n          <>\n            <div className=\"st-mutedNote\">\n              Control what others can see about your listening and audio activity.\n            </div>\n\n            <div className=\"st-pillStack\" style={{ marginTop: 10 }}>\n              {[\n                [\"showListeningActivity\", \"Show listening activity\"],\n                [\"showCollections\", \"Show audio collections\"],\n                [\"allowDMRequests\", \"Allow DM requests from audio pages\"],\n              ].map(([key, label]) => (\n                <button\n                  key={key}\n                  type=\"button\"\n                  className=\"st-pillBtn\"\n                  aria-pressed={privacySettings[key]}\n                  onClick={async () => {\n                    const newSettings = { ...privacySettings, [key]: !privacySettings[key] };\n                    setPrivacySettings(newSettings);\n                    try {\n                      await settingsApi.updatePrivacy(newSettings);\n                    } catch (err) {\n                      console.error(\"Failed to update privacy:\", err);\n                    }\n                  }}\n                >\n                  {privacySettings[key] ? \"* \" : \"\"}\n                  {label}\n                </button>\n              ))}\n            </div>\n\n            {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10 }}>{modalStatus}</div>}\n          </>\n        );\n\n      default:\n        return <div className=\"st-mutedNote\">No settings available.</div>;\n    }\n  }\n\n  function renderMiniModalActions() {\n    if (activeModal === \"download\") {\n      return (\n        <div className=\"st-modalActions\">\n          <button type=\"button\" className=\"st-actionBtn\" onClick={closeModal}>\n            Close\n          </button>\n          <button\n            type=\"button\"\n            className=\"st-actionBtn st-actionBtn--primary\"\n            onClick={handleDownloadData}\n            disabled={modalLoading}\n          >\n            {modalLoading ? \"Downloading...\" : \"Download Data\"}\n          </button>\n        </div>\n      );\n    }\n\n    // Username change\n    if (activeModal === \"username\") {\n      return (\n        <div className=\"st-modalActions\">\n          <button type=\"button\" className=\"st-actionBtn\" onClick={closeModal}>\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            className=\"st-actionBtn st-actionBtn--primary\"\n            disabled={modalLoading}\n            onClick={async () => {\n              if (!modalValue.trim() || !modalValue2.trim()) {\n                setModalStatus(\"Please fill in all fields\");\n                return;\n              }\n              setModalLoading(true);\n              try {\n                await settingsApi.changeUsername(modalValue.trim(), modalValue2);\n                setModalStatus(\"Username updated successfully!\");\n                setUser((prev) => ({ ...prev, username: modalValue.trim().toLowerCase() }));\n              } catch (err) {\n                setModalStatus(err.message || \"Failed to update username\");\n              } finally {\n                setModalLoading(false);\n              }\n            }}\n          >\n            {modalLoading ? \"Saving...\" : \"Save\"}\n          </button>\n        </div>\n      );\n    }\n\n    // Screen name change\n    if (activeModal === \"screenname\") {\n      return (\n        <div className=\"st-modalActions\">\n          <button type=\"button\" className=\"st-actionBtn\" onClick={closeModal}>\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            className=\"st-actionBtn st-actionBtn--primary\"\n            disabled={modalLoading}\n            onClick={async () => {\n              if (!modalValue.trim()) {\n                setModalStatus(\"Please enter a screen name\");\n                return;\n              }\n              setModalLoading(true);\n              try {\n                await usersApi.updateProfile({ displayName: modalValue.trim() });\n                setModalStatus(\"Screen name updated!\");\n                setUser((prev) => ({ ...prev, displayName: modalValue.trim() }));\n              } catch (err) {\n                setModalStatus(err.message || \"Failed to update screen name\");\n              } finally {\n                setModalLoading(false);\n              }\n            }}\n          >\n            {modalLoading ? \"Saving...\" : \"Save\"}\n          </button>\n        </div>\n      );\n    }\n\n    // Password change\n    if (activeModal === \"password\") {\n      return (\n        <div className=\"st-modalActions\">\n          <button type=\"button\" className=\"st-actionBtn\" onClick={closeModal}>\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            className=\"st-actionBtn st-actionBtn--primary\"\n            disabled={modalLoading}\n            onClick={async () => {\n              if (modalValue !== modalValue2) {\n                setModalStatus(\"Passwords do not match\");\n                return;\n              }\n              if (modalValue.length < 6) {\n                setModalStatus(\"Password must be at least 6 characters\");\n                return;\n              }\n              setModalLoading(true);\n              try {\n                await settingsApi.changePassword(modalValue3, modalValue);\n                setModalStatus(\"Password updated successfully!\");\n                setModalValue(\"\");\n                setModalValue2(\"\");\n                setModalValue3(\"\");\n              } catch (err) {\n                setModalStatus(err.message || \"Failed to update password\");\n              } finally {\n                setModalLoading(false);\n              }\n            }}\n          >\n            {modalLoading ? \"Saving...\" : \"Save\"}\n          </button>\n        </div>\n      );\n    }\n\n    // Email change\n    if (activeModal === \"email\") {\n      return (\n        <div className=\"st-modalActions\">\n          <button type=\"button\" className=\"st-actionBtn\" onClick={closeModal}>\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            className=\"st-actionBtn st-actionBtn--primary\"\n            disabled={modalLoading}\n            onClick={async () => {\n              if (!modalValue.trim() || !modalValue2.trim()) {\n                setModalStatus(\"Please fill in all fields\");\n                return;\n              }\n              setModalLoading(true);\n              try {\n                await settingsApi.changeEmail(modalValue.trim(), modalValue2);\n                setModalStatus(\"Verification email sent to your new address!\");\n              } catch (err) {\n                setModalStatus(err.message || \"Failed to update email\");\n              } finally {\n                setModalLoading(false);\n              }\n            }}\n          >\n            {modalLoading ? \"Saving...\" : \"Send Verification\"}\n          </button>\n        </div>\n      );\n    }\n\n    // Close-only modals\n    const closeOnly = [\"linked\", \"2fa\", \"blocked\", \"muted\", \"filters\", \"dm\", \"playback\", \"audioPrivacy\", \"sessions\"];\n    if (closeOnly.includes(activeModal)) {\n      return (\n        <div className=\"st-modalActions\">\n          <button type=\"button\" className=\"st-actionBtn st-actionBtn--primary\" onClick={closeModal}>\n            Done\n          </button>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"st-modalActions\">\n        <button type=\"button\" className=\"st-actionBtn\" onClick={closeModal}>\n          Cancel\n        </button>\n        <button type=\"button\" className=\"st-actionBtn st-actionBtn--primary\" onClick={closeModal}>\n          Save\n        </button>\n      </div>\n    );\n  }\n\n  async function handleSkinSave() {\n    if (!skinName.trim()) {\n      setSkinError(\"Please enter a skin name.\");\n      return;\n    }\n    if (!skinCss.trim()) {\n      setSkinError(\"Please enter some CSS.\");\n      return;\n    }\n\n    setSkinSaving(true);\n    setSkinError(\"\");\n\n    try {\n      const appliesTo = skinAppliesTo === \"Community Page\" ? \"community\" : \"work\";\n      const data = await skinsApi.create(skinName.trim(), appliesTo, skinCss.trim());\n\n      // Add to local list\n      setCustomSkins((prev) => [data.skin, ...prev]);\n\n      // Reset form\n      setSkinName(\"\");\n      setSkinAppliesTo(\"work\");\n      setSkinCss(\"/* Example */\\n.wv-card {\\n  background: rgba(255,255,255,0.8);\\n}\\n\");\n      closeModal();\n    } catch (err) {\n      setSkinError(err.message || \"Failed to save skin. Please try again.\");\n    } finally {\n      setSkinSaving(false);\n    }\n  }\n\n  async function handleSkinDelete(skinId) {\n    if (!window.confirm(\"Are you sure you want to delete this skin?\")) return;\n\n    try {\n      await skinsApi.delete(skinId);\n      setCustomSkins((prev) => prev.filter((s) => s._id !== skinId));\n    } catch (err) {\n      console.error(\"Failed to delete skin:\", err);\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"st\">\n        <SableLoader />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"st\">\n      <div className=\"st-shell\">\n        <div className=\"st-grid\">\n\n          {/* Left nav */}\n          <aside className=\"st-side\" aria-label=\"Settings navigation\">\n            <div className=\"st-sideTitle\">Settings</div>\n\n            <button\n              type=\"button\"\n              className={`st-sideBtn ${activeNav === \"account\" ? \"is-active\" : \"\"}`}\n              onClick={() => setActiveNav(\"account\")}\n            >\n              Account\n            </button>\n\n            <button\n              type=\"button\"\n              className={`st-sideBtn ${activeNav === \"personal\" ? \"is-active\" : \"\"}`}\n              onClick={() => setActiveNav(\"personal\")}\n            >\n              Personal Info\n            </button>\n\n            <button\n              type=\"button\"\n              className={`st-sideBtn ${activeNav === \"privacy\" ? \"is-active\" : \"\"}`}\n              onClick={() => setActiveNav(\"privacy\")}\n            >\n              Privacy\n            </button>\n\n            <button\n              type=\"button\"\n              className={`st-sideBtn ${activeNav === \"skins\" ? \"is-active\" : \"\"}`}\n              onClick={() => setActiveNav(\"skins\")}\n            >\n              Skins\n            </button>\n\n            <button\n              type=\"button\"\n              className={`st-sideBtn ${activeNav === \"audio\" ? \"is-active\" : \"\"}`}\n              onClick={() => setActiveNav(\"audio\")}\n            >\n              Audio\n            </button>\n          </aside>\n\n          {/* Center */}\n          <main className=\"st-main\" aria-label=\"Settings content\">\n\n            {/* Account */}\n            {activeNav === \"account\" && (\n              <>\n                <h1 className=\"st-title\">ACCOUNT</h1>\n                <p className=\"st-subtitle\">\n                  Manage core account settings and security.\n                </p>\n\n                <section className=\"st-sectionCard\" aria-label=\"Account actions\">\n                  <div className=\"st-cardTitleRow\">\n                    <div className=\"st-cardTitle\">Account Actions</div>\n                  </div>\n\n                  <div className=\"st-pillStack\">\n                    <button\n                      type=\"button\"\n                      className=\"st-pillBtn\"\n                      onClick={() => navigate(\"/communities/me\", { state: { edit: true } })}\n                    >\n                      Edit your Community Page\n                    </button>\n\n                    <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"username\")}>\n                      Edit your Username\n                    </button>\n\n                    <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"screenname\")}>\n                      Edit your Screen name\n                    </button>\n\n                    <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"password\")}>\n                      Change your password\n                    </button>\n\n                    <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"email\")}>\n                      Change Email Address\n                    </button>\n\n                    <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"linked\")}>\n                      Linked Accounts\n                    </button>\n\n                    <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"2fa\")}>\n                      Two-Factor Authentication\n                    </button>\n\n                    <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"sessions\")}>\n                      Active Sessions\n                    </button>\n                  </div>\n                </section>\n\n                <section className=\"st-sectionCard st-sectionCard--tight\" aria-label=\"Data and account\">\n                  <div className=\"st-cardTitleRow\">\n                    <div className=\"st-cardTitle\">Data &amp; Account</div>\n                  </div>\n\n                  <div className=\"st-ctaRow\">\n                    <button type=\"button\" className=\"st-actionBtn\" onClick={() => openModal(\"download\")}>\n                      Download Your Data\n                    </button>\n\n                    <button\n                      type=\"button\"\n                      className=\"st-actionBtn\"\n                      onClick={async () => {\n                        try {\n                          await authApi.logout();\n                        } catch {\n                          // Ignore errors\n                        }\n                        if (typeof onLogout === \"function\") onLogout();\n                        navigate(\"/\", { replace: true });\n                      }}\n                    >\n                      Log Out\n                    </button>\n                  </div>\n\n                  <div className=\"st-ctaRow\" style={{ marginTop: 12 }}>\n                    <button\n                      type=\"button\"\n                      className=\"st-actionBtn st-actionBtn--danger\"\n                      onClick={() => openModal(\"delete\")}\n                    >\n                      Delete Account\n                    </button>\n\n                    <button\n                      type=\"button\"\n                      className=\"st-actionBtn\"\n                      onClick={() => openModal(\"deactivate\")}\n                    >\n                      Deactivate Account\n                    </button>\n                  </div>\n                </section>\n              </>\n            )}\n\n            {/* Personal Info */}\n            {activeNav === \"personal\" && (\n              <>\n                <h1 className=\"st-title\">Personal Info</h1>\n                <p className=\"st-subtitle\">\n                  These details help personalize your account experience.\n                </p>\n\n                <section className=\"st-sectionCard\" aria-label=\"Personal info form\">\n                  <div className=\"st-formGrid\">\n                    <div className=\"st-field\">\n                      <div className=\"st-fieldLabel\">Display Name</div>\n                      <input\n                        className=\"st-input\"\n                        placeholder=\"e.g., John Smith\"\n                        value={personalInfo.displayName}\n                        onChange={(e) => setPersonalInfo((p) => ({ ...p, displayName: e.target.value }))}\n                      />\n                    </div>\n\n                    <div className=\"st-field\">\n                      <div className=\"st-fieldLabel\">Time Zone</div>\n                      <select\n                        className=\"st-input\"\n                        value={personalInfo.timezone}\n                        onChange={(e) => setPersonalInfo((p) => ({ ...p, timezone: e.target.value }))}\n                      >\n                        <option value=\"America/New_York\">America/New_York</option>\n                        <option value=\"America/Chicago\">America/Chicago</option>\n                        <option value=\"America/Denver\">America/Denver</option>\n                        <option value=\"America/Los_Angeles\">America/Los_Angeles</option>\n                        <option value=\"Europe/London\">Europe/London</option>\n                        <option value=\"Europe/Paris\">Europe/Paris</option>\n                        <option value=\"Asia/Tokyo\">Asia/Tokyo</option>\n                      </select>\n                    </div>\n\n                    <div className=\"st-field\">\n                      <div className=\"st-fieldLabel\">Country</div>\n                      <input\n                        className=\"st-input\"\n                        value={personalInfo.country}\n                        onChange={(e) => setPersonalInfo((p) => ({ ...p, country: e.target.value }))}\n                      />\n                    </div>\n\n                    <div className=\"st-field\">\n                      <div className=\"st-fieldLabel\">Region / State</div>\n                      <input\n                        className=\"st-input\"\n                        placeholder=\"Region\"\n                        value={personalInfo.region}\n                        onChange={(e) => setPersonalInfo((p) => ({ ...p, region: e.target.value }))}\n                      />\n                    </div>\n\n                    <div className=\"st-field\">\n                      <div className=\"st-fieldLabel\">Pronouns</div>\n                      <input\n                        className=\"st-input\"\n                        placeholder=\"e.g., she/her, they/them\"\n                        value={personalInfo.pronouns}\n                        onChange={(e) => setPersonalInfo((p) => ({ ...p, pronouns: e.target.value }))}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"st-formFooter\">\n                    {modalStatus && <div className=\"st-mutedNote\">{modalStatus}</div>}\n                    <button type=\"button\" className=\"st-saveBtn\" onClick={handleSavePersonalInfo}>\n                      Save Changes\n                    </button>\n                  </div>\n                </section>\n              </>\n            )}\n\n            {/* Privacy */}\n            {activeNav === \"privacy\" && (\n              <>\n                <h1 className=\"st-title\">Privacy</h1>\n                <p className=\"st-subtitle\">Control how others can interact with you.</p>\n\n                <div className=\"st-pillStack\" aria-label=\"Privacy options\">\n                  <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"blocked\")}>\n                    Blocked Users ({blockedUsers.length})\n                  </button>\n                  <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"muted\")}>\n                    Muted Words ({mutedWords.length})\n                  </button>\n                  <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"filters\")}>\n                    Content Filters\n                  </button>\n                  <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"dm\")}>\n                    DM Permissions\n                  </button>\n                </div>\n              </>\n            )}\n\n            {/* SKINS */}\n            {activeNav === \"skins\" && (\n              <>\n                <div className=\"st-titleRow\">\n                  <h1 className=\"st-title st-title--noMargin\">Skins</h1>\n\n                  <button type=\"button\" className=\"st-newSkinBtn\" onClick={() => openModal(\"skin\")}>\n                    <span className=\"st-newSkinIcon\">+</span>\n                    New Skin\n                  </button>\n                </div>\n\n                <p className=\"st-subtitle\">\n                  Choose reading skins for works. When you select a skin in the editor, readers will see that theme when viewing.\n                </p>\n\n                <div className=\"st-skinsBlock\">\n                  <h2 className=\"st-skinsHeader\">Built-in Work Skins</h2>\n                  <p className=\"st-mutedNote\" style={{ marginBottom: 12 }}>\n                    These skins are available in the work editor under the \"Skin\" option.\n                  </p>\n\n                  <div className=\"st-skinTray\" aria-label=\"Work skins\">\n                    <div className=\"st-skinTile st-skinTile--builtin\">\n                      <div className=\"st-skinPreview st-skinPreview--default\">\n                        <div className=\"st-skinPreviewText\">Aa</div>\n                      </div>\n                      <div className=\"st-skinName\">Default</div>\n                      <div className=\"st-skinDesc\">Classic Sable - warm, forest-inspired reading</div>\n                    </div>\n\n                    <div className=\"st-skinTile st-skinTile--builtin\">\n                      <div className=\"st-skinPreview st-skinPreview--parchment\">\n                        <div className=\"st-skinPreviewText\">Aa</div>\n                      </div>\n                      <div className=\"st-skinName\">Parchment</div>\n                      <div className=\"st-skinDesc\">Warm cream tones with sepia accents</div>\n                    </div>\n\n                    <div className=\"st-skinTile st-skinTile--empty\" aria-hidden=\"true\" />\n                    <div className=\"st-skinTile st-skinTile--empty\" aria-hidden=\"true\" />\n                  </div>\n                </div>\n\n                <div className=\"st-skinsBlock\" style={{ marginTop: 24 }}>\n                  <h2 className=\"st-skinsHeader\">Custom Skins</h2>\n                  <p className=\"st-mutedNote\" style={{ marginBottom: 12 }}>\n                    Create your own CSS skins. See the <a href=\"/faq#skins\" style={{ color: \"#244b2b\" }}>FAQ</a> for a tutorial.\n                  </p>\n\n                  <div className=\"st-skinTray\" aria-label=\"Custom skins\">\n                    {customSkins.length === 0 ? (\n                      <>\n                        <div className=\"st-skinTile st-skinTile--empty\">\n                          <div className=\"st-skinEmptyText\">No custom skins yet</div>\n                        </div>\n                        <div className=\"st-skinTile st-skinTile--empty\" aria-hidden=\"true\" />\n                        <div className=\"st-skinTile st-skinTile--empty\" aria-hidden=\"true\" />\n                        <div className=\"st-skinTile st-skinTile--empty\" aria-hidden=\"true\" />\n                      </>\n                    ) : (\n                      <>\n                        {customSkins.map((skin) => (\n                          <div key={skin._id} className=\"st-skinTile st-skinTile--custom\">\n                            <div className=\"st-skinPreview st-skinPreview--custom\">\n                              <div className=\"st-skinPreviewText\">Aa</div>\n                            </div>\n                            <div className=\"st-skinName\">{skin.name}</div>\n                            <div className=\"st-skinDesc\">\n                              {skin.appliesTo === \"work\" ? \"Works\" : \"Community Page\"}\n                            </div>\n                            <button\n                              type=\"button\"\n                              className=\"st-skinDeleteBtn\"\n                              onClick={() => handleSkinDelete(skin._id)}\n                              aria-label={`Delete ${skin.name}`}\n                              title=\"Delete skin\"\n                            >\n                              \n                            </button>\n                          </div>\n                        ))}\n                        {/* Fill remaining slots */}\n                        {customSkins.length < 4 && Array(4 - customSkins.length).fill(null).map((_, i) => (\n                          <div key={`empty-${i}`} className=\"st-skinTile st-skinTile--empty\" aria-hidden=\"true\" />\n                        ))}\n                      </>\n                    )}\n                  </div>\n                </div>\n              </>\n            )}\n\n            {/* Audio */}\n            {activeNav === \"audio\" && (\n              <>\n                <h1 className=\"st-title\">Audio</h1>\n                <p className=\"st-subtitle\">Audio preferences and privacy settings.</p>\n\n                <div className=\"st-pillStack\" aria-label=\"Audio options\">\n                  <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"playback\")}>\n                    Playback Preferences\n                  </button>\n                  <button type=\"button\" className=\"st-pillBtn\" onClick={() => openModal(\"audioPrivacy\")}>\n                    Audio Privacy\n                  </button>\n                </div>\n              </>\n            )}\n          </main>\n\n          {/* RIGHT COLUMN */}\n          <aside className=\"st-right\" aria-label=\"Settings sidebar\">\n            <section className=\"st-profileCard\" aria-label=\"Profile card\">\n              <div className=\"st-profileTop\">\n                <div className=\"st-avatarWrap\">\n                  <img className=\"st-avatar\" src={user?.avatarUrl || profileImg} alt=\"Profile\" />\n                </div>\n\n                <div className=\"st-profileNames\">\n                  <div className=\"st-screenName\">{displayName.toUpperCase()}</div>\n                  <div className=\"st-username\">{effectiveUsername}</div>\n                </div>\n              </div>\n            </section>\n\n            <section className=\"st-rightCard\" aria-label=\"Account visibility\">\n              <h2 className=\"st-rightTitle\">Account Visibility</h2>\n\n              <div className=\"st-radioGroup\" role=\"radiogroup\" aria-label=\"Visibility options\">\n                <label className=\"st-radioRow\">\n                  <input\n                    type=\"radio\"\n                    name=\"visibility\"\n                    value=\"public\"\n                    checked={visibility === \"public\"}\n                    onChange={() => handleVisibilityChange(\"public\")}\n                  />\n                  <div>\n                    <div className=\"st-radioLabel\">Public</div>\n                    <div className=\"st-radioDesc\">Everyone can see your works, posts, and comments</div>\n                  </div>\n                </label>\n\n                <label className=\"st-radioRow\">\n                  <input\n                    type=\"radio\"\n                    name=\"visibility\"\n                    value=\"private\"\n                    checked={visibility === \"private\"}\n                    onChange={() => handleVisibilityChange(\"private\")}\n                  />\n                  <div>\n                    <div className=\"st-radioLabel\">Private</div>\n                    <div className=\"st-radioDesc\">\n                      Your works, posts, and comments are visible only to those in your community\n                    </div>\n                  </div>\n                </label>\n\n                <label className=\"st-radioRow\">\n                  <input\n                    type=\"radio\"\n                    name=\"visibility\"\n                    value=\"invisible\"\n                    checked={visibility === \"invisible\"}\n                    onChange={() => handleVisibilityChange(\"invisible\")}\n                  />\n                  <div>\n                    <div className=\"st-radioLabel\">Invisible</div>\n                    <div className=\"st-radioDesc\">Your works, posts, and comments are visible only to you.</div>\n                  </div>\n                </label>\n              </div>\n            </section>\n          </aside>\n        </div>\n      </div>\n\n      {/* Goodbye (Delete / Deactivate) */}\n      {isGoodbyeModal && (\n        <div className=\"st-modalOverlay\" role=\"dialog\" aria-modal=\"true\" onClick={closeModal}>\n          <div className=\"st-modal\" onClick={(e) => e.stopPropagation()}>\n            <button type=\"button\" className=\"st-modalClose\" onClick={closeModal} aria-label=\"Close\">\n              x\n            </button>\n\n            <div className=\"st-goodbye\">\n              <div className=\"st-goodbyeTitle\">Sad To See You Go!</div>\n              <div className=\"st-goodbyeMsg\">\n                Are you sure you want to {goodbyeActionLabel()} your account?\n                {activeModal === \"delete\" && \" This action cannot be undone.\"}\n              </div>\n\n              {activeModal === \"delete\" && (\n                <div className=\"st-field st-field--modal\" style={{ marginTop: 16 }}>\n                  <div className=\"st-fieldLabel\">Enter your password to confirm</div>\n                  <div className=\"st-inputWrap\">\n                    <input\n                      className=\"st-input\"\n                      type={showPassword ? \"text\" : \"password\"}\n                      value={modalValue}\n                      onChange={(e) => setModalValue(e.target.value)}\n                      placeholder=\"Your password\"\n                    />\n                    <button\n                      type=\"button\"\n                      className=\"st-passwordToggle\"\n                      onClick={() => setShowPassword((v) => !v)}\n                      aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                    >\n                      {showPassword ? \"\" : \"\"}\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {modalStatus && <div className=\"st-mutedNote\" style={{ marginTop: 10, color: \"red\" }}>{modalStatus}</div>}\n\n              <div className=\"st-goodbyeActions\">\n                <button\n                  type=\"button\"\n                  className=\"st-goodbyeBtn\"\n                  onClick={handleConfirmGoodbye}\n                  disabled={modalLoading || (activeModal === \"delete\" && !modalValue)}\n                >\n                  {modalLoading ? \"Processing...\" : \"Yes\"}\n                </button>\n                <button type=\"button\" className=\"st-goodbyeBtn\" onClick={closeModal}>\n                  No\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Skins */}\n      {isSkinModal && (\n        <div className=\"st-modalOverlay\" role=\"dialog\" aria-modal=\"true\" onClick={skinSaving ? undefined : closeModal}>\n          <div className=\"st-modal st-modal--wide\" onClick={(e) => e.stopPropagation()}>\n            <button type=\"button\" className=\"st-modalClose\" onClick={closeModal} disabled={skinSaving} aria-label=\"Close\">\n              x\n            </button>\n\n            <div className=\"st-skinModalHead\">\n              <div className=\"st-skinModalTitle\">Create A New Skin</div>\n              <div className=\"st-skinModalSub\">Write CSS below to customize how your works look. Your skins will be available in the work editor.</div>\n            </div>\n\n            <div className=\"st-skinForm\">\n              <div className=\"st-field\">\n                <div className=\"st-fieldLabel\">Skin Name</div>\n                <input\n                  className=\"st-input\"\n                  value={skinName}\n                  onChange={(e) => setSkinName(e.target.value)}\n                  placeholder=\"e.g., Medieval Manuscript\"\n                  disabled={skinSaving}\n                />\n              </div>\n\n              <div className=\"st-field\">\n                <div className=\"st-fieldLabel\">Applies To</div>\n                <select\n                  className=\"st-input\"\n                  value={skinAppliesTo}\n                  onChange={(e) => setSkinAppliesTo(e.target.value)}\n                  disabled={skinSaving}\n                >\n                  <option value=\"work\">Works</option>\n                  <option value=\"community\">Community Page</option>\n                </select>\n              </div>\n\n              <div className=\"st-field\">\n                <div className=\"st-fieldLabel\">CSS</div>\n                <textarea\n                  className=\"st-textarea\"\n                  value={skinCss}\n                  onChange={(e) => setSkinCss(e.target.value)}\n                  placeholder=\"/* Your custom CSS here */\"\n                  disabled={skinSaving}\n                  style={{ minHeight: 300, fontFamily: \"ui-monospace, SFMono-Regular, Menlo, Monaco, monospace\" }}\n                />\n              </div>\n\n              {skinError && (\n                <div className=\"st-mutedNote\" style={{ color: \"red\", marginTop: 8 }}>{skinError}</div>\n              )}\n            </div>\n\n            <div className=\"st-modalActions\">\n              <button type=\"button\" className=\"st-actionBtn\" onClick={closeModal} disabled={skinSaving}>\n                Cancel\n              </button>\n              <button type=\"button\" className=\"st-actionBtn st-actionBtn--primary\" onClick={handleSkinSave} disabled={skinSaving}>\n                {skinSaving ? \"Saving...\" : \"Save Skin\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Mini modal */}\n      {isMiniEditModal && (\n        <div className=\"st-modalOverlay\" role=\"dialog\" aria-modal=\"true\" onClick={closeModal}>\n          <div className=\"st-modal\" onClick={(e) => e.stopPropagation()}>\n            <button type=\"button\" className=\"st-modalClose\" onClick={closeModal} aria-label=\"Close\">\n              x\n            </button>\n\n            <div className=\"st-miniModalHead\">\n              <div className=\"st-miniTitle\">{modalTitle()}</div>\n            </div>\n\n            <div className=\"st-miniBody\">{renderMiniModalBody()}</div>\n\n            {renderMiniModalActions()}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./Bookmarks.css\";\nimport { bookmarksApi } from \"../api\";\nimport { SableLoader, DropCapTitle } from \"../components\";\n\nexport default function Bookmarks() {\n  const navigate = useNavigate();\n  const [bookmarks, setBookmarks] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [filter, setFilter] = React.useState(\"all\"); // all, work, post, audio\n\n  React.useEffect(() => {\n    async function loadBookmarks() {\n      try {\n        const type = filter === \"all\" ? undefined : filter;\n        const data = await bookmarksApi.list(type, 1, 50);\n        setBookmarks(data.bookmarks || []);\n      } catch (err) {\n        console.error(\"Failed to load bookmarks:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadBookmarks();\n  }, [filter]);\n\n  async function removeBookmark(bookmark) {\n    try {\n      if (bookmark.type === \"work\") {\n        await bookmarksApi.unbookmarkWork(bookmark.workId);\n      } else if (bookmark.type === \"post\") {\n        await bookmarksApi.unbookmarkPost(bookmark.postId);\n      } else if (bookmark.type === \"audio\") {\n        await bookmarksApi.unbookmarkAudio(bookmark.audioId);\n      }\n      setBookmarks((prev) => prev.filter((b) => b._id !== bookmark._id));\n    } catch (err) {\n      console.error(\"Failed to remove bookmark:\", err);\n    }\n  }\n\n  function handleOpenBookmark(bookmark) {\n    if (bookmark.type === \"work\" && bookmark.workId) {\n      navigate(`/works/${bookmark.workId}`);\n    } else if (bookmark.type === \"post\" && bookmark.postId) {\n      // Navigate to post (community feed)\n      navigate(`/communities`);\n    } else if (bookmark.type === \"audio\" && bookmark.workId) {\n      // Navigate to the work that contains the audio\n      navigate(`/works/${bookmark.workId}`);\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"bookmarksPage\">\n        <DropCapTitle title=\"Your Bookmarks\" variant=\"page\" className=\"bookmarksTitle\" />\n        <SableLoader />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bookmarksPage\">\n      <div className=\"bookmarksHeader\">\n        <DropCapTitle title=\"Your Bookmarks\" variant=\"page\" className=\"bookmarksTitle\" />\n\n        <div className=\"bookmarksFilters\">\n          <button\n            type=\"button\"\n            className={`bookmarksFilterBtn ${filter === \"all\" ? \"active\" : \"\"}`}\n            onClick={() => setFilter(\"all\")}\n          >\n            All\n          </button>\n          <button\n            type=\"button\"\n            className={`bookmarksFilterBtn ${filter === \"work\" ? \"active\" : \"\"}`}\n            onClick={() => setFilter(\"work\")}\n          >\n            Works\n          </button>\n          <button\n            type=\"button\"\n            className={`bookmarksFilterBtn ${filter === \"post\" ? \"active\" : \"\"}`}\n            onClick={() => setFilter(\"post\")}\n          >\n            Posts\n          </button>\n          <button\n            type=\"button\"\n            className={`bookmarksFilterBtn ${filter === \"audio\" ? \"active\" : \"\"}`}\n            onClick={() => setFilter(\"audio\")}\n          >\n            Audio\n          </button>\n        </div>\n      </div>\n\n      {bookmarks.length === 0 ? (\n        <div className=\"bookmarksEmpty\">\n          <p>You haven't bookmarked anything yet.</p>\n          <p>\n            Browse the <Link to=\"/browse\">library</Link> or{\" \"}\n            <Link to=\"/communities\">communities</Link> to find works to bookmark.\n          </p>\n        </div>\n      ) : (\n        <div className=\"bookmarksSections\">\n          {/* Works Section */}\n          {(filter === \"all\" || filter === \"work\") && bookmarks.filter(b => b.type === \"work\").length > 0 && (\n            <section className=\"bookmarksSection\">\n              <h2 className=\"bookmarksSectionTitle\">Works</h2>\n              <div className=\"bookmarksGrid\" aria-label=\"Bookmarked works\">\n                {bookmarks.filter(b => b.type === \"work\").map((bookmark) => (\n                  <article\n                    key={bookmark._id}\n                    className=\"bookmarkCard\"\n                    aria-label={`Bookmarked work: ${bookmark.title}`}\n                  >\n                    <button\n                      type=\"button\"\n                      className=\"bookmarkOpen\"\n                      aria-label={`Open: ${bookmark.title}`}\n                      onClick={() => handleOpenBookmark(bookmark)}\n                    >\n                      <div className=\"coverWrap\">\n                        {bookmark.coverUrl ? (\n                          <img\n                            className=\"coverImg\"\n                            src={bookmark.coverUrl}\n                            alt={`${bookmark.title} cover`}\n                          />\n                        ) : (\n                          <div className=\"coverPlaceholder\" aria-hidden=\"true\">W</div>\n                        )}\n                      </div>\n                      <div className=\"meta\">\n                        <div className=\"workTitle\">{bookmark.title || \"Untitled\"}</div>\n                      </div>\n                    </button>\n                    <div className=\"meta meta--footer\">\n                      <Link\n                        className=\"workAuthor workAuthorLink\"\n                        to={`/communities/${bookmark.authorUsername || \"unknown\"}`}\n                      >\n                        @{bookmark.authorUsername || \"unknown\"}\n                      </Link>\n                      <button\n                        type=\"button\"\n                        className=\"bookmarkRemove\"\n                        onClick={() => removeBookmark(bookmark)}\n                        aria-label={`Remove bookmark: ${bookmark.title}`}\n                      >\n                        x\n                      </button>\n                    </div>\n                  </article>\n                ))}\n              </div>\n            </section>\n          )}\n\n          {/* Audio Section */}\n          {(filter === \"all\" || filter === \"audio\") && bookmarks.filter(b => b.type === \"audio\").length > 0 && (\n            <section className=\"bookmarksSection\">\n              <h2 className=\"bookmarksSectionTitle\">Audio</h2>\n              <div className=\"bookmarksGrid\" aria-label=\"Bookmarked audio\">\n                {bookmarks.filter(b => b.type === \"audio\").map((bookmark) => (\n                  <article\n                    key={bookmark._id}\n                    className=\"bookmarkCard\"\n                    aria-label={`Bookmarked audio: ${bookmark.title}`}\n                  >\n                    <button\n                      type=\"button\"\n                      className=\"bookmarkOpen\"\n                      aria-label={`Open: ${bookmark.title}`}\n                      onClick={() => handleOpenBookmark(bookmark)}\n                    >\n                      <div className=\"coverWrap\">\n                        {bookmark.coverUrl ? (\n                          <img\n                            className=\"coverImg\"\n                            src={bookmark.coverUrl}\n                            alt={`${bookmark.title} cover`}\n                          />\n                        ) : (\n                          <div className=\"coverPlaceholder coverPlaceholder--audio\" aria-hidden=\"true\"></div>\n                        )}\n                      </div>\n                      <div className=\"meta\">\n                        <div className=\"workTitle\">{bookmark.title || \"Untitled\"}</div>\n                      </div>\n                    </button>\n                    <div className=\"meta meta--footer\">\n                      <Link\n                        className=\"workAuthor workAuthorLink\"\n                        to={`/communities/${bookmark.authorUsername || \"unknown\"}`}\n                      >\n                        @{bookmark.authorUsername || \"unknown\"}\n                      </Link>\n                      <button\n                        type=\"button\"\n                        className=\"bookmarkRemove\"\n                        onClick={() => removeBookmark(bookmark)}\n                        aria-label={`Remove bookmark: ${bookmark.title}`}\n                      >\n                        x\n                      </button>\n                    </div>\n                  </article>\n                ))}\n              </div>\n            </section>\n          )}\n\n          {/* Posts Section */}\n          {(filter === \"all\" || filter === \"post\") && bookmarks.filter(b => b.type === \"post\").length > 0 && (\n            <section className=\"bookmarksSection\">\n              <h2 className=\"bookmarksSectionTitle\">Posts</h2>\n              <div className=\"bookmarksGrid\" aria-label=\"Bookmarked posts\">\n                {bookmarks.filter(b => b.type === \"post\").map((bookmark) => (\n                  <article\n                    key={bookmark._id}\n                    className=\"bookmarkCard\"\n                    aria-label={`Bookmarked post: ${bookmark.title}`}\n                  >\n                    <button\n                      type=\"button\"\n                      className=\"bookmarkOpen\"\n                      aria-label={`Open: ${bookmark.title}`}\n                      onClick={() => handleOpenBookmark(bookmark)}\n                    >\n                      <div className=\"coverWrap\">\n                        {bookmark.coverUrl ? (\n                          <img\n                            className=\"coverImg\"\n                            src={bookmark.coverUrl}\n                            alt={`${bookmark.title} cover`}\n                          />\n                        ) : (\n                          <div className=\"coverPlaceholder\" aria-hidden=\"true\">P</div>\n                        )}\n                      </div>\n                      <div className=\"meta\">\n                        <div className=\"workTitle\">{bookmark.title || \"Untitled\"}</div>\n                      </div>\n                    </button>\n                    <div className=\"meta meta--footer\">\n                      <Link\n                        className=\"workAuthor workAuthorLink\"\n                        to={`/communities/${bookmark.authorUsername || \"unknown\"}`}\n                      >\n                        @{bookmark.authorUsername || \"unknown\"}\n                      </Link>\n                      <button\n                        type=\"button\"\n                        className=\"bookmarkRemove\"\n                        onClick={() => removeBookmark(bookmark)}\n                        aria-label={`Remove bookmark: ${bookmark.title}`}\n                      >\n                        x\n                      </button>\n                    </div>\n                  </article>\n                ))}\n              </div>\n            </section>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","\nimport React from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport \"./NewDraft.css\";\nimport { draftsApi } from \"../api/drafts\";\nimport { uploadsApi } from \"../api/uploads\";\nimport importApi from \"../api/import\";\n\nimport chapterIcon from \"../assets/images/chapter_icon.png\";\nimport importIcon from \"../assets/images/import_icon.png\";\nimport tagsIcon from \"../assets/images/tags_icon.png\";\nimport skinsIcon from \"../assets/images/skins_icon.png\";\nimport privacyIcon from \"../assets/images/privacy_icon.png\";\nimport langIcon from \"../assets/images/lang_icon.png\";\nimport imageIcon from \"../assets/images/image_icon.png\";\nimport previewIcon from \"../assets/images/preview_icon.png\";\n\nconst SKIN_OPTIONS = [\"Default\", \"Parchment\"];\nconst PRIVACY_OPTIONS = [\"Public\", \"Following\", \"Private\"];\nconst LANGUAGE_OPTIONS = [\"English\", \"Vietnamese\", \"Japanese\", \"French\", \"Spanish\"];\n\n// Common genres for creative writing\nconst GENRE_SUGGESTIONS = [\n  \"Romance\", \"Fantasy\", \"Science Fiction\", \"Mystery\", \"Thriller\", \"Horror\",\n  \"Drama\", \"Comedy\", \"Action\", \"Adventure\", \"Slice of Life\", \"Angst\",\n  \"Fluff\", \"Hurt/Comfort\", \"Historical\", \"Supernatural\", \"Dystopian\"\n];\n\nfunction makeId(prefix = \"ch\") {\n  return `${prefix}_${Date.now()}_${Math.random().toString(16).slice(2)}`;\n}\n\nfunction makeDefaultChapter() {\n  return { id: makeId(\"ch\"), title: \"Chapter 1\", body: \"\", order: 0, audioUrl: \"\" };\n}\n\nfunction ActionPill({ icon, label, subLabel, active, onClick }) {\n  return (\n    <button\n      type=\"button\"\n      className={active ? \"nd-pill nd-pill--active\" : \"nd-pill\"}\n      onClick={onClick}\n      aria-label={label}\n      title={label}\n    >\n      <span className=\"nd-pillIcon\" aria-hidden=\"true\">\n        {icon}\n      </span>\n\n      <span className=\"nd-pillText\">\n        <span className=\"nd-pillLabel\">{label}</span>\n        {subLabel ? <span className=\"nd-pillSub\">{subLabel}</span> : null}\n      </span>\n    </button>\n  );\n}\n\nfunction renderBodyWithImages(text) {\n  const src = String(text || \"\");\n  const re = /!\\[([^\\]]*)\\]\\(([^)]+)\\)/g;\n\n  const out = [];\n  let lastIndex = 0;\n  let match;\n  let key = 0;\n\n  while ((match = re.exec(src)) !== null) {\n    const [full, altRaw, urlRaw] = match;\n    const start = match.index;\n    const end = start + full.length;\n\n    if (start > lastIndex) {\n      out.push({ type: \"text\", value: src.slice(lastIndex, start), key: `t_${key++}` });\n    }\n\n    out.push({\n      type: \"image\",\n      alt: altRaw || \"image\",\n      url: urlRaw,\n      key: `i_${key++}`,\n    });\n\n    lastIndex = end;\n  }\n\n  if (lastIndex < src.length) {\n    out.push({ type: \"text\", value: src.slice(lastIndex), key: `t_${key++}` });\n  }\n\n  return out.map((node) => {\n    if (node.type === \"image\") {\n      return (\n        <div key={node.key} style={{ margin: \"12px 0\" }}>\n          <img\n            src={node.url}\n            alt={node.alt}\n            style={{\n              maxWidth: \"100%\",\n              height: \"auto\",\n              display: \"block\",\n              borderRadius: 12,\n              boxShadow: \"0 10px 18px rgba(0,0,0,0.10)\",\n            }}\n          />\n        </div>\n      );\n    }\n\n    const lines = String(node.value).split(\"\\n\");\n    return (\n      <span key={node.key}>\n        {lines.map((line, idx) => (\n          <React.Fragment key={`${node.key}_${idx}`}>\n            {line}\n            {idx < lines.length - 1 ? <br /> : null}\n          </React.Fragment>\n        ))}\n      </span>\n    );\n  });\n}\n\nexport default function NewDraft() {\n  const navigate = useNavigate();\n  const [params] = useSearchParams();\n  const draftId = params.get(\"draft\") || \"\";\n\n  const [title, setTitle] = React.useState(\"\");\n  const [chapters, setChapters] = React.useState(() => {\n    const ch = makeDefaultChapter();\n    return [ch];\n  });\n  const [activeChapterId, setActiveChapterId] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (!activeChapterId && chapters.length > 0) {\n      setActiveChapterId(chapters[0].id);\n    }\n  }, [activeChapterId, chapters]);\n\n  const activeChapter = chapters.find((c) => c.id === activeChapterId) || chapters[0] || null;\n  const body = activeChapter?.body || \"\";\n  const chapterAudioUrl = activeChapter?.audioUrl || \"\";\n\n  function setBody(newBody) {\n    setChapters((prev) =>\n      prev.map((ch) =>\n        ch.id === activeChapterId\n          ? { ...ch, body: typeof newBody === \"function\" ? newBody(ch.body) : newBody }\n          : ch\n      )\n    );\n  }\n\n  function setChapterAudio(url) {\n    setChapters((prev) =>\n      prev.map((ch) =>\n        ch.id === activeChapterId\n          ? { ...ch, audioUrl: url }\n          : ch\n      )\n    );\n  }\n\n  function addChapter() {\n    const newCh = { id: makeId(\"ch\"), title: `Chapter ${chapters.length + 1}`, body: \"\", order: chapters.length, audioUrl: \"\" };\n    setChapters((prev) => [...prev, newCh]);\n    setActiveChapterId(newCh.id);\n  }\n\n  function renameChapter(chId, newTitle) {\n    setChapters((prev) => prev.map((ch) => (ch.id === chId ? { ...ch, title: newTitle } : ch)));\n  }\n\n  function deleteChapter(chId) {\n    if (chapters.length <= 1) return;\n    setChapters((prev) => {\n      const next = prev.filter((ch) => ch.id !== chId);\n      if (activeChapterId === chId && next.length > 0) {\n        setActiveChapterId(next[0].id);\n      }\n      return next.map((ch, idx) => ({ ...ch, order: idx }));\n    });\n  }\n\n  function moveChapter(chId, direction) {\n    setChapters((prev) => {\n      const idx = prev.findIndex((ch) => ch.id === chId);\n      if (idx < 0) return prev;\n      const newIdx = idx + direction;\n      if (newIdx < 0 || newIdx >= prev.length) return prev;\n      const next = [...prev];\n      [next[idx], next[newIdx]] = [next[newIdx], next[idx]];\n      return next.map((ch, i) => ({ ...ch, order: i }));\n    });\n  }\n\n  const [tags, setTags] = React.useState([]);\n  const [skin, setSkin] = React.useState(\"Default\");\n  const [privacy, setPrivacy] = React.useState(\"Public\");\n  const [language, setLanguage] = React.useState(\"English\");\n  const [genre, setGenre] = React.useState(\"\");\n  const [fandom, setFandom] = React.useState(\"\");\n  const [coverImageUrl, setCoverImageUrl] = React.useState(\"\");\n\n  const [audioUrl, setAudioUrl] = React.useState(\"\");\n  const [imageUrls, setImageUrls] = React.useState([]);\n\n  const [activeTool, setActiveTool] = React.useState(\"\");\n  const [tagInput, setTagInput] = React.useState(\"\");\n  const [genreInput, setGenreInput] = React.useState(\"\");\n  const [fandomInput, setFandomInput] = React.useState(\"\");\n  const [importUrl, setImportUrl] = React.useState(\"\");\n  const [importLoading, setImportLoading] = React.useState(false);\n  const [status, setStatus] = React.useState(\"\");\n  const [previewOn, setPreviewOn] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [loadingDraft, setLoadingDraft] = React.useState(false);\n\n  const bodyRef = React.useRef(null);\n\n  function toggleTool(tool) {\n    setActiveTool((prev) => (prev === tool ? \"\" : tool));\n  }\n\n  function insertIntoBody(text) {\n    const el = bodyRef.current;\n    if (!el) {\n      setBody((prev) => `${prev}${prev ? \"\\n\" : \"\"}${text}`);\n      return;\n    }\n\n    const start = el.selectionStart ?? body.length;\n    const end = el.selectionEnd ?? body.length;\n\n    const before = body.slice(0, start);\n    const after = body.slice(end);\n\n    const next = `${before}${text}${after}`;\n    setBody(next);\n\n    requestAnimationFrame(() => {\n      try {\n        el.focus();\n        const pos = start + text.length;\n        el.setSelectionRange(pos, pos);\n      } catch {\n        // ignore\n      }\n    });\n  }\n\n  // Formatting functions for toolbar\n  function wrapSelection(before, after) {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const end = el.selectionEnd;\n    const selectedText = body.slice(start, end);\n\n    const beforeText = body.slice(0, start);\n    const afterText = body.slice(end);\n\n    const newText = `${beforeText}${before}${selectedText}${after}${afterText}`;\n    setBody(newText);\n\n    requestAnimationFrame(() => {\n      try {\n        el.focus();\n        el.setSelectionRange(start + before.length, end + before.length);\n      } catch {\n        // ignore\n      }\n    });\n  }\n\n  function formatBold() {\n    wrapSelection(\"**\", \"**\");\n  }\n\n  function formatItalic() {\n    wrapSelection(\"*\", \"*\");\n  }\n\n  function formatUnderline() {\n    wrapSelection(\"<u>\", \"</u>\");\n  }\n\n  function formatStrike() {\n    wrapSelection(\"~~\", \"~~\");\n  }\n\n  function formatHeading() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const lineStart = body.lastIndexOf(\"\\n\", start - 1) + 1;\n    const beforeLine = body.slice(0, lineStart);\n    const afterLineStart = body.slice(lineStart);\n\n    setBody(`${beforeLine}## ${afterLineStart}`);\n  }\n\n  function formatLink() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const end = el.selectionEnd;\n    const selectedText = body.slice(start, end) || \"link text\";\n\n    const beforeText = body.slice(0, start);\n    const afterText = body.slice(end);\n\n    const newText = `${beforeText}[${selectedText}](url)${afterText}`;\n    setBody(newText);\n  }\n\n  function formatList() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const lineStart = body.lastIndexOf(\"\\n\", start - 1) + 1;\n    const beforeLine = body.slice(0, lineStart);\n    const afterLineStart = body.slice(lineStart);\n\n    setBody(`${beforeLine}- ${afterLineStart}`);\n  }\n\n  function formatQuote() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const lineStart = body.lastIndexOf(\"\\n\", start - 1) + 1;\n    const beforeLine = body.slice(0, lineStart);\n    const afterLineStart = body.slice(lineStart);\n\n    setBody(`${beforeLine}> ${afterLineStart}`);\n  }\n\n  function addTag() {\n    const cleaned = tagInput.trim().replace(/^#/, \"\");\n    if (!cleaned) return;\n    if (tags.includes(cleaned)) return;\n\n    setTags((prev) => [...prev, cleaned]);\n    setTagInput(\"\");\n  }\n\n  function removeTag(tag) {\n    setTags((prev) => prev.filter((t) => t !== tag));\n  }\n\n  // Load existing draft from backend\n  React.useEffect(() => {\n    if (!draftId) return;\n\n    async function loadDraft() {\n      setLoadingDraft(true);\n      try {\n        const response = await draftsApi.get(draftId);\n        const draft = response.draft;\n\n        setTitle(draft.title || \"\");\n        if (Array.isArray(draft.chapters) && draft.chapters.length > 0) {\n          setChapters(draft.chapters);\n          setActiveChapterId(draft.chapters[0].id);\n        }\n        setTags(Array.isArray(draft.tags) ? draft.tags : []);\n        setSkin(draft.skin || \"Default\");\n        setPrivacy(draft.privacy || \"Public\");\n        setLanguage(draft.language || \"English\");\n        setGenre(draft.genre || \"\");\n        setFandom(draft.fandom || \"\");\n        setCoverImageUrl(draft.coverImageUrl || \"\");\n        setAudioUrl(draft.audioUrl || \"\");\n        setImageUrls(Array.isArray(draft.imageUrls) ? draft.imageUrls : []);\n      } catch (err) {\n        console.error(\"Failed to load draft:\", err);\n        setStatus(\"Failed to load draft. It may have been deleted.\");\n      } finally {\n        setLoadingDraft(false);\n      }\n    }\n\n    loadDraft();\n  }, [draftId]);\n\n  async function saveDraft() {\n    const payload = {\n      title: title.trim() || \"Untitled\",\n      chapters: chapters.map((ch, idx) => ({\n        id: ch.id,\n        title: ch.title,\n        body: ch.body,\n        order: idx,\n        audioUrl: ch.audioUrl || \"\",\n      })),\n      tags,\n      skin,\n      privacy,\n      language,\n      genre: genre.trim() || \"\",\n      fandom: fandom.trim() || \"Original Work\",\n      coverImageUrl,\n      audioUrl,\n      imageUrls,\n    };\n\n    if (draftId) {\n      // Update existing draft\n      const response = await draftsApi.update(draftId, payload);\n      return response.draft._id;\n    } else {\n      // Create new draft\n      const response = await draftsApi.create({ title: payload.title });\n      const newId = response.draft._id;\n      // Update with full data\n      await draftsApi.update(newId, payload);\n      return newId;\n    }\n  }\n\n  async function handleSaveDraft() {\n    if (!genre.trim()) {\n      setStatus(\"Genre is required.\");\n      setTimeout(() => setStatus(\"\"), 3000);\n      return;\n    }\n\n    setLoading(true);\n    setStatus(\"Saving draft...\");\n    try {\n      await saveDraft();\n      setStatus(\"Draft saved!\");\n      setTimeout(() => navigate(\"/drafts\"), 500);\n    } catch (err) {\n      console.error(\"Failed to save draft:\", err);\n      setStatus(err.message || \"Failed to save draft.\");\n    } finally {\n      setLoading(false);\n      setTimeout(() => setStatus(\"\"), 3000);\n    }\n  }\n\n  async function handlePost() {\n    if (!genre.trim()) {\n      setStatus(\"Genre is required before publishing.\");\n      setTimeout(() => setStatus(\"\"), 3000);\n      return;\n    }\n\n    setLoading(true);\n    setStatus(\"Publishing...\");\n    try {\n      const savedDraftId = await saveDraft();\n      const response = await draftsApi.publish(savedDraftId);\n      const workId = response.work._id;\n      setStatus(\"Published!\");\n      setTimeout(() => navigate(`/works/${encodeURIComponent(workId)}`), 500);\n    } catch (err) {\n      console.error(\"Failed to publish:\", err);\n      setStatus(err.message || \"Failed to publish.\");\n    } finally {\n      setLoading(false);\n      setTimeout(() => setStatus(\"\"), 3000);\n    }\n  }\n\n  async function handleCoverUpload(e) {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n\n    try {\n      setStatus(\"Uploading cover image...\");\n      const response = await uploadsApi.upload(file, \"covers\");\n      setCoverImageUrl(response.url);\n      setStatus(\"Cover image uploaded.\");\n    } catch (err) {\n      console.error(\"Cover upload failed:\", err);\n      setStatus(\"Cover upload failed.\");\n    } finally {\n      e.target.value = \"\";\n      setTimeout(() => setStatus(\"\"), 2000);\n    }\n  }\n\n  async function handleAudioUpload(e) {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n\n    try {\n      setStatus(\"Uploading audio...\");\n      const response = await uploadsApi.upload(file, \"audio\");\n      setChapterAudio(response.url);\n      setStatus(\"Audio uploaded for this chapter.\");\n    } catch (err) {\n      console.error(\"Audio upload failed:\", err);\n      setStatus(\"Audio upload failed.\");\n    } finally {\n      e.target.value = \"\";\n      setTimeout(() => setStatus(\"\"), 2000);\n    }\n  }\n\n  async function handleImageUpload(e) {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n\n    try {\n      setStatus(\"Uploading image...\");\n      const response = await uploadsApi.upload(file, \"images\");\n      const url = response.url;\n\n      setImageUrls((prev) => [url, ...prev]);\n\n      const safeAlt = (file.name || \"image\").replace(/\\.[^/.]+$/, \"\");\n      const snippet = `\\n\\n![${safeAlt}](${url})\\n\\n`;\n      insertIntoBody(snippet);\n\n      setStatus(\"Image inserted into body.\");\n    } catch (err) {\n      console.error(\"Image upload failed:\", err);\n      setStatus(\"Image upload failed.\");\n    } finally {\n      e.target.value = \"\";\n      setTimeout(() => setStatus(\"\"), 2000);\n    }\n  }\n\n  async function handleImportUrl() {\n    if (!importUrl.trim()) {\n      setStatus(\"Please enter a URL to import\");\n      setTimeout(() => setStatus(\"\"), 3000);\n      return;\n    }\n\n    setImportLoading(true);\n    setStatus(\"Importing content...\");\n    try {\n      const response = await importApi.fromUrl(importUrl.trim());\n\n      // Set the imported content as the body of the current chapter\n      if (response.content) {\n        setBody(response.content);\n      }\n\n      // Set title if we got one and current title is empty\n      if (response.title && !title.trim()) {\n        setTitle(response.title);\n      }\n\n      setStatus(`Imported ${response.wordCount || 0} words successfully!`);\n      setImportUrl(\"\");\n    } catch (err) {\n      console.error(\"Import failed:\", err);\n      setStatus(err.message || \"Failed to import content.\");\n    } finally {\n      setImportLoading(false);\n      setTimeout(() => setStatus(\"\"), 3000);\n    }\n  }\n\n  const IconImg = ({ src, alt }) => (\n    <img\n      src={src}\n      alt={alt}\n      width={18}\n      height={18}\n      style={{ display: \"block\", width: 18, height: 18, objectFit: \"contain\" }}\n      draggable={false}\n    />\n  );\n\n  if (loadingDraft) {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\">\n          <h1 className=\"nd-title\">Loading Draft...</h1>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"nd-page\">\n      <div className=\"nd-shell\">\n        <h1 className=\"nd-title\">{draftId ? \"Edit Draft\" : \"New Draft\"}</h1>\n\n        <section className=\"nd-card\">\n          <div className=\"nd-pillRow\">\n            <ActionPill\n              icon={<IconImg src={chapterIcon} alt=\"Chapters\" />}\n              label=\"Chapters\"\n              subLabel={`${chapters.length}`}\n              onClick={() => toggleTool(\"chapters\")}\n              active={activeTool === \"chapters\"}\n            />\n            <ActionPill\n              icon={<IconImg src={importIcon} alt=\"Import\" />}\n              label=\"Import\"\n              subLabel=\"Soon\"\n              onClick={() => toggleTool(\"import\")}\n              active={activeTool === \"import\"}\n            />\n            <ActionPill\n              icon={<IconImg src={tagsIcon} alt=\"Tags\" />}\n              label=\"Tags\"\n              subLabel={tags.length ? `${tags.length}` : \"\"}\n              onClick={() => toggleTool(\"tags\")}\n              active={activeTool === \"tags\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Genre\"\n              subLabel={genre || \"Required\"}\n              onClick={() => toggleTool(\"genre\")}\n              active={activeTool === \"genre\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Fandom\"\n              subLabel={fandom || \"Original\"}\n              onClick={() => toggleTool(\"fandom\")}\n              active={activeTool === \"fandom\"}\n            />\n            <ActionPill\n              icon={<IconImg src={skinsIcon} alt=\"Skin\" />}\n              label=\"Skin\"\n              subLabel={skin}\n              onClick={() => toggleTool(\"skin\")}\n              active={activeTool === \"skin\"}\n            />\n            <ActionPill\n              icon={<IconImg src={privacyIcon} alt=\"Privacy\" />}\n              label=\"Privacy\"\n              subLabel={privacy}\n              onClick={() => toggleTool(\"privacy\")}\n              active={activeTool === \"privacy\"}\n            />\n            <ActionPill\n              icon={<IconImg src={langIcon} alt=\"Language\" />}\n              label=\"Language\"\n              subLabel={language}\n              onClick={() => toggleTool(\"language\")}\n              active={activeTool === \"language\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Cover\"\n              subLabel={coverImageUrl ? \"Set\" : \"None\"}\n              onClick={() => toggleTool(\"cover\")}\n              active={activeTool === \"cover\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Audio\"\n              subLabel={chapterAudioUrl ? \"Has Audio\" : \"None\"}\n              onClick={() => toggleTool(\"audio\")}\n              active={activeTool === \"audio\"}\n            />\n            <ActionPill\n              icon={<IconImg src={imageIcon} alt=\"Images\" />}\n              label=\"Images\"\n              subLabel={imageUrls.length ? `${imageUrls.length}` : \"0\"}\n              onClick={() => toggleTool(\"images\")}\n              active={activeTool === \"images\"}\n            />\n            <ActionPill\n              icon={<IconImg src={previewIcon} alt=\"Preview\" />}\n              label=\"Preview\"\n              subLabel={previewOn ? \"On\" : \"Off\"}\n              onClick={() => setPreviewOn((v) => !v)}\n              active={previewOn}\n            />\n          </div>\n\n          {activeTool === \"chapters\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Chapters</div>\n              <div className=\"nd-chapterList\">\n                {chapters.map((ch, idx) => (\n                  <div key={ch.id} className={`nd-chapterItem ${ch.id === activeChapterId ? \"nd-chapterItem--active\" : \"\"}`}>\n                    <button type=\"button\" className=\"nd-chapterSelect\" onClick={() => setActiveChapterId(ch.id)}>\n                      <input\n                        className=\"nd-chapterTitleInput\"\n                        value={ch.title}\n                        onChange={(e) => renameChapter(ch.id, e.target.value)}\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                    </button>\n                    <div className=\"nd-chapterActions\">\n                      <button type=\"button\" className=\"nd-chapterBtn\" onClick={() => moveChapter(ch.id, -1)} disabled={idx === 0} title=\"Move up\">\n                        \n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"nd-chapterBtn\"\n                        onClick={() => moveChapter(ch.id, 1)}\n                        disabled={idx === chapters.length - 1}\n                        title=\"Move down\"\n                      >\n                        \n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"nd-chapterBtn nd-chapterBtn--delete\"\n                        onClick={() => deleteChapter(ch.id)}\n                        disabled={chapters.length <= 1}\n                        title=\"Delete chapter\"\n                      >\n                        \n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <button type=\"button\" className=\"nd-ornateBtn nd-ornateBtn--small\" onClick={addChapter}>\n                + Add Chapter\n              </button>\n            </div>\n          )}\n\n          {activeTool === \"tags\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Tags</div>\n\n              <div style={{ display: \"flex\", gap: 8 }}>\n                <input className=\"nd-toolInput\" placeholder=\"Add a tag\" value={tagInput} onChange={(e) => setTagInput(e.target.value)} />\n                <button type=\"button\" className=\"nd-ornateBtn nd-ornateBtn--small\" onClick={addTag}>\n                  Add\n                </button>\n              </div>\n\n              {tags.length > 0 && (\n                <div className=\"nd-tags\">\n                  {tags.map((t) => (\n                    <button key={t} className=\"nd-tag\" onClick={() => removeTag(t)}>\n                      #{t} \n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTool === \"genre\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Genre <span style={{ color: \"#c44\", fontWeight: \"normal\" }}>(Required)</span></div>\n              <input\n                className=\"nd-toolInput\"\n                placeholder=\"Enter genre (e.g., Romance, Fantasy)\"\n                value={genre}\n                onChange={(e) => setGenre(e.target.value)}\n              />\n              <div className=\"nd-toolHint\" style={{ marginTop: 8 }}>\n                Suggestions:\n                <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 6, marginTop: 6 }}>\n                  {GENRE_SUGGESTIONS.map((g) => (\n                    <button\n                      key={g}\n                      type=\"button\"\n                      className=\"nd-tag\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() => setGenre(g)}\n                    >\n                      {g}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"fandom\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Fandom</div>\n              <input\n                className=\"nd-toolInput\"\n                placeholder=\"Enter fandom (leave empty for Original Work)\"\n                value={fandom}\n                onChange={(e) => setFandom(e.target.value)}\n              />\n              <div className=\"nd-toolHint\">\n                If your work is not based on an existing property, leave empty or enter \"Original Work\".\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"skin\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Skin</div>\n              <div className=\"nd-choiceRow\">\n                {SKIN_OPTIONS.map((opt) => (\n                  <label key={opt} className=\"nd-choice\">\n                    <input type=\"radio\" checked={skin === opt} onChange={() => setSkin(opt)} />\n                    <span>{opt}</span>\n                  </label>\n                ))}\n              </div>\n              <div className=\"nd-toolHint\">\n                Choose a reading skin for your work. Readers will see this theme when viewing.\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"privacy\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Privacy</div>\n              <div className=\"nd-choiceRow\">\n                {PRIVACY_OPTIONS.map((opt) => (\n                  <label key={opt} className=\"nd-choice\">\n                    <input type=\"radio\" checked={privacy === opt} onChange={() => setPrivacy(opt)} />\n                    <span>{opt}</span>\n                  </label>\n                ))}\n              </div>\n              <div className=\"nd-toolHint\">\n                Public: Anyone can view. Following: Only your followers. Private: Only you.\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"language\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Language</div>\n              <select className=\"nd-toolSelect\" value={language} onChange={(e) => setLanguage(e.target.value)}>\n                {LANGUAGE_OPTIONS.map((opt) => (\n                  <option key={opt}>{opt}</option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {activeTool === \"cover\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Cover Image / Thumbnail</div>\n              <input className=\"nd-toolInput\" type=\"file\" accept=\"image/*\" onChange={handleCoverUpload} />\n              <div className=\"nd-toolHint\">\n                Upload a cover image for your work. If not set, a default Sable cover will be used.\n              </div>\n              {coverImageUrl && (\n                <div style={{ marginTop: 12 }}>\n                  <img src={coverImageUrl} alt=\"Cover preview\" style={{ maxWidth: 200, borderRadius: 8 }} />\n                  <button\n                    type=\"button\"\n                    className=\"nd-ornateBtn nd-ornateBtn--small\"\n                    style={{ marginTop: 8, display: \"block\" }}\n                    onClick={() => setCoverImageUrl(\"\")}\n                  >\n                    Remove Cover\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTool === \"audio\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Chapter Audio</div>\n              <div className=\"nd-toolHint\" style={{ marginBottom: 8, fontWeight: 500 }}>\n                Currently editing: {activeChapter?.title || \"Chapter\"}\n              </div>\n              <input className=\"nd-toolInput\" type=\"file\" accept=\"audio/*\" onChange={handleAudioUpload} />\n              <div className=\"nd-toolHint\">\n                {chapterAudioUrl\n                  ? \"Audio attached to this chapter\"\n                  : \"Upload an audio file for this chapter. Each chapter can have its own audio.\"}\n              </div>\n              {chapterAudioUrl && (\n                <div style={{ marginTop: 8 }}>\n                  <audio controls src={chapterAudioUrl} style={{ width: \"100%\" }} />\n                  <button\n                    type=\"button\"\n                    className=\"nd-ornateBtn nd-ornateBtn--small\"\n                    style={{ marginTop: 8 }}\n                    onClick={() => setChapterAudio(\"\")}\n                  >\n                    Remove Audio\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTool === \"images\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Insert Image Into Body</div>\n              <input className=\"nd-toolInput\" type=\"file\" accept=\"image/*\" onChange={handleImageUpload} />\n              <div className=\"nd-toolHint\">Upload an image and it will be inserted into the work body at your cursor position.</div>\n            </div>\n          )}\n\n          {activeTool === \"import\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Import Content</div>\n\n              <div style={{ marginBottom: 12 }}>\n                <div className=\"nd-toolHint\" style={{ marginBottom: 8 }}>\n                  Import from URL (Google Docs, web pages, etc.)\n                </div>\n                <div style={{ display: \"flex\", gap: 8 }}>\n                  <input\n                    className=\"nd-toolInput\"\n                    placeholder=\"Paste URL here (e.g., Google Docs link)\"\n                    value={importUrl}\n                    onChange={(e) => setImportUrl(e.target.value)}\n                    style={{ flex: 1 }}\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"nd-ornateBtn nd-ornateBtn--small\"\n                    onClick={handleImportUrl}\n                    disabled={importLoading}\n                  >\n                    {importLoading ? \"Importing...\" : \"Import\"}\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"nd-toolHint\" style={{ marginTop: 16 }}>\n                <strong>Supported sources:</strong>\n                <ul style={{ margin: \"8px 0\", paddingLeft: 20 }}>\n                  <li>Google Docs (public or \"anyone with link\")</li>\n                  <li>Any public web page</li>\n                  <li>Plain text URLs</li>\n                </ul>\n                <p style={{ fontSize: 12, opacity: 0.8 }}>\n                  For Word docs, copy-paste the text directly into the editor.\n                  For Obsidian/local files, copy-paste or use File {'>'} Export to HTML first.\n                </p>\n              </div>\n            </div>\n          )}\n\n          {!previewOn ? (\n            <>\n              <div className=\"nd-bodyLabel\">Title</div>\n              <input className=\"nd-textarea\" style={{ minHeight: 44 }} value={title} onChange={(e) => setTitle(e.target.value)} />\n\n              <div className=\"nd-chapterSelector\">\n                <label className=\"nd-chapterSelectorLabel\">Currently Editing:</label>\n                <select\n                  className=\"nd-chapterDropdown\"\n                  value={activeChapterId}\n                  onChange={(e) => setActiveChapterId(e.target.value)}\n                >\n                  {chapters.map((ch, idx) => (\n                    <option key={ch.id} value={ch.id}>\n                      {ch.title || `Chapter ${idx + 1}`}\n                    </option>\n                  ))}\n                </select>\n                <span className=\"nd-chapterCount\">\n                  ({chapters.findIndex((c) => c.id === activeChapterId) + 1} of {chapters.length})\n                </span>\n              </div>\n\n              <div className=\"nd-bodyLabel\" style={{ marginTop: 8 }}>\n                Chapter Content\n              </div>\n\n              {/* Formatting Toolbar */}\n              <div className=\"nd-formatToolbar\">\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatBold(); }} title=\"Bold (Ctrl+B)\">\n                  <strong>B</strong>\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatItalic(); }} title=\"Italic (Ctrl+I)\">\n                  <em>I</em>\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatUnderline(); }} title=\"Underline\">\n                  <u>U</u>\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatStrike(); }} title=\"Strikethrough\">\n                  <s>S</s>\n                </button>\n                <span className=\"nd-formatDivider\" />\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatHeading(); }} title=\"Heading\">\n                  H\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatQuote(); }} title=\"Quote\">\n                  \"\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatList(); }} title=\"List\">\n                  \n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatLink(); }} title=\"Link\">\n                  \n                </button>\n              </div>\n\n              <textarea ref={bodyRef} className=\"nd-textarea\" value={body} onChange={(e) => setBody(e.target.value)} />\n            </>\n          ) : (\n            <div className=\"nd-toolPanel\" style={{ marginTop: 12 }}>\n              <div className=\"nd-toolTitle\">Preview</div>\n\n              <div className=\"nd-bodyLabel\" style={{ marginTop: 6 }}>\n                Title\n              </div>\n              <div\n                style={{\n                  background: \"rgba(255,255,255,0.92)\",\n                  border: \"1px solid rgba(0,0,0,0.10)\",\n                  borderRadius: 12,\n                  padding: 12,\n                  fontFamily: '\"Libre Baskerville\", serif',\n                  fontSize: 15,\n                  lineHeight: 1.7,\n                  color: \"rgba(0,0,0,0.82)\",\n                }}\n              >\n                {title?.trim() ? title : \"Untitled\"}\n              </div>\n\n              {audioUrl ? (\n                <>\n                  <div className=\"nd-bodyLabel\" style={{ marginTop: 14 }}>\n                    Audio\n                  </div>\n                  <audio controls src={audioUrl} style={{ width: \"100%\" }} />\n                </>\n              ) : null}\n\n              <div className=\"nd-bodyLabel\" style={{ marginTop: 14 }}>\n                {activeChapter ? activeChapter.title : \"Chapter\"} Body\n              </div>\n              <div\n                style={{\n                  background: \"rgba(255,255,255,0.92)\",\n                  border: \"1px solid rgba(0,0,0,0.10)\",\n                  borderRadius: 12,\n                  padding: 12,\n                  fontFamily: '\"Libre Baskerville\", serif',\n                  fontSize: 15,\n                  lineHeight: 1.7,\n                  color: \"rgba(0,0,0,0.82)\",\n                  whiteSpace: \"normal\",\n                }}\n              >\n                {renderBodyWithImages(body)}\n              </div>\n            </div>\n          )}\n\n          {status && <div className=\"nd-status\">{status}</div>}\n\n          <div className=\"nd-actions\">\n            <button className=\"nd-ornateBtn nd-ornateBtn--primary\" onClick={handlePost} disabled={loading}>\n              {loading ? \"Publishing...\" : \"Post\"}\n            </button>\n            <button className=\"nd-ornateBtn\" onClick={handleSaveDraft} disabled={loading}>\n              {loading ? \"Saving...\" : \"Save Draft\"}\n            </button>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useLocation, useNavigate, Link } from \"react-router-dom\";\nimport \"./YourCommunityPage.css\";\nimport { uploadsApi, worksApi, communityApi, bookmarksApi, followsApi, usersApi, authApi } from \"../api\";\nimport { SableLoader } from \"../components\";\n\nimport editBannerIcon from \"../assets/images/edit_banner.png\";\nimport editProfileIcon from \"../assets/images/edit_profile_picture.png\";\nimport subtractWidgetIcon from \"../assets/images/subtract_widget.png\";\n\n// Avatar component for followers/following list\nfunction ListAvatar({ avatarUrl, name }) {\n  const initial = (name || \"U\").charAt(0).toUpperCase();\n  if (avatarUrl) {\n    return <img className=\"ycp-listAvatar\" src={avatarUrl} alt=\"\" />;\n  }\n  return <div className=\"ycp-listAvatar ycp-listAvatar--fallback\">{initial}</div>;\n}\n\nconst DEFAULT_WIDGETS = {\n  announcements: true,\n  donations: true,\n  recentWorks: true,\n  chatroom: true,\n};\n\nexport default function YourCommunityPage({ username }) {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Scroll to top on mount\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const initialDisplayName = (username || \"john.doe\").toUpperCase();\n\n  const [isEditing, setIsEditing] = React.useState(false);\n  const [loading, setLoading] = React.useState(true);\n  const [saving, setSaving] = React.useState(false);\n\n  // Community page data from API\n  const [communityPage, setCommunityPage] = React.useState(null);\n\n  // Front-end \"saved\" profile fields\n  const [displayName, setDisplayName] = React.useState(initialDisplayName);\n  const [handle, setHandle] = React.useState(`@${username || \"user\"}`);\n  const [bio, setBio] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  const [visibility, setVisibility] = React.useState(\"public\");\n  const [bannerUrl, setBannerUrl] = React.useState(\"\");\n  const [profileUrl, setProfileUrl] = React.useState(\"\");\n\n  // Draft fields used only in edit mode\n  const [draftName, setDraftName] = React.useState(displayName);\n  const [draftBio, setDraftBio] = React.useState(bio);\n  const [draftLink, setDraftLink] = React.useState(link);\n  const [draftVisibility, setDraftVisibility] = React.useState(visibility);\n\n  // Active tab state\n  const [activeTab, setActiveTab] = React.useState(\"works\");\n\n  // Search state\n  const [isSearchOpen, setIsSearchOpen] = React.useState(false);\n  const [searchQuery, setSearchQuery] = React.useState(\"\");\n\n  // Real data state\n  const [userWorks, setUserWorks] = React.useState([]);\n  const [userAudios, setUserAudios] = React.useState([]);\n  const [readingList, setReadingList] = React.useState([]);\n  const [announcements, setAnnouncements] = React.useState([]);\n\n  // New announcement input\n  const [newAnnouncementText, setNewAnnouncementText] = React.useState(\"\");\n  const [newAnnouncementPinned, setNewAnnouncementPinned] = React.useState(false);\n\n  // Image upload state\n  const [uploadingBanner, setUploadingBanner] = React.useState(false);\n  const [uploadingProfile, setUploadingProfile] = React.useState(false);\n  const bannerInputRef = React.useRef(null);\n  const profileInputRef = React.useRef(null);\n\n  // Followers/following state\n  const [followers, setFollowers] = React.useState([]);\n  const [following, setFollowing] = React.useState([]);\n  const [followModalOpen, setFollowModalOpen] = React.useState(false);\n  const [followModalTab, setFollowModalTab] = React.useState(\"followers\"); // \"followers\" | \"following\"\n  const [loadingFollows, setLoadingFollows] = React.useState(false);\n\n  // Fetch community page data and user profile\n  React.useEffect(() => {\n    async function loadCommunityPage() {\n      try {\n        // Fetch both community page and user profile\n        const [communityData, userData] = await Promise.all([\n          communityApi.getMine(),\n          authApi.me(),\n        ]);\n\n        if (communityData.page) {\n          setCommunityPage(communityData.page);\n          setDisplayName(communityData.page.displayName || initialDisplayName);\n          setHandle(`@${communityData.page.handle || username}`);\n          setBio(communityData.page.bio || \"\");\n          setLink(communityData.page.link || \"\");\n          setVisibility(communityData.page.visibility || \"public\");\n          setBannerUrl(communityData.page.bannerImageUrl || \"\");\n          // Prefer user's avatarUrl (source of truth) over communityPage.profileImageUrl\n          const userAvatar = userData?.user?.avatarUrl || \"\";\n          const pageAvatar = communityData.page.profileImageUrl || \"\";\n          setProfileUrl(userAvatar || pageAvatar);\n          setAnnouncements(communityData.page.announcements || []);\n          if (communityData.page.widgets) {\n            setWidgets({ ...DEFAULT_WIDGETS, ...communityData.page.widgets });\n          }\n        }\n      } catch (err) {\n        console.error(\"Failed to load community page:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadCommunityPage();\n  }, [username, initialDisplayName]);\n\n  // Fetch user's works, audios, and reading list\n  React.useEffect(() => {\n    async function loadUserData() {\n      try {\n        const worksData = await worksApi.mine();\n        setUserWorks(worksData.works || []);\n      } catch (err) {\n        console.error(\"Failed to load works:\", err);\n      }\n\n      try {\n        const audiosData = await uploadsApi.list(\"audio\");\n        setUserAudios(audiosData.uploads || []);\n      } catch (err) {\n        console.error(\"Failed to load audios:\", err);\n      }\n\n      try {\n        const bookmarksData = await bookmarksApi.list(\"work\");\n        // Convert bookmarks to reading list format\n        const reading = (bookmarksData.bookmarks || []).map((b) => ({\n          id: b._id,\n          workId: b.workId,\n          title: b.title || \"Unknown\",\n          author: b.authorUsername || \"Unknown\",\n          progress: \"\", // Progress tracking not yet implemented\n        }));\n        setReadingList(reading);\n      } catch (err) {\n        console.error(\"Failed to load reading list:\", err);\n      }\n    }\n\n    loadUserData();\n  }, []);\n\n  // Widget settings state\n  const [widgets, setWidgets] = React.useState(DEFAULT_WIDGETS);\n\n  // Fetch initial followers/following counts\n  React.useEffect(() => {\n    async function loadFollowCounts() {\n      try {\n        const [followersData, followingData] = await Promise.all([\n          followsApi.getFollowers(),\n          followsApi.getFollowing(),\n        ]);\n        setFollowers(followersData.followers || []);\n        setFollowing(followingData.following || []);\n      } catch (err) {\n        console.error(\"Failed to load follow counts:\", err);\n      }\n    }\n    loadFollowCounts();\n  }, []);\n\n  // Fetch followers/following when modal opens (refresh data)\n  async function openFollowModal(tab) {\n    setFollowModalTab(tab);\n    setFollowModalOpen(true);\n    setLoadingFollows(true);\n\n    try {\n      const [followersData, followingData] = await Promise.all([\n        followsApi.getFollowers(),\n        followsApi.getFollowing(),\n      ]);\n      setFollowers(followersData.followers || []);\n      setFollowing(followingData.following || []);\n    } catch (err) {\n      console.error(\"Failed to load follows:\", err);\n    } finally {\n      setLoadingFollows(false);\n    }\n  }\n\n  function closeFollowModal() {\n    setFollowModalOpen(false);\n  }\n\n  // Chatroom state (starts empty - real-time chat not yet implemented)\n  const [chatMessages, setChatMessages] = React.useState([]);\n  const [chatInput, setChatInput] = React.useState(\"\");\n  const chatEndRef = React.useRef(null);\n  const isInitialChatMount = React.useRef(true);\n\n  function handleSendMessage() {\n    const text = chatInput.trim();\n    if (!text) return;\n    const newMsg = {\n      id: `m_${Date.now()}`,\n      user: (username || \"john.doe\").toLowerCase(),\n      text,\n      time: new Date().toLocaleTimeString([], { hour: \"numeric\", minute: \"2-digit\" }),\n    };\n    setChatMessages((prev) => [...prev, newMsg]);\n    setChatInput(\"\");\n  }\n\n  function handleChatKeyDown(e) {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  }\n\n  // Only scroll chat to bottom when new messages are added, not on initial load\n  React.useEffect(() => {\n    if (isInitialChatMount.current) {\n      isInitialChatMount.current = false;\n      return;\n    }\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [chatMessages]);\n\n  // Donation state (for viewing received donations - not yet implemented)\n  const [donationHistory] = React.useState([]);\n  const [totalReceived] = React.useState(\"$0.00\");\n\n  function handleWorkClick(workId) {\n    navigate(`/works/${encodeURIComponent(workId)}`);\n  }\n\n  async function toggleWidget(widgetKey) {\n    const updated = { ...widgets, [widgetKey]: !widgets[widgetKey] };\n    setWidgets(updated);\n    try {\n      await communityApi.update({ widgets: updated });\n    } catch (err) {\n      console.error(\"Failed to save widget settings:\", err);\n    }\n  }\n\n  async function handleAddAnnouncement() {\n    if (!newAnnouncementText.trim()) return;\n    try {\n      const data = await communityApi.addAnnouncement(newAnnouncementText.trim(), newAnnouncementPinned);\n      setAnnouncements(data.announcements || []);\n      setNewAnnouncementText(\"\");\n      setNewAnnouncementPinned(false);\n    } catch (err) {\n      console.error(\"Failed to add announcement:\", err);\n    }\n  }\n\n  async function handleDeleteAnnouncement(index) {\n    try {\n      const data = await communityApi.deleteAnnouncement(index);\n      setAnnouncements(data.announcements || []);\n    } catch (err) {\n      console.error(\"Failed to delete announcement:\", err);\n    }\n  }\n\n  // Handle banner image upload\n  async function handleBannerUpload(e) {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setUploadingBanner(true);\n    try {\n      const result = await uploadsApi.image(file, \"banner\");\n      if (result.url) {\n        setBannerUrl(result.url);\n        await communityApi.update({ bannerImageUrl: result.url });\n      }\n    } catch (err) {\n      console.error(\"Failed to upload banner:\", err);\n      alert(\"Failed to upload banner image. Please try again.\");\n    } finally {\n      setUploadingBanner(false);\n      if (bannerInputRef.current) bannerInputRef.current.value = \"\";\n    }\n  }\n\n  // Handle profile image upload - syncs to both CommunityPage and User profile\n  async function handleProfileUpload(e) {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setUploadingProfile(true);\n    try {\n      const result = await uploadsApi.image(file, \"avatar\");\n      if (result.url) {\n        setProfileUrl(result.url);\n        // Update both CommunityPage and User profile to keep them in sync\n        await Promise.all([\n          communityApi.update({ profileImageUrl: result.url }),\n          usersApi.updateProfile({ avatarUrl: result.url }),\n        ]);\n      }\n    } catch (err) {\n      console.error(\"Failed to upload profile picture:\", err);\n      alert(\"Failed to upload profile picture. Please try again.\");\n    } finally {\n      setUploadingProfile(false);\n      if (profileInputRef.current) profileInputRef.current.value = \"\";\n    }\n  }\n\n  // Check if any widgets are disabled\n  const hasDisabledWidgets = !widgets.announcements || !widgets.donations || !widgets.recentWorks || !widgets.chatroom;\n\n  function handleShare() {\n    const url = window.location.href;\n    if (navigator.share) {\n      navigator.share({ title: `${displayName}'s Community Page`, url }).catch(() => {\n        // User cancelled share or share failed error\n      });\n    } else if (navigator.clipboard) {\n      navigator.clipboard.writeText(url);\n      alert(\"Link copied to clipboard!\");\n    }\n  }\n\n  function handleSearch() {\n    setIsSearchOpen((v) => !v);\n  }\n\n  function openEdit() {\n    setDraftName(displayName);\n    setDraftBio(bio);\n    setDraftLink(link);\n    setDraftVisibility(visibility);\n    setIsEditing(true);\n  }\n\n  async function saveAndClose() {\n    const newName = (draftName || \"\").trim() || initialDisplayName;\n    const newBio = draftBio || \"\";\n    const newLink = (draftLink || \"\").trim();\n    const newVisibility = draftVisibility;\n\n    setSaving(true);\n    try {\n      await communityApi.update({\n        displayName: newName,\n        bio: newBio,\n        link: newLink,\n        visibility: newVisibility,\n      });\n      setDisplayName(newName);\n      setBio(newBio);\n      setLink(newLink);\n      setVisibility(newVisibility);\n    } catch (err) {\n      console.error(\"Failed to save community page:\", err);\n    } finally {\n      setSaving(false);\n      setIsEditing(false);\n    }\n  }\n\n\n  React.useEffect(() => {\n    const search = new URLSearchParams(location.search || \"\");\n    const editParam = search.get(\"edit\");\n\n    const wantsEditFromQuery = editParam === \"1\" || editParam === \"true\";\n    const wantsEditFromState = Boolean(location.state && location.state.edit);\n\n    if (wantsEditFromQuery || wantsEditFromState) {\n      openEdit();\n    }\n    // Only run on navigation changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.key]); // location.key changes on navigation\n\n  if (loading) {\n    return (\n      <div className=\"ycp\">\n        <SableLoader />\n      </div>\n    );\n  }\n\n  // Get initials for fallback avatar\n  const initials = (displayName || username || \"U\").charAt(0).toUpperCase();\n\n  return (\n    <div className=\"ycp\">\n      {/* Hidden file inputs */}\n      <input\n        type=\"file\"\n        ref={bannerInputRef}\n        accept=\"image/*\"\n        style={{ display: \"none\" }}\n        onChange={handleBannerUpload}\n      />\n      <input\n        type=\"file\"\n        ref={profileInputRef}\n        accept=\"image/*\"\n        style={{ display: \"none\" }}\n        onChange={handleProfileUpload}\n      />\n\n      {/* Banner */}\n      <section\n        className={`ycp-banner ${!bannerUrl ? \"ycp-banner--empty\" : \"\"}`}\n        style={bannerUrl ? { backgroundImage: `url(${bannerUrl})` } : undefined}\n        aria-label=\"Community banner\"\n      >\n        {/* Edit mode: show upload button */}\n        {isEditing ? (\n          <button\n            type=\"button\"\n            className=\"ycp-bannerEditBtn ycp-bannerEditBtn--upload\"\n            onClick={() => bannerInputRef.current?.click()}\n            disabled={uploadingBanner}\n            aria-label=\"Upload banner image\"\n            title=\"Upload banner\"\n          >\n            {uploadingBanner ? (\n              <span className=\"ycp-uploadingText\">...</span>\n            ) : (\n              <img className=\"ycp-bannerEditIcon\" src={editBannerIcon} alt=\"\" aria-hidden=\"true\" />\n            )}\n          </button>\n        ) : (\n          /* View mode: show pen icon to enter edit mode */\n          <button\n            type=\"button\"\n            className=\"ycp-bannerEditBtn\"\n            onClick={openEdit}\n            aria-label=\"Edit community page\"\n            title=\"Edit community page\"\n          >\n            <img className=\"ycp-bannerEditIcon\" src={editBannerIcon} alt=\"\" aria-hidden=\"true\" />\n          </button>\n        )}\n        {isEditing && !bannerUrl && !uploadingBanner && (\n          <div className=\"ycp-bannerPlaceholder\">Click to add a banner image</div>\n        )}\n      </section>\n\n      <section className=\"ycp-card\" aria-label=\"Community profile\">\n        {/* Avatar */}\n        <div className=\"ycp-avatarWrap\">\n          {profileUrl ? (\n            <img className=\"ycp-avatar\" src={profileUrl} alt=\"Profile\" />\n          ) : (\n            <div className=\"ycp-avatar ycp-avatar--fallback\">{initials}</div>\n          )}\n\n          {/* Only show edit button in edit mode */}\n          {isEditing && (\n            <button\n              type=\"button\"\n              className=\"ycp-avatarEditBtn\"\n              aria-label=\"Edit profile picture\"\n              title=\"Edit profile picture\"\n              onClick={() => profileInputRef.current?.click()}\n              disabled={uploadingProfile}\n            >\n              {uploadingProfile ? (\n                <span className=\"ycp-uploadingText\">...</span>\n              ) : (\n                <img className=\"ycp-avatarEditIcon\" src={editProfileIcon} alt=\"\" aria-hidden=\"true\" />\n              )}\n            </button>\n          )}\n        </div>\n\n        {/* View mode */}\n        {!isEditing ? (\n          <div className=\"ycp-grid\">\n            <div className=\"ycp-left\">\n              <div className=\"ycp-nameRow\">\n                <h1 className=\"ycp-name\">{displayName}</h1>\n\n                <div className=\"ycp-actions\" aria-label=\"Profile actions\">\n          \n                  <button type=\"button\" className=\"ycp-actionBtn\" aria-label=\"Edit\" onClick={openEdit} title=\"Edit\">\n                    \n                  </button>\n                  <button type=\"button\" className=\"ycp-actionBtn\" aria-label=\"Search\" title=\"Search\" onClick={handleSearch}>\n                    \n                  </button>\n                  <button type=\"button\" className=\"ycp-actionBtn\" aria-label=\"Share\" title=\"Share\" onClick={handleShare}>\n                    \n                  </button>\n                </div>\n              </div>\n\n              <div className=\"ycp-handle\">{handle}</div>\n\n              <div className=\"ycp-followStats\">\n                <button\n                  type=\"button\"\n                  className=\"ycp-followStat\"\n                  onClick={() => openFollowModal(\"followers\")}\n                >\n                  <span className=\"ycp-followStatCount\">{followers.length}</span>\n                  <span className=\"ycp-followStatLabel\">Followers</span>\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"ycp-followStat\"\n                  onClick={() => openFollowModal(\"following\")}\n                >\n                  <span className=\"ycp-followStatCount\">{following.length}</span>\n                  <span className=\"ycp-followStatLabel\">Following</span>\n                </button>\n              </div>\n\n              {isSearchOpen && (\n                <div className=\"ycp-searchBar\" aria-label=\"Search your content\">\n                  <input\n                    type=\"text\"\n                    className=\"ycp-searchInput\"\n                    placeholder=\"Search works, skins, audios...\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    autoFocus\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"ycp-searchClose\"\n                    onClick={() => {\n                      setIsSearchOpen(false);\n                      setSearchQuery(\"\");\n                    }}\n                    aria-label=\"Close search\"\n                  >\n                    \n                  </button>\n                </div>\n              )}\n\n              <p className=\"ycp-bio\">{bio}</p>\n\n              <div className=\"ycp-linkRow\">\n                <span className=\"ycp-linkIcon\" aria-hidden=\"true\">\n                  \n                </span>\n                <span className=\"ycp-linkText\">{link}</span>\n              </div>\n\n              <div className=\"ycp-tabs\" role=\"tablist\" aria-label=\"Community tabs\">\n                <button\n                  type=\"button\"\n                  className={`ycp-tab ${activeTab === \"works\" ? \"ycp-tab--active\" : \"\"}`}\n                  role=\"tab\"\n                  onClick={() => setActiveTab(\"works\")}\n                >\n                  Works\n                </button>\n                <button\n                  type=\"button\"\n                  className={`ycp-tab ${activeTab === \"reading\" ? \"ycp-tab--active\" : \"\"}`}\n                  role=\"tab\"\n                  onClick={() => setActiveTab(\"reading\")}\n                >\n                  Reading List\n                </button>\n                <button\n                  type=\"button\"\n                  className={`ycp-tab ${activeTab === \"skins\" ? \"ycp-tab--active\" : \"\"}`}\n                  role=\"tab\"\n                  onClick={() => setActiveTab(\"skins\")}\n                >\n                  Skins\n                </button>\n                <button\n                  type=\"button\"\n                  className={`ycp-tab ${activeTab === \"audios\" ? \"ycp-tab--active\" : \"\"}`}\n                  role=\"tab\"\n                  onClick={() => setActiveTab(\"audios\")}\n                >\n                  Audios\n                </button>\n              </div>\n\n              {/* Tab Content */}\n              {activeTab === \"works\" && (\n                <div className=\"ycp-tabContent\" aria-label=\"Works\">\n                  {userWorks.length === 0 ? (\n                    <div className=\"ycp-emptyState\">No published works yet.</div>\n                  ) : (\n                    <div className=\"ycp-worksRow\">\n                      {userWorks.map((work) => (\n                        <div\n                          key={work._id}\n                          className=\"ycp-workCard\"\n                          role=\"button\"\n                          tabIndex={0}\n                          aria-label={work.title}\n                          onClick={() => handleWorkClick(work._id)}\n                          onKeyDown={(e) => e.key === \"Enter\" && handleWorkClick(work._id)}\n                        >\n                          {work.coverImageUrl ? (\n                            <img className=\"ycp-workCover\" src={work.coverImageUrl} alt=\"\" />\n                          ) : (\n                            <div className=\"ycp-workCover ycp-workCover--placeholder\" />\n                          )}\n                          <div className=\"ycp-workInfo\">\n                            <div className=\"ycp-workTitle\">{work.title}</div>\n                            <div className=\"ycp-workMeta\">{work.genre || \"\"}  {work.wordCount?.toLocaleString() || 0} words</div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {activeTab === \"reading\" && (\n                <div className=\"ycp-tabContent\" aria-label=\"Reading List\">\n                  {readingList.length === 0 ? (\n                    <div className=\"ycp-emptyState\">No works in your reading list yet.</div>\n                  ) : (\n                    <div className=\"ycp-listItems\">\n                      {readingList.map((item) => (\n                        <div\n                          key={item.id}\n                          className=\"ycp-listItem\"\n                          role=\"button\"\n                          tabIndex={0}\n                          onClick={() => item.workId && navigate(`/works/${item.workId}`)}\n                          onKeyDown={(e) => e.key === \"Enter\" && item.workId && navigate(`/works/${item.workId}`)}\n                        >\n                          <div className=\"ycp-listItemMain\">\n                            <div className=\"ycp-listItemTitle\">{item.title}</div>\n                            <div className=\"ycp-listItemMeta\">by @{item.author}</div>\n                          </div>\n                          <div className=\"ycp-listItemProgress\">{item.progress}</div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {activeTab === \"skins\" && (\n                <div className=\"ycp-tabContent\" aria-label=\"Skins\">\n                  <div className=\"ycp-emptyState\">\n                    Skins feature coming soon. You'll be able to create and share custom themes here.\n                  </div>\n                </div>\n              )}\n\n              {activeTab === \"audios\" && (\n                <div className=\"ycp-tabContent\" aria-label=\"Audios\">\n                  {userAudios.length === 0 ? (\n                    <div className=\"ycp-emptyState\">No audio uploads yet.</div>\n                  ) : (\n                    <div className=\"ycp-listItems\">\n                      {userAudios.map((audio) => (\n                        <div key={audio._id} className=\"ycp-listItem ycp-audioItem\">\n                          <div className=\"ycp-listItemMain\">\n                            <div className=\"ycp-listItemTitle\">{audio.title || \"Audio Track\"}</div>\n                            <div className=\"ycp-listItemMeta\">\n                              {audio.plays || 0} plays  {new Date(audio.createdAt).toLocaleDateString()}\n                            </div>\n                          </div>\n                          <audio controls src={audio.url} className=\"ycp-audioPlayer\" />\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n\n            <aside className=\"ycp-right\" aria-label=\"Community panels\">\n              <div className=\"ycp-panels\">\n                {widgets.announcements && (\n                  <div className=\"ycp-panel ycp-panel--announcements\">\n                    <div className=\"ycp-panelTitle\">Announcements</div>\n                    <div className=\"ycp-announcementsBox\">\n                      {announcements.length === 0 ? (\n                        <div className=\"ycp-emptyState ycp-emptyState--small\">No announcements yet</div>\n                      ) : (\n                        announcements.map((ann, idx) => (\n                          <div key={idx} className={`ycp-announcementItem ${ann.pinned ? \"ycp-announcementItem--pinned\" : \"\"}`}>\n                            {ann.pinned && <span className=\"ycp-announcementPin\"></span>}\n                            <div className=\"ycp-announcementContent\">\n                              <div className=\"ycp-announcementText\">{ann.text}</div>\n                              <div className=\"ycp-announcementDate\">\n                                {ann.createdAt ? new Date(ann.createdAt).toLocaleDateString() : \"\"}\n                              </div>\n                            </div>\n                            <button\n                              type=\"button\"\n                              className=\"ycp-announcementDelete\"\n                              onClick={() => handleDeleteAnnouncement(idx)}\n                              aria-label=\"Delete announcement\"\n                              title=\"Delete\"\n                            >\n                              \n                            </button>\n                          </div>\n                        ))\n                      )}\n                      <div className=\"ycp-addAnnouncement\">\n                        <input\n                          type=\"text\"\n                          className=\"ycp-addAnnouncementInput\"\n                          placeholder=\"New announcement...\"\n                          value={newAnnouncementText}\n                          onChange={(e) => setNewAnnouncementText(e.target.value)}\n                          onKeyDown={(e) => e.key === \"Enter\" && handleAddAnnouncement()}\n                        />\n                        <label className=\"ycp-addAnnouncementPin\">\n                          <input\n                            type=\"checkbox\"\n                            checked={newAnnouncementPinned}\n                            onChange={(e) => setNewAnnouncementPinned(e.target.checked)}\n                          />\n                          Pin\n                        </label>\n                        <button\n                          type=\"button\"\n                          className=\"ycp-addAnnouncementBtn\"\n                          onClick={handleAddAnnouncement}\n                          disabled={!newAnnouncementText.trim()}\n                        >\n                          Add\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {widgets.donations && (\n                  <div className=\"ycp-panel ycp-panel--donations\">\n                    <div className=\"ycp-panelTitle\">Donations</div>\n                    <div className=\"ycp-donationBox\">\n                      <div className=\"ycp-donationTotal\">\n                        <span className=\"ycp-donationTotalLabel\">Total Received</span>\n                        <span className=\"ycp-donationTotalAmount\">{totalReceived}</span>\n                      </div>\n                      <div className=\"ycp-donationRecent\">\n                        <div className=\"ycp-donationRecentTitle\">Recent Donations</div>\n                        {donationHistory.length > 0 ? (\n                          <div className=\"ycp-donationList\">\n                            {donationHistory.map((d, idx) => (\n                              <div key={idx} className=\"ycp-donationItem\">\n                                <span className=\"ycp-donationUser\">@{d.user}</span>\n                                <span className=\"ycp-donationAmount\">{d.amount}</span>\n                                <span className=\"ycp-donationTime\">{d.time}</span>\n                              </div>\n                            ))}\n                          </div>\n                        ) : (\n                          <div className=\"ycp-donationEmpty\">No donations yet</div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {widgets.recentWorks && (\n                  <div className=\"ycp-panel ycp-panel--recentWorks\">\n                    <div className=\"ycp-panelTitle\">Recent Works</div>\n                    <div className=\"ycp-recentWorksBox\">\n                      {userWorks.length === 0 ? (\n                        <div className=\"ycp-emptyState ycp-emptyState--small\">No works yet</div>\n                      ) : (\n                        userWorks.slice(0, 3).map((work) => (\n                          <div\n                            key={work._id}\n                            className=\"ycp-recentWorkItem\"\n                            onClick={() => handleWorkClick(work._id)}\n                            role=\"button\"\n                            tabIndex={0}\n                            onKeyDown={(e) => e.key === \"Enter\" && handleWorkClick(work._id)}\n                          >\n                            {work.coverImageUrl ? (\n                              <img className=\"ycp-recentWorkCover\" src={work.coverImageUrl} alt=\"\" />\n                            ) : (\n                              <div className=\"ycp-recentWorkCover\" />\n                            )}\n                            <div className=\"ycp-recentWorkInfo\">\n                              <div className=\"ycp-recentWorkTitle\">{work.title}</div>\n                              <div className=\"ycp-recentWorkMeta\">{work.genre || \"\"}  {work.wordCount?.toLocaleString() || 0}</div>\n                            </div>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                {widgets.chatroom && (\n                  <div className=\"ycp-panel ycp-panel--chatroom\">\n                    <div className=\"ycp-panelTitle\">Chatroom</div>\n                    <div className=\"ycp-chatBox\">\n                      <div className=\"ycp-chatMessages\">\n                        {chatMessages.length === 0 ? (\n                          <div className=\"ycp-chatEmpty\">No messages yet. Start the conversation!</div>\n                        ) : (\n                          chatMessages.map((msg) => (\n                            <div key={msg.id} className=\"ycp-chatMessage\">\n                              <div className=\"ycp-chatMsgHeader\">\n                                <span className=\"ycp-chatMsgUser\">@{msg.user}</span>\n                                <span className=\"ycp-chatMsgTime\">{msg.time}</span>\n                              </div>\n                              <div className=\"ycp-chatMsgText\">{msg.text}</div>\n                            </div>\n                          ))\n                        )}\n                        <div ref={chatEndRef} />\n                      </div>\n                      <div className=\"ycp-chatInputRow\">\n                        <input\n                          type=\"text\"\n                          className=\"ycp-chatInput\"\n                          placeholder=\"Type a message...\"\n                          value={chatInput}\n                          onChange={(e) => setChatInput(e.target.value)}\n                          onKeyDown={handleChatKeyDown}\n                          aria-label=\"Chat message\"\n                        />\n                        <button\n                          type=\"button\"\n                          className=\"ycp-chatSendBtn\"\n                          onClick={handleSendMessage}\n                          disabled={!chatInput.trim()}\n                          aria-label=\"Send message\"\n                        >\n                          Send\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </aside>\n          </div>\n        ) : null}\n\n        {/* Edit mode */}\n        {isEditing ? (\n          <div className=\"ycp-editGrid\" aria-label=\"Edit community page\">\n            {/* Left form */}\n            <div className=\"ycp-editLeft\">\n              <div className=\"ycp-editRow\">\n                <div className=\"ycp-editLabel\">Name</div>\n                <input className=\"ycp-editInput\" value={draftName} onChange={(e) => setDraftName(e.target.value)} aria-label=\"Name\" />\n              </div>\n\n              <div className=\"ycp-editRow ycp-editRow--bio\">\n                <div className=\"ycp-editLabel\">Bio</div>\n                <textarea className=\"ycp-editTextarea\" value={draftBio} onChange={(e) => setDraftBio(e.target.value)} aria-label=\"Bio\" />\n              </div>\n\n              <div className=\"ycp-editRow\">\n                <div className=\"ycp-editLabel\">Links</div>\n                <input className=\"ycp-editInput\" value={draftLink} onChange={(e) => setDraftLink(e.target.value)} aria-label=\"Links\" />\n              </div>\n\n              <div className=\"ycp-editRow ycp-editRow--visibility\">\n                <div className=\"ycp-editLabel\">Visibility</div>\n\n                <div className=\"ycp-visibilityGroup\" role=\"radiogroup\" aria-label=\"Visibility\">\n                  <label className=\"ycp-radio\">\n                    <input\n                      type=\"radio\"\n                      name=\"visibility\"\n                      value=\"public\"\n                      checked={draftVisibility === \"public\"}\n                      onChange={() => setDraftVisibility(\"public\")}\n                    />\n                    <div className=\"ycp-radioText\">\n                      <div className=\"ycp-radioTitle\">Public</div>\n                      <div className=\"ycp-radioSub\">Visible to Everyone</div>\n                    </div>\n                  </label>\n\n                  <label className=\"ycp-radio\">\n                    <input\n                      type=\"radio\"\n                      name=\"visibility\"\n                      value=\"private\"\n                      checked={draftVisibility === \"private\"}\n                      onChange={() => setDraftVisibility(\"private\")}\n                    />\n                    <div className=\"ycp-radioText\">\n                      <div className=\"ycp-radioTitle\">Private</div>\n                      <div className=\"ycp-radioSub\">Visible only to you</div>\n                    </div>\n                  </label>\n\n                  <label className=\"ycp-radio\">\n                    <input\n                      type=\"radio\"\n                      name=\"visibility\"\n                      value=\"following\"\n                      checked={draftVisibility === \"following\"}\n                      onChange={() => setDraftVisibility(\"following\")}\n                    />\n                    <div className=\"ycp-radioText\">\n                      <div className=\"ycp-radioTitle\">Following</div>\n                      <div className=\"ycp-radioSub\">Visible only to those who follow you</div>\n                    </div>\n                  </label>\n                </div>\n              </div>\n\n              <div className=\"ycp-editActions\">\n                <button type=\"button\" className=\"ycp-doneBtn\" onClick={saveAndClose} disabled={saving}>\n                  {saving ? \"Saving...\" : \"Done\"}\n                </button>\n              </div>\n            </div>\n\n            {/* Right widgets */}\n            <aside className=\"ycp-editRight\" aria-label=\"Widgets\">\n              <div className=\"ycp-widgetsTitle\">Widgets</div>\n\n              <div className=\"ycp-panels ycp-panels--edit\">\n                {widgets.announcements && (\n                  <div className=\"ycp-panel ycp-panel--edit\">\n                    <div className=\"ycp-panelTitle\">Announcements</div>\n                    <div className=\"ycp-panelBox ycp-panelBox--edit\">\n                      <button type=\"button\" className=\"ycp-subtractBtn\" aria-label=\"Remove Announcements widget\" title=\"Remove\" onClick={() => toggleWidget(\"announcements\")}>\n                        <img src={subtractWidgetIcon} alt=\"\" aria-hidden=\"true\" />\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                {widgets.donations && (\n                  <div className=\"ycp-panel ycp-panel--edit\">\n                    <div className=\"ycp-panelTitle\">Donations</div>\n                    <div className=\"ycp-panelBox ycp-panelBox--edit\">\n                      <button type=\"button\" className=\"ycp-subtractBtn\" aria-label=\"Remove Donations widget\" title=\"Remove\" onClick={() => toggleWidget(\"donations\")}>\n                        <img src={subtractWidgetIcon} alt=\"\" aria-hidden=\"true\" />\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                {widgets.recentWorks && (\n                  <div className=\"ycp-panel ycp-panel--edit\">\n                    <div className=\"ycp-panelTitle\">Recent Works</div>\n                    <div className=\"ycp-panelBox ycp-panelBox--edit\">\n                      <button type=\"button\" className=\"ycp-subtractBtn\" aria-label=\"Remove Recent Works widget\" title=\"Remove\" onClick={() => toggleWidget(\"recentWorks\")}>\n                        <img src={subtractWidgetIcon} alt=\"\" aria-hidden=\"true\" />\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                {widgets.chatroom && (\n                  <div className=\"ycp-panel ycp-panel--edit\">\n                    <div className=\"ycp-panelTitle\">Chatroom</div>\n                    <div className=\"ycp-panelBox ycp-panelBox--edit\">\n                      <button type=\"button\" className=\"ycp-subtractBtn\" aria-label=\"Remove Chatroom widget\" title=\"Remove\" onClick={() => toggleWidget(\"chatroom\")}>\n                        <img src={subtractWidgetIcon} alt=\"\" aria-hidden=\"true\" />\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Add Widget options for disabled widgets */}\n              {hasDisabledWidgets && (\n                <div className=\"ycp-addWidgetSection\">\n                  <div className=\"ycp-addWidgetTitle\">Add Widget</div>\n                  <div className=\"ycp-addWidgetList\">\n                    {!widgets.announcements && (\n                      <button type=\"button\" className=\"ycp-addWidgetBtn\" onClick={() => toggleWidget(\"announcements\")}>\n                        + Announcements\n                      </button>\n                    )}\n                    {!widgets.donations && (\n                      <button type=\"button\" className=\"ycp-addWidgetBtn\" onClick={() => toggleWidget(\"donations\")}>\n                        + Donations\n                      </button>\n                    )}\n                    {!widgets.recentWorks && (\n                      <button type=\"button\" className=\"ycp-addWidgetBtn\" onClick={() => toggleWidget(\"recentWorks\")}>\n                        + Recent Works\n                      </button>\n                    )}\n                    {!widgets.chatroom && (\n                      <button type=\"button\" className=\"ycp-addWidgetBtn\" onClick={() => toggleWidget(\"chatroom\")}>\n                        + Chatroom\n                      </button>\n                    )}\n                  </div>\n                </div>\n              )}\n            </aside>\n          </div>\n        ) : null}\n      </section>\n\n      {/* Followers/Following Modal */}\n      {followModalOpen && (\n        <div className=\"ycp-modal-overlay\" onClick={closeFollowModal}>\n          <div className=\"ycp-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"ycp-modalHeader\">\n              <div className=\"ycp-modalTabs\">\n                <button\n                  type=\"button\"\n                  className={`ycp-modalTab ${followModalTab === \"followers\" ? \"ycp-modalTab--active\" : \"\"}`}\n                  onClick={() => setFollowModalTab(\"followers\")}\n                >\n                  Followers ({followers.length})\n                </button>\n                <button\n                  type=\"button\"\n                  className={`ycp-modalTab ${followModalTab === \"following\" ? \"ycp-modalTab--active\" : \"\"}`}\n                  onClick={() => setFollowModalTab(\"following\")}\n                >\n                  Following ({following.length})\n                </button>\n              </div>\n              <button type=\"button\" className=\"ycp-modalClose\" onClick={closeFollowModal}>\n                \n              </button>\n            </div>\n\n            <div className=\"ycp-modalBody\">\n              {loadingFollows ? (\n                <div className=\"ycp-modalEmpty\">Loading...</div>\n              ) : followModalTab === \"followers\" ? (\n                followers.length === 0 ? (\n                  <div className=\"ycp-modalEmpty\">No followers yet</div>\n                ) : (\n                  <div className=\"ycp-followList\">\n                    {followers.map((user) => (\n                      <Link\n                        key={user._id}\n                        to={`/communities/${user.username}`}\n                        className=\"ycp-followItem\"\n                        onClick={closeFollowModal}\n                      >\n                        <ListAvatar avatarUrl={user.avatarUrl} name={user.displayName || user.username} />\n                        <div className=\"ycp-followItemInfo\">\n                          <div className=\"ycp-followItemUsername\">@{user.username}</div>\n                          {user.displayName && user.displayName !== user.username && (\n                            <div className=\"ycp-followItemDisplayName\">{user.displayName}</div>\n                          )}\n                        </div>\n                      </Link>\n                    ))}\n                  </div>\n                )\n              ) : following.length === 0 ? (\n                <div className=\"ycp-modalEmpty\">Not following anyone yet</div>\n              ) : (\n                <div className=\"ycp-followList\">\n                  {following.map((user) => (\n                    <Link\n                      key={user._id}\n                      to={`/communities/${user.username}`}\n                      className=\"ycp-followItem\"\n                      onClick={closeFollowModal}\n                    >\n                      <ListAvatar avatarUrl={user.avatarUrl} name={user.displayName || user.username} />\n                      <div className=\"ycp-followItemInfo\">\n                        <div className=\"ycp-followItemUsername\">@{user.username}</div>\n                        {user.displayName && user.displayName !== user.username && (\n                          <div className=\"ycp-followItemDisplayName\">{user.displayName}</div>\n                        )}\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n\n","import React from \"react\";\nimport { useParams, Link, Navigate, useNavigate } from \"react-router-dom\";\nimport \"./PublicCommunityPage.css\";\nimport { uploadsApi, worksApi, communityApi, followsApi, usersApi } from \"../api\";\nimport { SableLoader } from \"../components\";\n\nfunction initials(name) {\n  const s = (name || \"U\").trim();\n  return (s[0] || \"U\").toUpperCase();\n}\n\nfunction Avatar({ avatar, name }) {\n  if (avatar) return <img className=\"pcp-avatar\" src={avatar} alt=\"\" aria-hidden=\"true\" />;\n\n  return (\n    <div className=\"pcp-avatar pcp-avatar--fallback\" aria-hidden=\"true\">\n      {initials(name)}\n    </div>\n  );\n}\n\n// Avatar component for followers/following list\nfunction ListAvatar({ avatarUrl, name }) {\n  const initial = (name || \"U\").charAt(0).toUpperCase();\n  if (avatarUrl) {\n    return <img className=\"pcp-listAvatar\" src={avatarUrl} alt=\"\" />;\n  }\n  return <div className=\"pcp-listAvatar pcp-listAvatar--fallback\">{initial}</div>;\n}\n\nconst DONATION_PRESETS = [5, 10, 25];\n\nexport default function PublicCommunityPage({ isAuthed = false, username = \"john.doe\" }) {\n  const { handle } = useParams();\n  const navigate = useNavigate();\n\n  // Scroll to top on mount\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const normalizedHandle = (handle || \"\").trim().toLowerCase();\n  const normalizedUsername = (username || \"\").trim().toLowerCase();\n\n  // Loading and profile state\n  const [loading, setLoading] = React.useState(true);\n  const [profile, setProfile] = React.useState(null);\n  const [userId, setUserId] = React.useState(null);\n  const [announcements, setAnnouncements] = React.useState([]);\n  const [accessDenied, setAccessDenied] = React.useState(null); // null | \"private\" | \"following\"\n\n  // Following state\n  const [isFollowing, setIsFollowing] = React.useState(false);\n  const [followLoading, setFollowLoading] = React.useState(false);\n\n  // Followers/following list state\n  const [followers, setFollowers] = React.useState([]);\n  const [following, setFollowing] = React.useState([]);\n  const [followModalOpen, setFollowModalOpen] = React.useState(false);\n  const [followModalTab, setFollowModalTab] = React.useState(\"followers\");\n  const [loadingFollows, setLoadingFollows] = React.useState(false);\n\n  // Search state\n  const [isSearchOpen, setIsSearchOpen] = React.useState(false);\n  const [searchQuery, setSearchQuery] = React.useState(\"\");\n\n  // Active tab state\n  const [activeTab, setActiveTab] = React.useState(\"works\");\n\n  // Real data state\n  const [userWorks, setUserWorks] = React.useState([]);\n  const [userAudios, setUserAudios] = React.useState([]);\n\n  // Load community page and user data\n  React.useEffect(() => {\n    async function loadData() {\n      if (!normalizedHandle) return;\n      setLoading(true);\n\n      // Try to load community page\n      try {\n        const communityData = await communityApi.getByHandle(normalizedHandle);\n        if (communityData.error) {\n          // Check for visibility-related errors\n          if (communityData.error.includes(\"private\")) {\n            setAccessDenied(\"private\");\n            setLoading(false);\n            return;\n          } else if (communityData.error.includes(\"followers\")) {\n            setAccessDenied(\"following\");\n            setLoading(false);\n            return;\n          }\n          throw new Error(communityData.error);\n        }\n        if (communityData.page) {\n          setAccessDenied(null);\n          // Prefer user's avatarUrl (source of truth) over communityPage.profileImageUrl\n          const userAvatar = communityData.page.userId?.avatarUrl || \"\";\n          const pageAvatar = communityData.page.profileImageUrl || \"\";\n          setProfile({\n            displayName: communityData.page.displayName || normalizedHandle.toUpperCase(),\n            handle: communityData.page.handle || normalizedHandle,\n            banner: communityData.page.bannerImageUrl || \"\",\n            avatar: userAvatar || pageAvatar,\n            bio: communityData.page.bio || \"\",\n            link: communityData.page.link || \"\",\n            widgets: communityData.page.widgets || {},\n          });\n          setAnnouncements(communityData.page.announcements || []);\n          if (communityData.page.userId) {\n            setUserId(communityData.page.userId._id || communityData.page.userId);\n          }\n        }\n      } catch (err) {\n        // Check if this is a visibility error from the API response\n        const errorMsg = err?.message || \"\";\n        if (errorMsg.includes(\"private\")) {\n          setAccessDenied(\"private\");\n          setLoading(false);\n          return;\n        } else if (errorMsg.includes(\"followers\")) {\n          setAccessDenied(\"following\");\n          setLoading(false);\n          return;\n        }\n\n        // Community page doesn't exist, try to get user profile\n        try {\n          const userData = await usersApi.getProfile(normalizedHandle);\n          if (userData.user) {\n            setAccessDenied(null);\n            setProfile({\n              displayName: userData.user.displayName || normalizedHandle.toUpperCase(),\n              handle: normalizedHandle,\n              banner: \"\",\n              avatar: userData.user.avatarUrl || \"\",\n              bio: userData.user.bio || \"\",\n              link: \"\",\n            });\n            setUserId(userData.user._id);\n          }\n        } catch {\n          // User not found, use fallback\n          setAccessDenied(null);\n          setProfile({\n            displayName: normalizedHandle.toUpperCase(),\n            handle: normalizedHandle,\n            banner: \"\",\n            avatar: \"\",\n            bio: \"This user hasn't set up their community page yet.\",\n            link: \"\",\n          });\n        }\n      }\n\n      // Load works\n      try {\n        const worksData = await worksApi.list({ author: normalizedHandle, limit: 20 });\n        setUserWorks(worksData.works || []);\n      } catch (err) {\n        console.error(\"Failed to load works:\", err);\n      }\n\n      // Load audios\n      try {\n        const audiosData = await uploadsApi.getUserAudios(normalizedHandle);\n        setUserAudios(audiosData.audios || []);\n      } catch (err) {\n        console.error(\"Failed to load audios:\", err);\n      }\n\n      setLoading(false);\n    }\n\n    loadData();\n  }, [normalizedHandle]);\n\n  // Check if following this user\n  React.useEffect(() => {\n    async function checkFollowing() {\n      if (!isAuthed || !userId) return;\n      try {\n        const data = await followsApi.checkFollowing(userId);\n        setIsFollowing(data.following);\n      } catch (err) {\n        console.error(\"Failed to check following status:\", err);\n      }\n    }\n    checkFollowing();\n  }, [isAuthed, userId]);\n\n  // Load followers/following counts\n  React.useEffect(() => {\n    async function loadFollowCounts() {\n      if (!normalizedHandle) return;\n      try {\n        const [followersData, followingData] = await Promise.all([\n          followsApi.getUserFollowers(normalizedHandle),\n          followsApi.getUserFollowing(normalizedHandle),\n        ]);\n        setFollowers(followersData.followers || []);\n        setFollowing(followingData.following || []);\n      } catch (err) {\n        console.error(\"Failed to load follow counts:\", err);\n      }\n    }\n    loadFollowCounts();\n  }, [normalizedHandle]);\n\n  // Open followers/following modal\n  async function openFollowModal(tab) {\n    setFollowModalTab(tab);\n    setFollowModalOpen(true);\n    setLoadingFollows(true);\n\n    try {\n      const [followersData, followingData] = await Promise.all([\n        followsApi.getUserFollowers(normalizedHandle),\n        followsApi.getUserFollowing(normalizedHandle),\n      ]);\n      setFollowers(followersData.followers || []);\n      setFollowing(followingData.following || []);\n    } catch (err) {\n      console.error(\"Failed to load follows:\", err);\n    } finally {\n      setLoadingFollows(false);\n    }\n  }\n\n  function closeFollowModal() {\n    setFollowModalOpen(false);\n  }\n\n  // Chatroom state (starts empty - real-time chat not yet implemented)\n  const [chatMessages, setChatMessages] = React.useState([]);\n  const [chatInput, setChatInput] = React.useState(\"\");\n  const chatEndRef = React.useRef(null);\n  const isInitialChatMount = React.useRef(true);\n\n  function handleSendMessage() {\n    if (!isAuthed) {\n      window.dispatchEvent(new Event(\"sable:open-auth\"));\n      return;\n    }\n    const text = chatInput.trim();\n    if (!text) return;\n    const newMsg = {\n      id: `m_${Date.now()}`,\n      user: normalizedUsername || \"guest\",\n      text,\n      time: new Date().toLocaleTimeString([], { hour: \"numeric\", minute: \"2-digit\" }),\n    };\n    setChatMessages((prev) => [...prev, newMsg]);\n    setChatInput(\"\");\n  }\n\n  function handleChatKeyDown(e) {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  }\n\n  // Only scroll chat to bottom when new messages are added, not on initial load\n  React.useEffect(() => {\n    if (isInitialChatMount.current) {\n      isInitialChatMount.current = false;\n      return;\n    }\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [chatMessages]);\n\n  // Donation state\n  const [donationAmount, setDonationAmount] = React.useState(5);\n  const [customDonation, setCustomDonation] = React.useState(\"\");\n  const [donationSuccess, setDonationSuccess] = React.useState(false);\n  const [donationNote, setDonationNote] = React.useState(\"\");\n\n  function handleDonate() {\n    if (!isAuthed) {\n      window.dispatchEvent(new Event(\"sable:open-auth\"));\n      return;\n    }\n    setDonationSuccess(true);\n    setTimeout(() => setDonationSuccess(false), 3000);\n  }\n\n  function getEffectiveDonation() {\n    const custom = parseFloat(customDonation);\n    if (!isNaN(custom) && custom > 0) return custom;\n    return donationAmount;\n  }\n\n  function handleWorkClick(workId) {\n    navigate(`/works/${encodeURIComponent(workId)}`);\n  }\n\n  async function handleFollow() {\n    if (!isAuthed) {\n      window.dispatchEvent(new Event(\"sable:open-auth\"));\n      return;\n    }\n    if (!userId || followLoading) return;\n    setFollowLoading(true);\n    try {\n      await followsApi.follow(userId);\n      setIsFollowing(true);\n    } catch (err) {\n      console.error(\"Failed to follow:\", err);\n    } finally {\n      setFollowLoading(false);\n    }\n  }\n\n  async function handleUnfollow() {\n    if (!userId || followLoading) return;\n    setFollowLoading(true);\n    try {\n      await followsApi.unfollow(userId);\n      setIsFollowing(false);\n    } catch (err) {\n      console.error(\"Failed to unfollow:\", err);\n    } finally {\n      setFollowLoading(false);\n    }\n  }\n\n  function handleShare() {\n    const url = window.location.href;\n    if (navigator.share) {\n      navigator.share({ title: `${profile.displayName}'s Community Page`, url }).catch(() => {\n        // User cancelled share or share failed - ignore\n      });\n    } else if (navigator.clipboard) {\n      navigator.clipboard.writeText(url);\n      alert(\"Link copied to clipboard!\");\n    }\n  }\n\n  function handleSearch() {\n    setIsSearchOpen((v) => !v);\n  }\n\n  // If you're logged in and you navigate to your own handle, show the editable \"me\" page instead.\n  if (isAuthed && normalizedHandle && normalizedHandle === normalizedUsername) {\n    return <Navigate to=\"/communities/me\" replace />;\n  }\n\n  if (loading) {\n    return (\n      <div className=\"pcp\">\n        <SableLoader />\n      </div>\n    );\n  }\n\n  if (accessDenied) {\n    return (\n      <div className=\"pcp\">\n        <div className=\"pcp-accessDenied\">\n          <div className=\"pcp-accessDeniedIcon\"></div>\n          <h2 className=\"pcp-accessDeniedTitle\">\n            {accessDenied === \"private\" ? \"This page is private\" : \"Followers only\"}\n          </h2>\n          <p className=\"pcp-accessDeniedText\">\n            {accessDenied === \"private\"\n              ? \"This user has set their community page to private.\"\n              : \"This user's community page is only visible to their followers.\"}\n          </p>\n          {!isAuthed && (\n            <button\n              type=\"button\"\n              className=\"pcp-accessDeniedBtn\"\n              onClick={() => window.dispatchEvent(new Event(\"sable:open-auth\"))}\n            >\n              Log in\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <div className=\"pcp\">\n        <div className=\"pcp-notFound\">\n          <h2>User not found</h2>\n          <Link to=\"/communities\">Back to Communities</Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"pcp\">\n      {/* Banner */}\n      <section\n        className={`pcp-banner ${!profile.banner ? \"pcp-banner--empty\" : \"\"}`}\n        style={profile.banner ? { backgroundImage: `url(${profile.banner})` } : undefined}\n        aria-label=\"Community banner\"\n      />\n\n      <section className=\"pcp-card\" aria-label=\"Community profile\">\n        {/* Avatar */}\n        <div className=\"pcp-avatarWrap\">\n          <Avatar avatar={profile.avatar} name={profile.displayName} />\n        </div>\n\n        {/* View-only layout (no edit controls at all) */}\n        <div className=\"pcp-grid\">\n          <div className=\"pcp-left\">\n            <div className=\"pcp-nameRow\">\n              <h1 className=\"pcp-name\">{profile.displayName}</h1>\n\n              <div className=\"pcp-actions\" aria-label=\"Profile actions\">\n                {isFollowing ? (\n                  <button\n                    type=\"button\"\n                    className=\"pcp-actionBtn pcp-followBtn pcp-followBtn--following\"\n                    onClick={handleUnfollow}\n                    disabled={followLoading}\n                    aria-label=\"Unfollow\"\n                  >\n                    {followLoading ? \"...\" : \"Following\"}\n                  </button>\n                ) : (\n                  <button\n                    type=\"button\"\n                    className=\"pcp-actionBtn pcp-followBtn\"\n                    onClick={handleFollow}\n                    disabled={followLoading}\n                    aria-label=\"Follow\"\n                  >\n                    {followLoading ? \"...\" : \"Follow\"}\n                  </button>\n                )}\n                <button type=\"button\" className=\"pcp-actionBtn\" aria-label=\"Search\" onClick={handleSearch}>\n                  \n                </button>\n                <button type=\"button\" className=\"pcp-actionBtn\" aria-label=\"Share\" onClick={handleShare}>\n                  \n                </button>\n              </div>\n            </div>\n\n            <div className=\"pcp-handle\">@{profile.handle}</div>\n\n            <div className=\"pcp-followStats\">\n              <button\n                type=\"button\"\n                className=\"pcp-followStat\"\n                onClick={() => openFollowModal(\"followers\")}\n              >\n                <span className=\"pcp-followStatCount\">{followers.length}</span>\n                <span className=\"pcp-followStatLabel\">Followers</span>\n              </button>\n              <button\n                type=\"button\"\n                className=\"pcp-followStat\"\n                onClick={() => openFollowModal(\"following\")}\n              >\n                <span className=\"pcp-followStatCount\">{following.length}</span>\n                <span className=\"pcp-followStatLabel\">Following</span>\n              </button>\n            </div>\n\n            {isSearchOpen && (\n              <div className=\"pcp-searchBar\" aria-label=\"Search user content\">\n                <input\n                  type=\"text\"\n                  className=\"pcp-searchInput\"\n                  placeholder=\"Search works, skins, audios...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  autoFocus\n                />\n                <button\n                  type=\"button\"\n                  className=\"pcp-searchClose\"\n                  onClick={() => {\n                    setIsSearchOpen(false);\n                    setSearchQuery(\"\");\n                  }}\n                  aria-label=\"Close search\"\n                >\n                  \n                </button>\n              </div>\n            )}\n\n            <p className=\"pcp-bio\">{profile.bio}</p>\n\n            <div className=\"pcp-linkRow\">\n              <span className=\"pcp-linkIcon\" aria-hidden=\"true\">\n                \n              </span>\n              <span className=\"pcp-linkText\">{profile.link}</span>\n            </div>\n\n            <div className=\"pcp-tabs\" role=\"tablist\" aria-label=\"Community tabs\">\n              <button\n                type=\"button\"\n                className={`pcp-tab ${activeTab === \"works\" ? \"pcp-tab--active\" : \"\"}`}\n                role=\"tab\"\n                onClick={() => setActiveTab(\"works\")}\n              >\n                Works\n              </button>\n              <button\n                type=\"button\"\n                className={`pcp-tab ${activeTab === \"reading\" ? \"pcp-tab--active\" : \"\"}`}\n                role=\"tab\"\n                onClick={() => setActiveTab(\"reading\")}\n              >\n                Reading List\n              </button>\n              <button\n                type=\"button\"\n                className={`pcp-tab ${activeTab === \"skins\" ? \"pcp-tab--active\" : \"\"}`}\n                role=\"tab\"\n                onClick={() => setActiveTab(\"skins\")}\n              >\n                Skins\n              </button>\n              <button\n                type=\"button\"\n                className={`pcp-tab ${activeTab === \"audios\" ? \"pcp-tab--active\" : \"\"}`}\n                role=\"tab\"\n                onClick={() => setActiveTab(\"audios\")}\n              >\n                Audios\n              </button>\n            </div>\n\n            {/* Tab Content */}\n            {activeTab === \"works\" && (\n              <div className=\"pcp-tabContent\" aria-label=\"Works\">\n                {userWorks.length === 0 ? (\n                  <div className=\"pcp-emptyState\">No published works yet.</div>\n                ) : (\n                  <div className=\"pcp-worksRow\">\n                    {userWorks.map((work) => (\n                      <div\n                        key={work._id}\n                        className=\"pcp-workCard\"\n                        role=\"button\"\n                        tabIndex={0}\n                        aria-label={work.title}\n                        onClick={() => handleWorkClick(work._id)}\n                        onKeyDown={(e) => e.key === \"Enter\" && handleWorkClick(work._id)}\n                      >\n                        {work.coverImageUrl ? (\n                          <img className=\"pcp-workCover\" src={work.coverImageUrl} alt=\"\" />\n                        ) : (\n                          <div className=\"pcp-workCover pcp-workCover--placeholder\" />\n                        )}\n                        <div className=\"pcp-workInfo\">\n                          <div className=\"pcp-workTitle\">{work.title}</div>\n                          <div className=\"pcp-workMeta\">{work.genre || \"\"}  {work.wordCount?.toLocaleString() || 0} words</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {activeTab === \"reading\" && (\n              <div className=\"pcp-tabContent\" aria-label=\"Reading List\">\n                <div className=\"pcp-emptyState\">\n                  Reading lists are private. Only the user can see their own reading list.\n                </div>\n              </div>\n            )}\n\n            {activeTab === \"skins\" && (\n              <div className=\"pcp-tabContent\" aria-label=\"Skins\">\n                <div className=\"pcp-emptyState\">\n                  Skins feature coming soon.\n                </div>\n              </div>\n            )}\n\n            {activeTab === \"audios\" && (\n              <div className=\"pcp-tabContent\" aria-label=\"Audios\">\n                {userAudios.length === 0 ? (\n                  <div className=\"pcp-emptyState\">No audio uploads yet.</div>\n                ) : (\n                  <div className=\"pcp-listItems\">\n                    {userAudios.map((audio) => (\n                      <div key={audio._id} className=\"pcp-listItem pcp-audioItem\">\n                        <div className=\"pcp-listItemMain\">\n                          <div className=\"pcp-listItemTitle\">{audio.title || \"Audio Track\"}</div>\n                          <div className=\"pcp-listItemMeta\">\n                            {audio.plays || 0} plays  {new Date(audio.createdAt).toLocaleDateString()}\n                          </div>\n                        </div>\n                        <audio controls src={audio.url} className=\"pcp-audioPlayer\" />\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Optional helper link if logged out */}\n            {!isAuthed ? (\n              <div className=\"pcp-loggedOutHint\">\n                Want to customize your page?{\" \"}\n                <button\n                  type=\"button\"\n                  className=\"pcp-loginLink\"\n                  onClick={() => window.dispatchEvent(new Event(\"sable:open-auth\"))}\n                >\n                  Log in\n                </button>\n                .\n              </div>\n            ) : null}\n\n            {/* Optional quick nav back */}\n            <div className=\"pcp-backRow\">\n              <Link className=\"pcp-backLink\" to=\"/communities\">\n                 Back to Communities\n              </Link>\n            </div>\n          </div>\n\n          <aside className=\"pcp-right\" aria-label=\"Community panels\">\n            <div className=\"pcp-panels\">\n              <div className=\"pcp-panel pcp-panel--announcements\">\n                <div className=\"pcp-panelTitle\">Announcements</div>\n                <div className=\"pcp-announcementsBox\">\n                  {announcements.length === 0 ? (\n                    <div className=\"pcp-emptyState pcp-emptyState--small\">No announcements yet</div>\n                  ) : (\n                    announcements.map((ann, idx) => (\n                      <div key={idx} className={`pcp-announcementItem ${ann.pinned ? \"pcp-announcementItem--pinned\" : \"\"}`}>\n                        {ann.pinned && <span className=\"pcp-announcementPin\"></span>}\n                        <div className=\"pcp-announcementContent\">\n                          <div className=\"pcp-announcementText\">{ann.text}</div>\n                          <div className=\"pcp-announcementDate\">\n                            {ann.createdAt ? new Date(ann.createdAt).toLocaleDateString() : \"\"}\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </div>\n              </div>\n\n              <div className=\"pcp-panel pcp-panel--donations\">\n                <div className=\"pcp-panelTitle\">Support {profile.displayName}</div>\n                <div className=\"pcp-donationBox\">\n                  {donationSuccess ? (\n                    <div className=\"pcp-donationSuccess\">\n                      <div className=\"pcp-donationSuccessIcon\"></div>\n                      <div className=\"pcp-donationSuccessText\">Thank you for your support!</div>\n                    </div>\n                  ) : (\n                    <>\n                      <div className=\"pcp-donationAmounts\">\n                        {DONATION_PRESETS.map((amt) => (\n                          <button\n                            key={amt}\n                            type=\"button\"\n                            className={`pcp-donationBtn ${donationAmount === amt && !customDonation ? \"pcp-donationBtn--active\" : \"\"}`}\n                            onClick={() => {\n                              setDonationAmount(amt);\n                              setCustomDonation(\"\");\n                            }}\n                          >\n                            ${amt}\n                          </button>\n                        ))}\n                      </div>\n                      <div className=\"pcp-donationCustom\">\n                        <span className=\"pcp-donationDollar\">$</span>\n                        <input\n                          type=\"text\"\n                          className=\"pcp-donationInput\"\n                          placeholder=\"Other\"\n                          value={customDonation}\n                          onChange={(e) => setCustomDonation(e.target.value.replace(/[^\\d.]/g, \"\"))}\n                        />\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"pcp-donationNote\"\n                        placeholder=\"Add a note (optional)\"\n                        value={donationNote}\n                        onChange={(e) => setDonationNote(e.target.value)}\n                      />\n                      <button\n                        type=\"button\"\n                        className=\"pcp-donateBtn\"\n                        onClick={handleDonate}\n                      >\n                        Donate ${getEffectiveDonation().toFixed(2)}\n                      </button>\n                    </>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"pcp-panel pcp-panel--recentWorks\">\n                <div className=\"pcp-panelTitle\">Recent Works</div>\n                <div className=\"pcp-recentWorksBox\">\n                  {userWorks.length === 0 ? (\n                    <div className=\"pcp-emptyState pcp-emptyState--small\">No works yet</div>\n                  ) : (\n                    userWorks.slice(0, 3).map((work) => (\n                      <div\n                        key={work._id}\n                        className=\"pcp-recentWorkItem\"\n                        onClick={() => handleWorkClick(work._id)}\n                        role=\"button\"\n                        tabIndex={0}\n                        onKeyDown={(e) => e.key === \"Enter\" && handleWorkClick(work._id)}\n                      >\n                        {work.coverImageUrl ? (\n                          <img className=\"pcp-recentWorkCover\" src={work.coverImageUrl} alt=\"\" />\n                        ) : (\n                          <div className=\"pcp-recentWorkCover\" />\n                        )}\n                        <div className=\"pcp-recentWorkInfo\">\n                          <div className=\"pcp-recentWorkTitle\">{work.title}</div>\n                          <div className=\"pcp-recentWorkMeta\">{work.genre || \"\"}  {work.wordCount?.toLocaleString() || 0} words</div>\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </div>\n              </div>\n\n              <div className=\"pcp-panel pcp-panel--chatroom\">\n                <div className=\"pcp-panelTitle\">Chatroom</div>\n                <div className=\"pcp-chatBox\">\n                  <div className=\"pcp-chatMessages\">\n                    {chatMessages.length === 0 ? (\n                      <div className=\"pcp-chatEmpty\">No messages yet. Start the conversation!</div>\n                    ) : (\n                      chatMessages.map((msg) => (\n                        <div key={msg.id} className=\"pcp-chatMessage\">\n                          <div className=\"pcp-chatMsgHeader\">\n                            <span className=\"pcp-chatMsgUser\">@{msg.user}</span>\n                            <span className=\"pcp-chatMsgTime\">{msg.time}</span>\n                          </div>\n                          <div className=\"pcp-chatMsgText\">{msg.text}</div>\n                        </div>\n                      ))\n                    )}\n                    <div ref={chatEndRef} />\n                  </div>\n                  <div className=\"pcp-chatInputRow\">\n                    <input\n                      type=\"text\"\n                      className=\"pcp-chatInput\"\n                      placeholder={isAuthed ? \"Type a message...\" : \"Log in to chat...\"}\n                      value={chatInput}\n                      onChange={(e) => setChatInput(e.target.value)}\n                      onKeyDown={handleChatKeyDown}\n                      aria-label=\"Chat message\"\n                      disabled={!isAuthed}\n                    />\n                    <button\n                      type=\"button\"\n                      className=\"pcp-chatSendBtn\"\n                      onClick={handleSendMessage}\n                      disabled={!isAuthed || !chatInput.trim()}\n                      aria-label=\"Send message\"\n                    >\n                      Send\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </aside>\n        </div>\n      </section>\n\n      {/* Followers/Following Modal */}\n      {followModalOpen && (\n        <div className=\"pcp-modal-overlay\" onClick={closeFollowModal}>\n          <div className=\"pcp-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"pcp-modalHeader\">\n              <div className=\"pcp-modalTabs\">\n                <button\n                  type=\"button\"\n                  className={`pcp-modalTab ${followModalTab === \"followers\" ? \"pcp-modalTab--active\" : \"\"}`}\n                  onClick={() => setFollowModalTab(\"followers\")}\n                >\n                  Followers ({followers.length})\n                </button>\n                <button\n                  type=\"button\"\n                  className={`pcp-modalTab ${followModalTab === \"following\" ? \"pcp-modalTab--active\" : \"\"}`}\n                  onClick={() => setFollowModalTab(\"following\")}\n                >\n                  Following ({following.length})\n                </button>\n              </div>\n              <button type=\"button\" className=\"pcp-modalClose\" onClick={closeFollowModal}>\n                \n              </button>\n            </div>\n\n            <div className=\"pcp-modalBody\">\n              {loadingFollows ? (\n                <div className=\"pcp-modalEmpty\">Loading...</div>\n              ) : followModalTab === \"followers\" ? (\n                followers.length === 0 ? (\n                  <div className=\"pcp-modalEmpty\">No followers yet</div>\n                ) : (\n                  <div className=\"pcp-followList\">\n                    {followers.map((user) => (\n                      <Link\n                        key={user._id}\n                        to={`/communities/${user.username}`}\n                        className=\"pcp-followItem\"\n                        onClick={closeFollowModal}\n                      >\n                        <ListAvatar avatarUrl={user.avatarUrl} name={user.displayName || user.username} />\n                        <div className=\"pcp-followItemInfo\">\n                          <div className=\"pcp-followItemUsername\">@{user.username}</div>\n                          {user.displayName && user.displayName !== user.username && (\n                            <div className=\"pcp-followItemDisplayName\">{user.displayName}</div>\n                          )}\n                        </div>\n                      </Link>\n                    ))}\n                  </div>\n                )\n              ) : following.length === 0 ? (\n                <div className=\"pcp-modalEmpty\">Not following anyone yet</div>\n              ) : (\n                <div className=\"pcp-followList\">\n                  {following.map((user) => (\n                    <Link\n                      key={user._id}\n                      to={`/communities/${user.username}`}\n                      className=\"pcp-followItem\"\n                      onClick={closeFollowModal}\n                    >\n                      <ListAvatar avatarUrl={user.avatarUrl} name={user.displayName || user.username} />\n                      <div className=\"pcp-followItemInfo\">\n                        <div className=\"pcp-followItemUsername\">@{user.username}</div>\n                        {user.displayName && user.displayName !== user.username && (\n                          <div className=\"pcp-followItemDisplayName\">{user.displayName}</div>\n                        )}\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { discoveryApi } from \"../api\";\nimport { SableLoader, DropCapTitle, BrowseOrnament } from \"../components\";\nimport \"./Library.css\";\n\nexport default function GenreIndex() {\n  const navigate = useNavigate();\n  const [genres, setGenres] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function loadGenres() {\n      try {\n        const data = await discoveryApi.genres();\n        setGenres(data.genres || []);\n      } catch (err) {\n        console.error(\"Failed to load genres:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadGenres();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"shelfPage\">\n        <div className=\"shelfBanner\">\n          <BrowseOrnament />\n          <DropCapTitle title=\"Genre\" variant=\"banner\" />\n        </div>\n        <SableLoader />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"shelfPage\">\n      <div className=\"shelfBanner\">\n        <BrowseOrnament />\n        <DropCapTitle title=\"Genre\" variant=\"banner\" />\n      </div>\n\n      <div className=\"shelfBody\">\n        {genres.length === 0 ? (\n          <p>No genres yet. Publish a work to create the first genre.</p>\n        ) : (\n          <div className=\"cardGrid\">\n            {genres.map((g) => (\n              <button\n                key={g.slug}\n                type=\"button\"\n                className=\"topicCard\"\n                onClick={() => navigate(`/genres/${g.slug}`)}\n              >\n                <div className=\"topicCardText\">{g.name}</div>\n                <div className=\"topicCardCount\">{g.worksCount || 0} works</div>\n              </button>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { discoveryApi } from \"../api\";\nimport { SableLoader, DropCapTitle, BrowseOrnament } from \"../components\";\nimport \"./Library.css\";\nimport defaultCover from \"../assets/images/sable_default_cover.png\";\n\nexport default function GenreDetail() {\n  const navigate = useNavigate();\n  const { genreSlug } = useParams();\n\n  const [genre, setGenre] = React.useState(null);\n  const [works, setWorks] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [sort, setSort] = React.useState(\"popular\");\n  const [search, setSearch] = React.useState(\"\");\n\n  React.useEffect(() => {\n    async function loadGenre() {\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await discoveryApi.genre(genreSlug, 1, 100, sort);\n        setGenre(data.genre);\n        setWorks(data.works || []);\n      } catch (err) {\n        console.error(\"Failed to load genre:\", err);\n        setError(err.message || \"Failed to load genre\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadGenre();\n  }, [genreSlug, sort]);\n\n  // Filter works by search\n  const filteredWorks = React.useMemo(() => {\n    if (!search.trim()) return works;\n    const q = search.toLowerCase();\n    return works.filter(\n      (w) =>\n        w.title?.toLowerCase().includes(q) ||\n        w.authorUsername?.toLowerCase().includes(q)\n    );\n  }, [works, search]);\n\n  if (loading) {\n    return (\n      <div className=\"shelfPage\">\n        <div className=\"shelfBanner\">\n          <BrowseOrnament />\n          <DropCapTitle title=\"Genre\" variant=\"banner\" />\n        </div>\n        <SableLoader />\n      </div>\n    );\n  }\n\n  if (error || !genre) {\n    return (\n      <div className=\"shelfPage\">\n        <div className=\"shelfBanner\">\n          <h1 className=\"shelfTitle\">Genre Not Found</h1>\n        </div>\n        <div className=\"shelfBody\">\n          <p>{error || \"This genre doesn't exist.\"}</p>\n          <button\n            type=\"button\"\n            className=\"workPill\"\n            onClick={() => navigate(\"/genres\")}\n          >\n             Back to Genres\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"shelfPage\">\n      <div className=\"shelfBanner\">\n        <BrowseOrnament />\n        <DropCapTitle title={genre.name} variant=\"banner\" />\n        {genre.description && (\n          <p className=\"shelfSubtitle\">{genre.description}</p>\n        )}\n      </div>\n\n      <div className=\"shelfBody shelfBody--withSidebar\">\n        <aside className=\"leftFilters\" aria-label=\"Filters\">\n          <div className=\"filterSearchWrap\">\n            <input\n              className=\"filterSearch\"\n              placeholder={`Search ${genre.name}...`}\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n            />\n          </div>\n\n          <div className=\"filterSection\">\n            <div className=\"filterLabel\">Sort By</div>\n            <label className=\"filterRow\">\n              <input\n                type=\"radio\"\n                name=\"sort\"\n                checked={sort === \"popular\"}\n                onChange={() => setSort(\"popular\")}\n              />\n              <span>Most Popular</span>\n            </label>\n            <label className=\"filterRow\">\n              <input\n                type=\"radio\"\n                name=\"sort\"\n                checked={sort === \"recent\"}\n                onChange={() => setSort(\"recent\")}\n              />\n              <span>Newest</span>\n            </label>\n            <label className=\"filterRow\">\n              <input\n                type=\"radio\"\n                name=\"sort\"\n                checked={sort === \"rating\"}\n                onChange={() => setSort(\"rating\")}\n              />\n              <span>Highest Rated</span>\n            </label>\n          </div>\n        </aside>\n\n        <section className=\"shelfMain\">\n          {filteredWorks.length === 0 ? (\n            <div className=\"emptyNote\">\n              {search\n                ? `No works found matching \"${search}\"`\n                : \"No works found in this genre yet.\"}\n            </div>\n          ) : (\n            <div className=\"worksGrid\">\n              {filteredWorks.map((w) => (\n                <Link\n                  key={w._id}\n                  to={`/works/${w._id}`}\n                  className=\"workCard\"\n                >\n                  <div className=\"workCardCover\">\n                    <img\n                      src={w.coverImageUrl || defaultCover}\n                      alt=\"\"\n                      className=\"workCardCoverImg\"\n                    />\n                  </div>\n                  <div className=\"workCardInfo\">\n                    <div className=\"workCardTitle\">{w.title || \"Untitled\"}</div>\n                    <div className=\"workCardAuthor\">\n                      by {w.authorUsername || \"Unknown\"}\n                    </div>\n                    <div className=\"workCardMeta\">\n                      {w.views || 0} views\n                    </div>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          )}\n        </section>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { discoveryApi } from \"../api\";\nimport { SableLoader, DropCapTitle, BrowseOrnament } from \"../components\";\nimport \"./Library.css\";\n\nexport default function FandomIndex() {\n  const [fandoms, setFandoms] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [search, setSearch] = React.useState(\"\");\n\n  React.useEffect(() => {\n    async function loadFandoms() {\n      try {\n        const data = await discoveryApi.fandoms(null, search || null);\n        setFandoms(data.fandoms || []);\n      } catch (err) {\n        console.error(\"Failed to load fandoms:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadFandoms();\n  }, [search]);\n\n  if (loading) {\n    return (\n      <div className=\"shelfPage\">\n        <div className=\"shelfBanner\">\n          <BrowseOrnament />\n          <DropCapTitle title=\"Fandom\" variant=\"banner\" />\n        </div>\n        <SableLoader />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"shelfPage\">\n      <div className=\"shelfBanner\">\n        <BrowseOrnament />\n        <DropCapTitle title=\"Fandom\" variant=\"banner\" />\n      </div>\n\n      <div className=\"shelfBody\">\n        <div className=\"shelfSearch\">\n          <input\n            type=\"text\"\n            className=\"shelfSearchInput\"\n            placeholder=\"Search fandoms...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n        </div>\n\n        {fandoms.length === 0 ? (\n          <p>No fandoms yet. Publish a work to create the first fandom.</p>\n        ) : (\n          <div className=\"cardGrid\">\n            {fandoms.map((f) => (\n              <Link key={f.slug} className=\"topicCard\" to={`/fandoms/${f.slug}`}>\n                <div className=\"topicCardText\">{f.name}</div>\n                <div className=\"topicCardCount\">{f.worksCount || 0} works</div>\n              </Link>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { discoveryApi } from \"../api\";\nimport { SableLoader, DropCapTitle, BrowseOrnament } from \"../components\";\nimport \"./Library.css\";\nimport defaultCover from \"../assets/images/sable_default_cover.png\";\n\nexport default function FandomDetail() {\n  const navigate = useNavigate();\n  const { fandomSlug } = useParams();\n\n  const [fandom, setFandom] = React.useState(null);\n  const [works, setWorks] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [sort, setSort] = React.useState(\"recent\");\n  const [search, setSearch] = React.useState(\"\");\n\n  React.useEffect(() => {\n    async function loadFandom() {\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await discoveryApi.fandom(fandomSlug, 1, 100, sort);\n        setFandom(data.fandom);\n        setWorks(data.works || []);\n      } catch (err) {\n        console.error(\"Failed to load fandom:\", err);\n        setError(err.message || \"Failed to load fandom\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadFandom();\n  }, [fandomSlug, sort]);\n\n  // Filter works by search\n  const filteredWorks = React.useMemo(() => {\n    if (!search.trim()) return works;\n    const q = search.toLowerCase();\n    return works.filter(\n      (w) =>\n        w.title?.toLowerCase().includes(q) ||\n        w.authorUsername?.toLowerCase().includes(q)\n    );\n  }, [works, search]);\n\n  if (loading) {\n    return (\n      <div className=\"shelfPage\">\n        <div className=\"shelfBanner\">\n          <BrowseOrnament />\n          <DropCapTitle title=\"Fandom\" variant=\"banner\" />\n        </div>\n        <SableLoader />\n      </div>\n    );\n  }\n\n  if (error || !fandom) {\n    return (\n      <div className=\"shelfPage\">\n        <div className=\"shelfBanner\">\n          <h1 className=\"shelfTitle\">Fandom Not Found</h1>\n        </div>\n        <div className=\"shelfBody\">\n          <p>{error || \"This fandom doesn't exist.\"}</p>\n          <button\n            type=\"button\"\n            className=\"workPill\"\n            onClick={() => navigate(\"/fandoms\")}\n          >\n             Back to Fandoms\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"shelfPage\">\n      <div className=\"shelfBanner\">\n        <BrowseOrnament />\n        <DropCapTitle title={fandom.name} variant=\"banner\" />\n        {fandom.description && (\n          <p className=\"shelfSubtitle\">{fandom.description}</p>\n        )}\n      </div>\n\n      <div className=\"shelfBody shelfBody--withSidebar\">\n        <aside className=\"leftFilters\" aria-label=\"Filters\">\n          <div className=\"filterSearchWrap\">\n            <input\n              className=\"filterSearch\"\n              placeholder={`Search ${fandom.name}...`}\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n            />\n          </div>\n\n          <div className=\"filterSection\">\n            <div className=\"filterLabel\">Sort By</div>\n            <label className=\"filterRow\">\n              <input\n                type=\"radio\"\n                name=\"sort\"\n                checked={sort === \"recent\"}\n                onChange={() => setSort(\"recent\")}\n              />\n              <span>Newest</span>\n            </label>\n            <label className=\"filterRow\">\n              <input\n                type=\"radio\"\n                name=\"sort\"\n                checked={sort === \"popular\"}\n                onChange={() => setSort(\"popular\")}\n              />\n              <span>Most Popular</span>\n            </label>\n            <label className=\"filterRow\">\n              <input\n                type=\"radio\"\n                name=\"sort\"\n                checked={sort === \"rating\"}\n                onChange={() => setSort(\"rating\")}\n              />\n              <span>Highest Rated</span>\n            </label>\n          </div>\n        </aside>\n\n        <section className=\"shelfMain\">\n          {filteredWorks.length === 0 ? (\n            <div className=\"emptyNote\">\n              {search\n                ? `No works found matching \"${search}\"`\n                : \"No works found in this fandom yet.\"}\n            </div>\n          ) : (\n            <div className=\"worksGrid\">\n              {filteredWorks.map((w) => (\n                <Link\n                  key={w._id}\n                  to={`/works/${w._id}`}\n                  className=\"workCard\"\n                >\n                  <div className=\"workCardCover\">\n                    <img\n                      src={w.coverImageUrl || defaultCover}\n                      alt=\"\"\n                      className=\"workCardCoverImg\"\n                    />\n                  </div>\n                  <div className=\"workCardInfo\">\n                    <div className=\"workCardTitle\">{w.title || \"Untitled\"}</div>\n                    <div className=\"workCardAuthor\">\n                      by {w.authorUsername || \"Unknown\"}\n                    </div>\n                    <div className=\"workCardMeta\">\n                      {w.views || 0} views\n                    </div>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          )}\n        </section>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { discoveryApi } from \"../api\";\nimport { SableLoader, DropCapTitle, BrowseOrnament } from \"../components\";\nimport \"./Library.css\";\n\nfunction groupByFirstLetter(items) {\n  const map = new Map();\n\n  for (const t of items) {\n    const name = t.name || t;\n    const s = (name || \"\").trim();\n    const letter = s ? s[0].toUpperCase() : \"#\";\n    const key = /[A-Z]/.test(letter) ? letter : \"#\";\n    if (!map.has(key)) map.set(key, []);\n    map.get(key).push(t);\n  }\n\n  const groups = Array.from(map.entries()).sort((a, b) => a[0].localeCompare(b[0]));\n  return groups.map(([letter, list]) => ({\n    letter,\n    items: list.sort((a, b) => {\n      const nameA = a.name || a;\n      const nameB = b.name || b;\n      return nameA.localeCompare(nameB, undefined, { sensitivity: \"base\" });\n    }),\n  }));\n}\n\nexport default function TagsIndex() {\n  const navigate = useNavigate();\n  const [search, setSearch] = React.useState(\"\");\n  const [tags, setTags] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function loadTags() {\n      try {\n        const data = await discoveryApi.tags(search || null);\n        setTags(data.tags || []);\n      } catch (err) {\n        console.error(\"Failed to load tags:\", err);\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadTags();\n  }, [search]);\n\n  const grouped = React.useMemo(() => groupByFirstLetter(tags), [tags]);\n\n  function openTag(tag) {\n    const slug = tag.slug || tag.name || tag;\n    navigate(`/tags/${encodeURIComponent(slug)}`);\n  }\n\n  if (loading) {\n    return (\n      <div className=\"shelfPage\">\n        <div className=\"shelfBanner\">\n          <BrowseOrnament />\n          <DropCapTitle title=\"Tags\" variant=\"banner\" />\n        </div>\n        <SableLoader />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"shelfPage\">\n      <div className=\"shelfBanner\">\n        <BrowseOrnament />\n        <DropCapTitle title=\"Tags\" variant=\"banner\" />\n      </div>\n\n      <div className=\"shelfBody shelfBody--withSidebar\">\n        <aside className=\"leftFilters\" aria-label=\"Filters\">\n          <div className=\"filterSearchWrap\">\n            <input\n              className=\"filterSearch\"\n              placeholder=\"Search Tags...\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              aria-label=\"Search tags\"\n            />\n          </div>\n\n          {/* Visual only filters to match genre/fandom */}\n          <label className=\"filterRow\">\n            <input type=\"checkbox\" defaultChecked />\n            <span>Most Used</span>\n          </label>\n          <label className=\"filterRow\">\n            <input type=\"checkbox\" />\n            <span>Newest</span>\n          </label>\n        </aside>\n\n        <section className=\"shelfMain\">\n          {tags.length === 0 ? (\n            <p className=\"emptyNote\">No tags yet. Publish a work with tags to create the first ones.</p>\n          ) : (\n            <>\n              <h2 className=\"letterHeading\" style={{ marginTop: 0 }}>\n                Popular Tags\n              </h2>\n\n              <div className=\"workPills\" style={{ marginBottom: 22 }}>\n                {tags.slice(0, 20).map((tag) => (\n                  <button key={tag.slug || tag.name} type=\"button\" className=\"workPill\" onClick={() => openTag(tag)}>\n                    {tag.name} ({tag.usageCount || 0})\n                  </button>\n                ))}\n              </div>\n\n              {/* Letter-group view */}\n              {grouped.map((g) => (\n                <div key={g.letter} className=\"letterBlock\">\n                  <div className=\"letterHeading\">{g.letter}</div>\n\n                  <div className=\"workPills\">\n                    {g.items.map((tag) => (\n                      <button key={tag.slug || tag.name} type=\"button\" className=\"workPill\" onClick={() => openTag(tag)}>\n                        {tag.name}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </>\n          )}\n        </section>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { discoveryApi } from \"../api\";\nimport { SableLoader, DropCapTitle, BrowseOrnament } from \"../components\";\nimport \"./Library.css\";\nimport defaultCover from \"../assets/images/sable_default_cover.png\";\n\nexport default function TagDetail() {\n  const navigate = useNavigate();\n  const { tagSlug } = useParams();\n\n  const [tag, setTag] = React.useState(null);\n  const [works, setWorks] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [sort, setSort] = React.useState(\"recent\");\n  const [search, setSearch] = React.useState(\"\");\n\n  React.useEffect(() => {\n    async function loadTag() {\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await discoveryApi.tag(tagSlug, 1, 100, sort);\n        setTag(data.tag);\n        setWorks(data.works || []);\n      } catch (err) {\n        console.error(\"Failed to load tag:\", err);\n        setError(err.message || \"Failed to load tag\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadTag();\n  }, [tagSlug, sort]);\n\n  // Filter works by search\n  const filteredWorks = React.useMemo(() => {\n    if (!search.trim()) return works;\n    const q = search.toLowerCase();\n    return works.filter(\n      (w) =>\n        w.title?.toLowerCase().includes(q) ||\n        w.authorUsername?.toLowerCase().includes(q)\n    );\n  }, [works, search]);\n\n  if (loading) {\n    return (\n      <div className=\"shelfPage\">\n        <div className=\"shelfBanner\">\n          <BrowseOrnament />\n          <DropCapTitle title=\"Tags\" variant=\"banner\" />\n        </div>\n        <SableLoader />\n      </div>\n    );\n  }\n\n  if (error || !tag) {\n    return (\n      <div className=\"shelfPage\">\n        <div className=\"shelfBanner\">\n          <h1 className=\"shelfTitle\">Tag Not Found</h1>\n        </div>\n        <div className=\"shelfBody\">\n          <p>{error || \"This tag doesn't exist.\"}</p>\n          <button\n            type=\"button\"\n            className=\"workPill\"\n            onClick={() => navigate(\"/tags\")}\n          >\n             Back to Tags\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"shelfPage\">\n      <div className=\"shelfBanner\">\n        <BrowseOrnament />\n        <DropCapTitle title={tag.name} variant=\"banner\" />\n        <p className=\"shelfSubtitle\">{tag.usageCount || 0} works with this tag</p>\n      </div>\n\n      <div className=\"shelfBody shelfBody--withSidebar\">\n        <aside className=\"leftFilters\" aria-label=\"Filters\">\n          <div className=\"filterSearchWrap\">\n            <input\n              className=\"filterSearch\"\n              placeholder=\"Search works...\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n            />\n          </div>\n\n          <div className=\"filterSection\">\n            <div className=\"filterLabel\">Sort By</div>\n            <label className=\"filterRow\">\n              <input\n                type=\"radio\"\n                name=\"sort\"\n                checked={sort === \"recent\"}\n                onChange={() => setSort(\"recent\")}\n              />\n              <span>Newest</span>\n            </label>\n            <label className=\"filterRow\">\n              <input\n                type=\"radio\"\n                name=\"sort\"\n                checked={sort === \"popular\"}\n                onChange={() => setSort(\"popular\")}\n              />\n              <span>Most Popular</span>\n            </label>\n          </div>\n        </aside>\n\n        <section className=\"shelfMain\">\n          {filteredWorks.length === 0 ? (\n            <div className=\"emptyNote\">\n              {search\n                ? `No works found matching \"${search}\"`\n                : \"No works found with this tag yet.\"}\n            </div>\n          ) : (\n            <div className=\"worksGrid\">\n              {filteredWorks.map((w) => (\n                <Link\n                  key={w._id}\n                  to={`/works/${w._id}`}\n                  className=\"workCard\"\n                >\n                  <div className=\"workCardCover\">\n                    <img\n                      src={w.coverImageUrl || defaultCover}\n                      alt=\"\"\n                      className=\"workCardCoverImg\"\n                    />\n                  </div>\n                  <div className=\"workCardInfo\">\n                    <div className=\"workCardTitle\">{w.title || \"Untitled\"}</div>\n                    <div className=\"workCardAuthor\">\n                      by {w.authorUsername || \"Unknown\"}\n                    </div>\n                    <div className=\"workCardMeta\">\n                      {w.views || 0} views\n                    </div>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          )}\n        </section>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { worksApi } from \"../api\";\nimport \"./YourWorks.css\";\nimport defaultCover from \"../assets/images/sable_default_cover.png\";\n\nexport default function YourWorks() {\n  const navigate = useNavigate();\n  const [works, setWorks] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n  React.useEffect(() => {\n    loadWorks();\n  }, []);\n\n  async function loadWorks() {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await worksApi.mine();\n      setWorks(data.works || []);\n    } catch (err) {\n      setError(err.message || \"Failed to load works\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function handleEdit(workId) {\n    navigate(`/works/edit/${encodeURIComponent(workId)}`);\n  }\n\n  async function handleDelete(workId, title) {\n    if (!window.confirm(`Are you sure you want to delete \"${title || 'this work'}\"? This cannot be undone.`)) {\n      return;\n    }\n    try {\n      await worksApi.delete(workId);\n      setWorks((prev) => prev.filter((w) => w._id !== workId));\n    } catch (err) {\n      alert(err.message || \"Failed to delete work\");\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"yw-page\">\n        <div className=\"yw-shell\">\n          <p>Loading works...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"yw-page\">\n      <div className=\"yw-shell\">\n        <header className=\"yw-head\">\n          <div className=\"yw-headLeft\">\n            <h1 className=\"yw-title\">Your Works</h1>\n            <p className=\"yw-subtitle\">Published works you can edit individually.</p>\n          </div>\n\n          <div className=\"yw-headRight\">\n            <button type=\"button\" className=\"yw-topBtn\" onClick={() => navigate(\"/drafts\")}>\n              View Drafts\n            </button>\n            <button type=\"button\" className=\"yw-topBtn\" onClick={() => navigate(\"/profile\")}>\n              Back to Profile\n            </button>\n          </div>\n        </header>\n\n        {error && <p style={{ color: \"red\", marginBottom: \"1rem\" }}>{error}</p>}\n\n        <section className=\"yw-gridWrap\" aria-label=\"Published works list\">\n          <div className=\"yw-grid\">\n            {works.length === 0 ? (\n              <p>No published works yet. Create a draft and publish it!</p>\n            ) : (\n              works.map((w) => (\n                <article key={String(w._id)} className=\"yw-card\">\n                  <div\n                    className=\"yw-poster\"\n                    aria-hidden=\"true\"\n                    style={{\n                      backgroundImage: `url(${w.coverImageUrl || defaultCover})`,\n                      backgroundSize: \"cover\",\n                      backgroundPosition: \"center\",\n                    }}\n                  />\n\n                  <h2 className=\"yw-cardTitle\">\n                    <Link\n                      to={`/works/${encodeURIComponent(w._id)}`}\n                      style={{ color: \"inherit\", textDecoration: \"none\" }}\n                      aria-label={`Open work: ${w.title || \"Untitled\"}`}\n                    >\n                      {w.title || \"Untitled\"}\n                    </Link>\n                  </h2>\n\n                  <div className=\"yw-cardMeta\">\n                    {w.wordCount || 0} words &middot; {w.views || 0} views\n                  </div>\n\n                  <div className=\"yw-cardActions\">\n                    <button type=\"button\" className=\"yw-cardBtn\" onClick={() => handleEdit(w._id)}>\n                      Edit\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"yw-cardBtn yw-cardBtn--delete\"\n                      onClick={() => handleDelete(w._id, w.title)}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </article>\n              ))\n            )}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n","// WorkEditor.js - Edit published work\nimport React from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { worksApi, uploadsApi, skinsApi } from \"../api\";\nimport \"./NewDraft.css\";\n\nimport chapterIcon from \"../assets/images/chapter_icon.png\";\nimport importIcon from \"../assets/images/import_icon.png\";\nimport tagsIcon from \"../assets/images/tags_icon.png\";\nimport skinsIcon from \"../assets/images/skins_icon.png\";\nimport privacyIcon from \"../assets/images/privacy_icon.png\";\nimport langIcon from \"../assets/images/lang_icon.png\";\nimport imageIcon from \"../assets/images/image_icon.png\";\nimport previewIcon from \"../assets/images/preview_icon.png\";\n\nconst BUILTIN_SKIN_OPTIONS = [\"Default\", \"Parchment\"];\nconst PRIVACY_OPTIONS = [\"Public\", \"Following\", \"Private\"];\nconst LANGUAGE_OPTIONS = [\"English\", \"Vietnamese\", \"Japanese\", \"French\", \"Spanish\"];\n\n// Common genres for creative writing\nconst GENRE_SUGGESTIONS = [\n  \"Romance\", \"Fantasy\", \"Science Fiction\", \"Mystery\", \"Thriller\", \"Horror\",\n  \"Drama\", \"Comedy\", \"Action\", \"Adventure\", \"Slice of Life\", \"Angst\",\n  \"Fluff\", \"Hurt/Comfort\", \"Historical\", \"Supernatural\", \"Dystopian\"\n];\n\nfunction makeId(prefix = \"ch\") {\n  return `${prefix}_${Date.now()}_${Math.random().toString(16).slice(2)}`;\n}\n\nfunction makeDefaultChapter() {\n  return { id: makeId(\"ch\"), title: \"Chapter 1\", body: \"\", order: 0, audioUrl: \"\" };\n}\n\nfunction ActionPill({ icon, label, subLabel, active, onClick }) {\n  return (\n    <button\n      type=\"button\"\n      className={active ? \"nd-pill nd-pill--active\" : \"nd-pill\"}\n      onClick={onClick}\n      aria-label={label}\n      title={label}\n    >\n      <span className=\"nd-pillIcon\" aria-hidden=\"true\">\n        {icon}\n      </span>\n      <span className=\"nd-pillText\">\n        <span className=\"nd-pillLabel\">{label}</span>\n        {subLabel ? <span className=\"nd-pillSub\">{subLabel}</span> : null}\n      </span>\n    </button>\n  );\n}\n\nfunction renderBodyWithImages(text) {\n  const src = String(text || \"\");\n  const re = /!\\[([^\\]]*)\\]\\(([^)]+)\\)/g;\n\n  const out = [];\n  let lastIndex = 0;\n  let match;\n  let key = 0;\n\n  while ((match = re.exec(src)) !== null) {\n    const [full, altRaw, urlRaw] = match;\n    const start = match.index;\n    const end = start + full.length;\n\n    if (start > lastIndex) {\n      out.push({ type: \"text\", value: src.slice(lastIndex, start), key: `t_${key++}` });\n    }\n\n    out.push({\n      type: \"image\",\n      alt: altRaw || \"image\",\n      url: urlRaw,\n      key: `i_${key++}`,\n    });\n\n    lastIndex = end;\n  }\n\n  if (lastIndex < src.length) {\n    out.push({ type: \"text\", value: src.slice(lastIndex), key: `t_${key++}` });\n  }\n\n  return out.map((node) => {\n    if (node.type === \"image\") {\n      return (\n        <div key={node.key} style={{ margin: \"12px 0\" }}>\n          <img\n            src={node.url}\n            alt={node.alt}\n            style={{\n              maxWidth: \"100%\",\n              height: \"auto\",\n              display: \"block\",\n              borderRadius: 12,\n              boxShadow: \"0 10px 18px rgba(0,0,0,0.10)\",\n            }}\n          />\n        </div>\n      );\n    }\n\n    const lines = String(node.value).split(\"\\n\");\n    return (\n      <span key={node.key}>\n        {lines.map((line, idx) => (\n          <React.Fragment key={`${node.key}_${idx}`}>\n            {line}\n            {idx < lines.length - 1 ? <br /> : null}\n          </React.Fragment>\n        ))}\n      </span>\n    );\n  });\n}\n\nexport default function WorkEditor() {\n  const navigate = useNavigate();\n  const { workId } = useParams();\n\n  const [loading, setLoading] = React.useState(true);\n  const [saving, setSaving] = React.useState(false);\n\n  const [title, setTitle] = React.useState(\"\");\n  const [chapters, setChapters] = React.useState(() => [makeDefaultChapter()]);\n  const [activeChapterId, setActiveChapterId] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (!activeChapterId && chapters.length > 0) {\n      setActiveChapterId(chapters[0].id);\n    }\n  }, [activeChapterId, chapters]);\n\n  const activeChapter = chapters.find((c) => c.id === activeChapterId) || chapters[0] || null;\n  const body = activeChapter?.body || \"\";\n  const chapterAudioUrl = activeChapter?.audioUrl || \"\";\n\n  function setBody(newBody) {\n    setChapters((prev) =>\n      prev.map((ch) =>\n        ch.id === activeChapterId\n          ? { ...ch, body: typeof newBody === \"function\" ? newBody(ch.body) : newBody }\n          : ch\n      )\n    );\n  }\n\n  function setChapterAudio(url) {\n    setChapters((prev) =>\n      prev.map((ch) =>\n        ch.id === activeChapterId\n          ? { ...ch, audioUrl: url }\n          : ch\n      )\n    );\n  }\n\n  function addChapter() {\n    const newCh = { id: makeId(\"ch\"), title: `Chapter ${chapters.length + 1}`, body: \"\", order: chapters.length, audioUrl: \"\" };\n    setChapters((prev) => [...prev, newCh]);\n    setActiveChapterId(newCh.id);\n  }\n\n  function renameChapter(chId, newTitle) {\n    setChapters((prev) => prev.map((ch) => (ch.id === chId ? { ...ch, title: newTitle } : ch)));\n  }\n\n  function deleteChapter(chId) {\n    if (chapters.length <= 1) return;\n    setChapters((prev) => {\n      const next = prev.filter((ch) => ch.id !== chId);\n      if (activeChapterId === chId && next.length > 0) {\n        setActiveChapterId(next[0].id);\n      }\n      return next;\n    });\n  }\n\n  function moveChapter(chId, direction) {\n    setChapters((prev) => {\n      const idx = prev.findIndex((ch) => ch.id === chId);\n      if (idx < 0) return prev;\n      const newIdx = idx + direction;\n      if (newIdx < 0 || newIdx >= prev.length) return prev;\n      const next = [...prev];\n      [next[idx], next[newIdx]] = [next[newIdx], next[idx]];\n      return next;\n    });\n  }\n\n  const [tags, setTags] = React.useState([]);\n  const [skin, setSkin] = React.useState(\"Default\");\n  const [customSkinId, setCustomSkinId] = React.useState(null);\n  const [customSkins, setCustomSkins] = React.useState([]);\n  const [privacy, setPrivacy] = React.useState(\"Public\");\n  const [language, setLanguage] = React.useState(\"English\");\n  const [genre, setGenre] = React.useState(\"\");\n  const [fandom, setFandom] = React.useState(\"\");\n  const [coverImageUrl, setCoverImageUrl] = React.useState(\"\");\n\n  const [audioUrl, setAudioUrl] = React.useState(\"\");\n  const [imageUrls, setImageUrls] = React.useState([]);\n\n  const [activeTool, setActiveTool] = React.useState(\"\");\n  const [tagInput, setTagInput] = React.useState(\"\");\n  const [status, setStatus] = React.useState(\"\");\n  const [previewOn, setPreviewOn] = React.useState(false);\n\n  const bodyRef = React.useRef(null);\n\n  function toggleTool(tool) {\n    setActiveTool((prev) => (prev === tool ? \"\" : tool));\n  }\n\n  function insertIntoBody(text) {\n    const el = bodyRef.current;\n    if (!el) {\n      setBody((prev) => `${prev}${prev ? \"\\n\" : \"\"}${text}`);\n      return;\n    }\n\n    const start = el.selectionStart ?? body.length;\n    const end = el.selectionEnd ?? body.length;\n\n    const before = body.slice(0, start);\n    const after = body.slice(end);\n\n    const next = `${before}${text}${after}`;\n    setBody(next);\n\n    requestAnimationFrame(() => {\n      try {\n        el.focus();\n        const pos = start + text.length;\n        el.setSelectionRange(pos, pos);\n      } catch {\n        // ignore\n      }\n    });\n  }\n\n  // Formatting functions for toolbar\n  function wrapSelection(before, after) {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const end = el.selectionEnd;\n    const selectedText = body.slice(start, end);\n\n    const beforeText = body.slice(0, start);\n    const afterText = body.slice(end);\n\n    const newText = `${beforeText}${before}${selectedText}${after}${afterText}`;\n    setBody(newText);\n\n    requestAnimationFrame(() => {\n      try {\n        el.focus();\n        el.setSelectionRange(start + before.length, end + before.length);\n      } catch {\n        // ignore\n      }\n    });\n  }\n\n  function formatBold() {\n    wrapSelection(\"**\", \"**\");\n  }\n\n  function formatItalic() {\n    wrapSelection(\"*\", \"*\");\n  }\n\n  function formatUnderline() {\n    wrapSelection(\"<u>\", \"</u>\");\n  }\n\n  function formatStrike() {\n    wrapSelection(\"~~\", \"~~\");\n  }\n\n  function formatHeading() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const lineStart = body.lastIndexOf(\"\\n\", start - 1) + 1;\n    const beforeLine = body.slice(0, lineStart);\n    const afterLineStart = body.slice(lineStart);\n\n    setBody(`${beforeLine}## ${afterLineStart}`);\n  }\n\n  function formatLink() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const end = el.selectionEnd;\n    const selectedText = body.slice(start, end) || \"link text\";\n\n    const beforeText = body.slice(0, start);\n    const afterText = body.slice(end);\n\n    const newText = `${beforeText}[${selectedText}](url)${afterText}`;\n    setBody(newText);\n  }\n\n  function formatList() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const lineStart = body.lastIndexOf(\"\\n\", start - 1) + 1;\n    const beforeLine = body.slice(0, lineStart);\n    const afterLineStart = body.slice(lineStart);\n\n    setBody(`${beforeLine}- ${afterLineStart}`);\n  }\n\n  function formatQuote() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const lineStart = body.lastIndexOf(\"\\n\", start - 1) + 1;\n    const beforeLine = body.slice(0, lineStart);\n    const afterLineStart = body.slice(lineStart);\n\n    setBody(`${beforeLine}> ${afterLineStart}`);\n  }\n\n  function addTag() {\n    const cleaned = tagInput.trim().replace(/^#/, \"\");\n    if (!cleaned) return;\n    if (tags.includes(cleaned)) return;\n\n    setTags((prev) => [...prev, cleaned]);\n    setTagInput(\"\");\n  }\n\n  function removeTag(tag) {\n    setTags((prev) => prev.filter((t) => t !== tag));\n  }\n\n  // Load work from API\n  React.useEffect(() => {\n    if (!workId) {\n      setLoading(false);\n      return;\n    }\n\n    async function loadWork() {\n      try {\n        setLoading(true);\n        const data = await worksApi.get(workId);\n        const work = data.work;\n\n        setTitle(work.title || \"\");\n        if (Array.isArray(work.chapters) && work.chapters.length > 0) {\n          setChapters(work.chapters);\n          setActiveChapterId(work.chapters[0].id);\n        }\n        setTags(Array.isArray(work.tags) ? work.tags : []);\n        setSkin(work.skin || \"Default\");\n        setCustomSkinId(work.customSkinId || null);\n        setPrivacy(work.privacy || \"Public\");\n        setLanguage(work.language || \"English\");\n        setGenre(work.genre || \"\");\n        setFandom(work.fandom || \"\");\n        setCoverImageUrl(work.coverImageUrl || \"\");\n        setAudioUrl(work.audioUrl || \"\");\n        setImageUrls(Array.isArray(work.imageUrls) ? work.imageUrls : []);\n      } catch (err) {\n        setStatus(err.message || \"Failed to load work\");\n        navigate(\"/works\", { replace: true });\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadWork();\n  }, [workId, navigate]);\n\n  // Load custom skins\n  React.useEffect(() => {\n    async function loadCustomSkins() {\n      try {\n        const data = await skinsApi.list(\"work\");\n        setCustomSkins(data.skins || []);\n      } catch {\n        // Ignore errors\n      }\n    }\n    loadCustomSkins();\n  }, []);\n\n  // Save work to API\n  async function handleSave() {\n    try {\n      setSaving(true);\n      setStatus(\"Saving...\");\n\n      const payload = {\n        title: title.trim() || \"Untitled\",\n        chapters: chapters.map((ch, idx) => ({\n          id: ch.id,\n          title: ch.title,\n          body: ch.body,\n          order: idx,\n          audioUrl: ch.audioUrl || \"\",\n        })),\n        tags,\n        skin,\n        customSkinId,\n        privacy,\n        language,\n        genre: genre.trim() || \"\",\n        fandom: fandom.trim() || \"Original Work\",\n        coverImageUrl,\n        audioUrl,\n        imageUrls,\n      };\n\n      await worksApi.update(workId, payload);\n      setStatus(\"Saved!\");\n      setTimeout(() => setStatus(\"\"), 1500);\n    } catch (err) {\n      setStatus(err.message || \"Save failed\");\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  async function handleDone() {\n    await handleSave();\n    navigate(\"/works\");\n  }\n\n  // Upload cover image\n  async function handleCoverUpload(e) {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n\n    try {\n      setStatus(\"Uploading cover...\");\n      const data = await uploadsApi.image(file);\n      setCoverImageUrl(data.url);\n      setStatus(\"Cover uploaded.\");\n    } catch (err) {\n      setStatus(err.message || \"Cover upload failed.\");\n    } finally {\n      e.target.value = \"\";\n      setTimeout(() => setStatus(\"\"), 1500);\n    }\n  }\n\n  // Upload audio to S3 for current chapter\n  async function handleAudioUpload(e) {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n\n    try {\n      setStatus(\"Uploading audio...\");\n      const data = await uploadsApi.audio(file);\n      setChapterAudio(data.url);\n      setStatus(\"Audio attached to this chapter.\");\n    } catch (err) {\n      setStatus(err.message || \"Audio upload failed.\");\n    } finally {\n      e.target.value = \"\";\n      setTimeout(() => setStatus(\"\"), 1500);\n    }\n  }\n\n  // Upload image to S3 and insert into body\n  async function handleImageUpload(e) {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n\n    try {\n      setStatus(\"Uploading image...\");\n      const data = await uploadsApi.image(file);\n      const url = data.url;\n\n      setImageUrls((prev) => [url, ...prev]);\n\n      const safeAlt = (file.name || \"image\").replace(/\\.[^/.]+$/, \"\");\n      const snippet = `\\n\\n![${safeAlt}](${url})\\n\\n`;\n      insertIntoBody(snippet);\n\n      setStatus(\"Image inserted.\");\n    } catch (err) {\n      setStatus(err.message || \"Image upload failed.\");\n    } finally {\n      e.target.value = \"\";\n      setTimeout(() => setStatus(\"\"), 1500);\n    }\n  }\n\n  const IconImg = ({ src, alt }) => (\n    <img\n      src={src}\n      alt={alt}\n      width={18}\n      height={18}\n      style={{ display: \"block\", width: 18, height: 18, objectFit: \"contain\" }}\n      draggable={false}\n    />\n  );\n\n  if (loading) {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\">\n          <p>Loading work...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"nd-page\">\n      <div className=\"nd-shell\">\n        <h1 className=\"nd-title\">Edit Work</h1>\n\n        <section className=\"nd-card\">\n          <div className=\"nd-pillRow\">\n            <ActionPill\n              icon={<IconImg src={chapterIcon} alt=\"Chapters\" />}\n              label=\"Chapters\"\n              subLabel={`${chapters.length}`}\n              onClick={() => toggleTool(\"chapters\")}\n              active={activeTool === \"chapters\"}\n            />\n            <ActionPill\n              icon={<IconImg src={importIcon} alt=\"Import\" />}\n              label=\"Import\"\n              subLabel=\"Soon\"\n              onClick={() => toggleTool(\"import\")}\n              active={activeTool === \"import\"}\n            />\n            <ActionPill\n              icon={<IconImg src={tagsIcon} alt=\"Tags\" />}\n              label=\"Tags\"\n              subLabel={tags.length ? `${tags.length}` : \"\"}\n              onClick={() => toggleTool(\"tags\")}\n              active={activeTool === \"tags\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Genre\"\n              subLabel={genre || \"Required\"}\n              onClick={() => toggleTool(\"genre\")}\n              active={activeTool === \"genre\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Fandom\"\n              subLabel={fandom || \"Original\"}\n              onClick={() => toggleTool(\"fandom\")}\n              active={activeTool === \"fandom\"}\n            />\n            <ActionPill\n              icon={<IconImg src={skinsIcon} alt=\"Skin\" />}\n              label=\"Skin\"\n              subLabel={skin}\n              onClick={() => toggleTool(\"skin\")}\n              active={activeTool === \"skin\"}\n            />\n            <ActionPill\n              icon={<IconImg src={privacyIcon} alt=\"Privacy\" />}\n              label=\"Privacy\"\n              subLabel={privacy}\n              onClick={() => toggleTool(\"privacy\")}\n              active={activeTool === \"privacy\"}\n            />\n            <ActionPill\n              icon={<IconImg src={langIcon} alt=\"Language\" />}\n              label=\"Language\"\n              subLabel={language}\n              onClick={() => toggleTool(\"language\")}\n              active={activeTool === \"language\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Cover\"\n              subLabel={coverImageUrl ? \"Set\" : \"None\"}\n              onClick={() => toggleTool(\"cover\")}\n              active={activeTool === \"cover\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Audio\"\n              subLabel={chapterAudioUrl ? \"Has Audio\" : \"None\"}\n              onClick={() => toggleTool(\"audio\")}\n              active={activeTool === \"audio\"}\n            />\n            <ActionPill\n              icon={<IconImg src={imageIcon} alt=\"Images\" />}\n              label=\"Images\"\n              subLabel={imageUrls.length ? `${imageUrls.length}` : \"0\"}\n              onClick={() => toggleTool(\"images\")}\n              active={activeTool === \"images\"}\n            />\n            <ActionPill\n              icon={<IconImg src={previewIcon} alt=\"Preview\" />}\n              label=\"Preview\"\n              subLabel={previewOn ? \"On\" : \"Off\"}\n              onClick={() => setPreviewOn((v) => !v)}\n              active={previewOn}\n            />\n          </div>\n\n          {activeTool === \"chapters\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Chapters</div>\n              <div className=\"nd-chapterList\">\n                {chapters.map((ch, idx) => (\n                  <div key={ch.id} className={`nd-chapterItem ${ch.id === activeChapterId ? \"nd-chapterItem--active\" : \"\"}`}>\n                    <button type=\"button\" className=\"nd-chapterSelect\" onClick={() => setActiveChapterId(ch.id)}>\n                      <input\n                        className=\"nd-chapterTitleInput\"\n                        value={ch.title}\n                        onChange={(e) => renameChapter(ch.id, e.target.value)}\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                    </button>\n                    <div className=\"nd-chapterActions\">\n                      <button type=\"button\" className=\"nd-chapterBtn\" onClick={() => moveChapter(ch.id, -1)} disabled={idx === 0} title=\"Move up\">\n                        \n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"nd-chapterBtn\"\n                        onClick={() => moveChapter(ch.id, 1)}\n                        disabled={idx === chapters.length - 1}\n                        title=\"Move down\"\n                      >\n                        \n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"nd-chapterBtn nd-chapterBtn--delete\"\n                        onClick={() => deleteChapter(ch.id)}\n                        disabled={chapters.length <= 1}\n                        title=\"Delete chapter\"\n                      >\n                        \n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <button type=\"button\" className=\"nd-ornateBtn nd-ornateBtn--small\" onClick={addChapter}>\n                + Add Chapter\n              </button>\n            </div>\n          )}\n\n          {activeTool === \"tags\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Tags</div>\n              <div style={{ display: \"flex\", gap: 8 }}>\n                <input className=\"nd-toolInput\" placeholder=\"Add a tag\" value={tagInput} onChange={(e) => setTagInput(e.target.value)} />\n                <button type=\"button\" className=\"nd-ornateBtn nd-ornateBtn--small\" onClick={addTag}>\n                  Add\n                </button>\n              </div>\n              {tags.length > 0 && (\n                <div className=\"nd-tags\">\n                  {tags.map((t) => (\n                    <button key={t} className=\"nd-tag\" onClick={() => removeTag(t)}>\n                      #{t} \n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTool === \"genre\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Genre <span style={{ color: \"#c44\", fontWeight: \"normal\" }}>(Required)</span></div>\n              <input\n                className=\"nd-toolInput\"\n                placeholder=\"Enter genre (e.g., Romance, Fantasy)\"\n                value={genre}\n                onChange={(e) => setGenre(e.target.value)}\n              />\n              <div className=\"nd-toolHint\" style={{ marginTop: 8 }}>\n                Suggestions:\n                <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 6, marginTop: 6 }}>\n                  {GENRE_SUGGESTIONS.map((g) => (\n                    <button\n                      key={g}\n                      type=\"button\"\n                      className=\"nd-tag\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() => setGenre(g)}\n                    >\n                      {g}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"fandom\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Fandom</div>\n              <input\n                className=\"nd-toolInput\"\n                placeholder=\"Enter fandom (leave empty for Original Work)\"\n                value={fandom}\n                onChange={(e) => setFandom(e.target.value)}\n              />\n              <div className=\"nd-toolHint\">\n                If your work is not based on an existing property, leave empty or enter \"Original Work\".\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"skin\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Skin</div>\n              <div className=\"nd-toolSubtitle\">Built-in Skins</div>\n              <div className=\"nd-choiceRow\">\n                {BUILTIN_SKIN_OPTIONS.map((opt) => (\n                  <label key={opt} className=\"nd-choice\">\n                    <input\n                      type=\"radio\"\n                      checked={skin === opt && !customSkinId}\n                      onChange={() => {\n                        setSkin(opt);\n                        setCustomSkinId(null);\n                      }}\n                    />\n                    <span>{opt}</span>\n                  </label>\n                ))}\n              </div>\n              {customSkins.length > 0 && (\n                <>\n                  <div className=\"nd-toolSubtitle\" style={{ marginTop: 12 }}>Custom Skins</div>\n                  <div className=\"nd-choiceRow\">\n                    {customSkins.map((cs) => (\n                      <label key={cs._id} className=\"nd-choice\">\n                        <input\n                          type=\"radio\"\n                          checked={customSkinId === cs._id}\n                          onChange={() => {\n                            setSkin(cs.name);\n                            setCustomSkinId(cs._id);\n                          }}\n                        />\n                        <span>{cs.name}</span>\n                      </label>\n                    ))}\n                  </div>\n                </>\n              )}\n              <div className=\"nd-toolHint\">\n                Choose a reading skin for your work. Readers will see this theme when viewing.\n                {customSkins.length === 0 && (\n                  <> Create custom skins in <a href=\"/settings\" style={{ color: \"#244b2b\" }}>Settings  Skins</a>.</>\n                )}\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"privacy\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Privacy</div>\n              <div className=\"nd-choiceRow\">\n                {PRIVACY_OPTIONS.map((opt) => (\n                  <label key={opt} className=\"nd-choice\">\n                    <input type=\"radio\" checked={privacy === opt} onChange={() => setPrivacy(opt)} />\n                    <span>{opt}</span>\n                  </label>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"language\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Language</div>\n              <select className=\"nd-toolSelect\" value={language} onChange={(e) => setLanguage(e.target.value)}>\n                {LANGUAGE_OPTIONS.map((opt) => (\n                  <option key={opt}>{opt}</option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {activeTool === \"cover\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Cover Image / Thumbnail</div>\n              <input className=\"nd-toolInput\" type=\"file\" accept=\"image/*\" onChange={handleCoverUpload} />\n              <div className=\"nd-toolHint\">\n                Upload a cover image for your work. If not set, a default Sable cover will be used.\n              </div>\n              {coverImageUrl && (\n                <div style={{ marginTop: 12 }}>\n                  <img src={coverImageUrl} alt=\"Cover preview\" style={{ maxWidth: 200, borderRadius: 8 }} />\n                  <button\n                    type=\"button\"\n                    className=\"nd-ornateBtn nd-ornateBtn--small\"\n                    style={{ marginTop: 8, display: \"block\" }}\n                    onClick={() => setCoverImageUrl(\"\")}\n                  >\n                    Remove Cover\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTool === \"audio\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Chapter Audio</div>\n              <div className=\"nd-toolHint\" style={{ marginBottom: 8, fontWeight: 500 }}>\n                Currently editing: {activeChapter?.title || \"Chapter\"}\n              </div>\n              <input className=\"nd-toolInput\" type=\"file\" accept=\"audio/*\" onChange={handleAudioUpload} />\n              <div className=\"nd-toolHint\">\n                {chapterAudioUrl\n                  ? \"Audio attached to this chapter\"\n                  : \"Upload an audio file for this chapter. Each chapter can have its own audio.\"}\n              </div>\n              {chapterAudioUrl && (\n                <div style={{ marginTop: 8 }}>\n                  <audio controls src={chapterAudioUrl} style={{ width: \"100%\" }} />\n                  <button\n                    type=\"button\"\n                    className=\"nd-ornateBtn nd-ornateBtn--small\"\n                    style={{ marginTop: 8 }}\n                    onClick={() => setChapterAudio(\"\")}\n                  >\n                    Remove Audio\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTool === \"images\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Insert Image Into Body</div>\n              <input className=\"nd-toolInput\" type=\"file\" accept=\"image/*\" onChange={handleImageUpload} />\n              <div className=\"nd-toolHint\">Upload an image and it will be inserted into the work body at your cursor position.</div>\n            </div>\n          )}\n\n          {!previewOn ? (\n            <>\n              <div className=\"nd-bodyLabel\">Title</div>\n              <input className=\"nd-textarea\" style={{ minHeight: 44 }} value={title} onChange={(e) => setTitle(e.target.value)} />\n\n              <div className=\"nd-chapterSelector\">\n                <label className=\"nd-chapterSelectorLabel\">Currently Editing:</label>\n                <select\n                  className=\"nd-chapterDropdown\"\n                  value={activeChapterId}\n                  onChange={(e) => setActiveChapterId(e.target.value)}\n                >\n                  {chapters.map((ch, idx) => (\n                    <option key={ch.id} value={ch.id}>\n                      {ch.title || `Chapter ${idx + 1}`}\n                    </option>\n                  ))}\n                </select>\n                <span className=\"nd-chapterCount\">\n                  ({chapters.findIndex((c) => c.id === activeChapterId) + 1} of {chapters.length})\n                </span>\n              </div>\n\n              <div className=\"nd-bodyLabel\" style={{ marginTop: 8 }}>\n                Chapter Content\n              </div>\n\n              {/* Formatting Toolbar */}\n              <div className=\"nd-formatToolbar\">\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatBold(); }} title=\"Bold (Ctrl+B)\">\n                  <strong>B</strong>\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatItalic(); }} title=\"Italic (Ctrl+I)\">\n                  <em>I</em>\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatUnderline(); }} title=\"Underline\">\n                  <u>U</u>\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatStrike(); }} title=\"Strikethrough\">\n                  <s>S</s>\n                </button>\n                <span className=\"nd-formatDivider\" />\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatHeading(); }} title=\"Heading\">\n                  H\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatQuote(); }} title=\"Quote\">\n                  \"\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatList(); }} title=\"List\">\n                  \n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatLink(); }} title=\"Link\">\n                  \n                </button>\n              </div>\n\n              <textarea ref={bodyRef} className=\"nd-textarea\" value={body} onChange={(e) => setBody(e.target.value)} />\n            </>\n          ) : (\n            <div className=\"nd-toolPanel\" style={{ marginTop: 12 }}>\n              <div className=\"nd-toolTitle\">Preview</div>\n\n              <div className=\"nd-bodyLabel\" style={{ marginTop: 6 }}>\n                Title\n              </div>\n              <div\n                style={{\n                  background: \"rgba(255,255,255,0.92)\",\n                  border: \"1px solid rgba(0,0,0,0.10)\",\n                  borderRadius: 12,\n                  padding: 12,\n                  fontFamily: '\"Libre Baskerville\", serif',\n                  fontSize: 15,\n                  lineHeight: 1.7,\n                  color: \"rgba(0,0,0,0.82)\",\n                }}\n              >\n                {title?.trim() ? title : \"Untitled\"}\n              </div>\n\n              {audioUrl ? (\n                <>\n                  <div className=\"nd-bodyLabel\" style={{ marginTop: 14 }}>\n                    Audio\n                  </div>\n                  <audio controls src={audioUrl} style={{ width: \"100%\" }} />\n                </>\n              ) : null}\n\n              <div className=\"nd-bodyLabel\" style={{ marginTop: 14 }}>\n                {activeChapter ? activeChapter.title : \"Chapter\"} Body\n              </div>\n              <div\n                style={{\n                  background: \"rgba(255,255,255,0.92)\",\n                  border: \"1px solid rgba(0,0,0,0.10)\",\n                  borderRadius: 12,\n                  padding: 12,\n                  fontFamily: '\"Libre Baskerville\", serif',\n                  fontSize: 15,\n                  lineHeight: 1.7,\n                  color: \"rgba(0,0,0,0.82)\",\n                }}\n              >\n                {renderBodyWithImages(body)}\n              </div>\n            </div>\n          )}\n\n          {status && <div className=\"nd-status\">{status}</div>}\n\n          <div className=\"nd-actions\">\n            <button\n              className=\"nd-ornateBtn nd-ornateBtn--primary\"\n              onClick={handleSave}\n              disabled={saving}\n            >\n              {saving ? \"Saving...\" : \"Save\"}\n            </button>\n            <button className=\"nd-ornateBtn\" onClick={handleDone}>\n              Done\n            </button>\n            <button className=\"nd-ornateBtn\" onClick={() => navigate(\"/works\")}>\n              Back to Works\n            </button>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport \"./WorkView.css\";\nimport \"../styles/skins.css\";\n\nimport { worksApi, bookmarksApi, commentsApi, skinsApi } from \"../api\";\nimport { works as libraryWorks } from \"../data/libraryWorks\";\n\nimport musicIcon from \"../assets/images/music_icon.png\";\nimport settingsIcon from \"../assets/images/settings_icon.png\";\nimport commentsIcon from \"../assets/images/comments_icon.png\";\nimport bookmarkOffIcon from \"../assets/images/bookmark_icon_off.png\";\nimport bookmarkOnIcon from \"../assets/images/bookmark_icon_on.png\";\n\n// Keep localStorage for view prefs only - bookmarks use API\nconst VIEW_PREFS_KEY = \"sable_workview_prefs_v1\";\n\nfunction safeParse(json) {\n  try {\n    return JSON.parse(json);\n  } catch {\n    return null;\n  }\n}\n\nfunction loadJson(key, fallback) {\n  const raw = localStorage.getItem(key);\n  const parsed = safeParse(raw);\n  return parsed ?? fallback;\n}\n\nfunction saveJson(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch {\n    // ignore\n  }\n}\n\nfunction clamp(n, min, max) {\n  const num = Number.isFinite(n) ? n : min;\n  return Math.max(min, Math.min(max, num));\n}\n\nfunction makePlaceholderBody(title) {\n  const t = (title || \"Untitled\").trim();\n  return [\n    t,\n    \"\",\n    \"This is a front-end mock story viewing page.\",\n    \"Images behave like AO3: they appear only if the author includes them in the body.\",\n    \"\",\n    \"Audio + music controls are styled as real UI so we can wire APIs later.\",\n  ].join(\"\\n\");\n}\n\nfunction openLoginModal() {\n  window.dispatchEvent(new Event(\"sable:open-auth\"));\n}\n\nfunction isImageUrl(url) {\n  const u = String(url || \"\");\n  return (\n    u.startsWith(\"http\") ||\n    u.startsWith(\"data:image/\") ||\n    u.startsWith(\"/\") ||\n    u.includes(\"/static/\") ||\n    u.includes(\"assets/\")\n  );\n}\n\n\nfunction parseBodyToBlocks(body) {\n  const raw = String(body || \"\");\n  const lines = raw.split(\"\\n\");\n\n  const blocks = [];\n  let buf = [];\n\n  function flushPara() {\n    const text = buf.join(\" \").replace(/\\s+/g, \" \").trim();\n    if (text) blocks.push({ type: \"p\", text });\n    buf = [];\n  }\n\n  const imgRe = /!\\[(.*?)\\]\\((.*?)\\)/g;\n\n  for (const line of lines) {\n    const trimmed = String(line || \"\").trim();\n\n    if (!trimmed) {\n      flushPara();\n      continue;\n    }\n\n    let m;\n    let lastIdx = 0;\n    imgRe.lastIndex = 0;\n\n    while ((m = imgRe.exec(trimmed)) !== null) {\n      const before = trimmed.slice(lastIdx, m.index).trim();\n      if (before) buf.push(before);\n      flushPara();\n\n      const alt = m[1] || \"\";\n      const url = m[2] || \"\";\n      blocks.push({ type: \"img\", alt, url });\n\n      lastIdx = m.index + m[0].length;\n    }\n\n    const after = trimmed.slice(lastIdx).trim();\n    if (after) buf.push(after);\n  }\n\n  flushPara();\n  return blocks;\n}\n\nfunction getChaptersFromWork(work) {\n  const w = work || {};\n  if (Array.isArray(w.chapters) && w.chapters.length) return w.chapters;\n\n  // if work has old single body format, wrap in a chapter\n  if (w.body) {\n    return [{ id: \"c1\", title: \"Chapter 1\", body: w.body }];\n  }\n\n  // Mock fallback for library works without chapters\n  return [{ id: \"c1\", title: \"Chapter 1\", body: \"\" }];\n}\n\n// Helpers for mock duration\nfunction parseDurationToSeconds(dur) {\n  const s = String(dur || \"\").trim();\n  const parts = s.split(\":\");\n  if (parts.length !== 2) return 0;\n  const m = Number(parts[0]);\n  const sec = Number(parts[1]);\n  if (!Number.isFinite(m) || !Number.isFinite(sec)) return 0;\n  return Math.max(0, m * 60 + sec);\n}\n\nfunction formatSeconds(secs) {\n  const s = Math.max(0, Math.floor(secs || 0));\n  const m = Math.floor(s / 60);\n  const r = s % 60;\n  return `${m}:${String(r).padStart(2, \"0\")}`;\n}\n\n// Mock audio tracks removed - now only real uploads are shown\n\nfunction getWorkAudioTrack(work, authorHandle) {\n  if (!work?.audioUrl) return null;\n  return {\n    id: `work_audio_${work._id || \"main\"}`,\n    title: work.title || \"Work Audio\",\n    author: authorHandle,\n    duration: \"0:00\", // Will be calculated from actual audio\n    src: work.audioUrl,\n  };\n}\n\nfunction getChapterAudioTrack(chapter, authorHandle, workTitle) {\n  if (!chapter?.audioUrl) return null;\n  return {\n    id: `chapter_audio_${chapter.id}`,\n    title: chapter.title || \"Chapter Audio\",\n    author: authorHandle,\n    duration: \"0:00\", // Will be calculated from actual audio\n    src: chapter.audioUrl,\n  };\n}\n\nexport default function WorkView({ isAuthed = false, username = \"john.doe\" }) {\n  const navigate = useNavigate();\n  const { workId } = useParams();\n\n  const normalizedUser = (username || \"john.doe\").trim().toLowerCase();\n  const decodedId = decodeURIComponent(workId || \"\");\n\n  // Modal panel, settings + audio library picker\n  const [panel, setPanel] = React.useState(null); // \"settings\" | \"audioLibrary\" | null\n\n  // Chapters\n  const [activeChapterId, setActiveChapterId] = React.useState(\"c1\");\n\n  // Comments\n  const [commentsOpen, setCommentsOpen] = React.useState(false);\n  const [commentDraft, setCommentDraft] = React.useState(\"\");\n  const [comments, setComments] = React.useState([]);\n  const [commentsLoading, setCommentsLoading] = React.useState(false);\n\n  // Load comments when work is loaded\n  React.useEffect(() => {\n    if (!decodedId) return;\n\n    async function loadComments() {\n      setCommentsLoading(true);\n      try {\n        const data = await commentsApi.list(decodedId, null, 1, 50);\n        setComments(data.comments || []);\n      } catch (err) {\n        console.error(\"Failed to load comments:\", err);\n      } finally {\n        setCommentsLoading(false);\n      }\n    }\n\n    loadComments();\n  }, [decodedId]);\n\n  // View prefs\n  const [prefs, setPrefs] = React.useState(() => {\n    const all = loadJson(VIEW_PREFS_KEY, {});\n    const perUser = all?.[normalizedUser] || {};\n    return {\n      fontSize: clamp(Number(perUser.fontSize ?? 15), 13, 20),\n      lineHeight: clamp(Number(perUser.lineHeight ?? 1.95), 1.6, 2.3),\n      width: clamp(Number(perUser.width ?? 760), 560, 900),\n      theme: perUser.theme === \"dark\" ? \"dark\" : \"paper\",\n    };\n  });\n\n  // Audio bookmarks (API-based)\n  const [bookmarkedAudioIds, setBookmarkedAudioIds] = React.useState([]);\n\n  // Work bookmark state (loaded from API)\n  const [isBookmarked, setIsBookmarked] = React.useState(false);\n\n  // Report modal state\n  const [showReportModal, setShowReportModal] = React.useState(false);\n  const [reportReason, setReportReason] = React.useState(\"\");\n  const [reportSubmitting, setReportSubmitting] = React.useState(false);\n  const [reportSubmitted, setReportSubmitted] = React.useState(false);\n\n  // Check bookmark status on load\n  React.useEffect(() => {\n    if (!isAuthed || !decodedId) return;\n\n    async function checkBookmarkStatus() {\n      try {\n        const data = await bookmarksApi.check(decodedId, null, null);\n        setIsBookmarked(Boolean(data.bookmarked));\n      } catch {\n        // Ignore errors - just leave as not bookmarked\n      }\n    }\n\n    checkBookmarkStatus();\n  }, [isAuthed, decodedId]);\n\n  // Load bookmarked audio tracks\n  React.useEffect(() => {\n    if (!isAuthed) return;\n\n    async function loadAudioBookmarks() {\n      try {\n        const data = await bookmarksApi.list(\"audio\");\n        if (data?.bookmarks) {\n          setBookmarkedAudioIds(data.bookmarks.map((b) => b.audioId));\n        }\n      } catch {\n        // Ignore errors\n      }\n    }\n\n    loadAudioBookmarks();\n  }, [isAuthed]);\n\n  // Audio playback\n  const audioRef = React.useRef(null);\n  const [nowPlayingId, setNowPlayingId] = React.useState(null);\n  const [isPlaying, setIsPlaying] = React.useState(false);\n\n  // Sticky bars open state\n  const [audioBarOpen, setAudioBarOpen] = React.useState(false);\n  const [musicBarOpen, setMusicBarOpen] = React.useState(false);\n\n  // Audio progress UI \n  const [audioCurrentSec, setAudioCurrentSec] = React.useState(0);\n  const [audioDurationSec, setAudioDurationSec] = React.useState(0);\n  const [audioSeeking, setAudioSeeking] = React.useState(false);\n\n  // Music provider state\n  const [musicProvider, setMusicProvider] = React.useState(\"youtube\");\n  const [musicQuery, setMusicQuery] = React.useState(\"\");\n  const [youtubeVideoId, setYoutubeVideoId] = React.useState(null);\n  const [spotifyConnected, setSpotifyConnected] = React.useState(false);\n\n  // Parse YouTube URL to extract video ID\n  function parseYoutubeUrl(url) {\n    if (!url) return null;\n    const patterns = [\n      /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/|youtube\\.com\\/embed\\/|youtube\\.com\\/v\\/)([a-zA-Z0-9_-]{11})/,\n      /^([a-zA-Z0-9_-]{11})$/, // Just the video ID\n    ];\n    for (const pattern of patterns) {\n      const match = url.match(pattern);\n      if (match) return match[1];\n    }\n    return null;\n  }\n\n  // Handle music query input (paste YouTube link)\n  function handleMusicQuerySubmit() {\n    if (musicProvider === \"youtube\") {\n      const videoId = parseYoutubeUrl(musicQuery.trim());\n      if (videoId) {\n        setYoutubeVideoId(videoId);\n      }\n    }\n  }\n\n  // Handle Enter key in music input\n  function handleMusicKeyDown(e) {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      handleMusicQuerySubmit();\n    }\n  }\n\n  // Clear YouTube video\n  function clearYoutubeVideo() {\n    setYoutubeVideoId(null);\n    setMusicQuery(\"\");\n  }\n\n  // Persist view prefs per-user\n  React.useEffect(() => {\n    const all = loadJson(VIEW_PREFS_KEY, {});\n    const next = { ...(all || {}) };\n    next[normalizedUser] = { ...prefs };\n    saveJson(VIEW_PREFS_KEY, next);\n  }, [normalizedUser, prefs]);\n\n  // Load work from API or fall back to library works\n  const [work, setWork] = React.useState(null);\n  const [loadingWork, setLoadingWork] = React.useState(true);\n  const [workError, setWorkError] = React.useState(null);\n\n  React.useEffect(() => {\n    async function loadWork() {\n      setLoadingWork(true);\n      setWorkError(null);\n\n      // First check if it's a library work (static demo data)\n      const library = libraryWorks.find((w) => String(w.id) === String(decodedId)) || null;\n      if (library) {\n        setWork(library);\n        setLoadingWork(false);\n        return;\n      }\n\n      // Otherwise fetch from API\n      try {\n        const data = await worksApi.get(decodedId);\n        setWork(data.work);\n      } catch (err) {\n        setWorkError(err.message || \"Failed to load work\");\n        setWork(null);\n      } finally {\n        setLoadingWork(false);\n      }\n    }\n\n    loadWork();\n  }, [decodedId]);\n\n  // Custom skin CSS\n  const [customSkinCss, setCustomSkinCss] = React.useState(\"\");\n\n  // Load custom skin CSS if work uses one\n  React.useEffect(() => {\n    if (!work?.customSkinId) {\n      setCustomSkinCss(\"\");\n      return;\n    }\n\n    async function loadCustomSkin() {\n      try {\n        const data = await skinsApi.get(work.customSkinId);\n        if (data.skin?.css) {\n          setCustomSkinCss(data.skin.css);\n        }\n      } catch {\n        // Skin not found or not accessible - use built-in skin styling\n        setCustomSkinCss(\"\");\n      }\n    }\n\n    loadCustomSkin();\n  }, [work?.customSkinId]);\n\n  const title = (work?.title || \"Untitled\").trim();\n  const authorHandle = (work?.authorUsername || work?.author || \"author\").trim();\n\n  const chapters = React.useMemo(() => getChaptersFromWork(work), [work]);\n  const activeChapter = chapters.find((c) => String(c.id) === String(activeChapterId)) || chapters[0] || null;\n\n  React.useEffect(() => {\n    if (!chapters.length) return;\n    if (!chapters.find((c) => c.id === activeChapterId)) setActiveChapterId(chapters[0].id);\n  }, [chapters]);\n\n  const bodyRaw = String(activeChapter?.body ?? work?.body ?? \"\");\n  const blocks = React.useMemo(() => parseBodyToBlocks(bodyRaw), [bodyRaw]);\n\n  const audioTracks = React.useMemo(() => {\n    const tracks = [];\n    // Add current chapter's audio track if it exists\n    const chapterAudioTrack = getChapterAudioTrack(activeChapter, authorHandle, title);\n    if (chapterAudioTrack) {\n      tracks.push(chapterAudioTrack);\n    }\n    // Also add work-level audio if it exists (for backwards compatibility)\n    const workAudioTrack = getWorkAudioTrack(work, authorHandle);\n    if (workAudioTrack) {\n      tracks.push(workAudioTrack);\n    }\n    return tracks;\n  }, [authorHandle, work, activeChapter, title]);\n  const currentTrack = audioTracks.find((t) => t.id === nowPlayingId) || null;\n\n  const currentTrackFav = currentTrack ? bookmarkedAudioIds.includes(currentTrack.id) : false;\n\n  const audioHasDuration = Boolean(audioDurationSec) || Boolean(currentTrack?.duration);\n  const audioProgressPct = React.useMemo(() => {\n    const dur = audioDurationSec || (currentTrack ? parseDurationToSeconds(currentTrack.duration) : 0);\n    if (!dur) return 0;\n    return Math.max(0, Math.min(100, (audioCurrentSec / dur) * 100));\n  }, [audioCurrentSec, audioDurationSec, currentTrack]);\n\n  // Audio element events - re-run when audioBarOpen changes so listeners attach when element renders\n  React.useEffect(() => {\n    const el = audioRef.current;\n    if (!el) return;\n\n    function onPlay() {\n      setIsPlaying(true);\n    }\n    function onPause() {\n      setIsPlaying(false);\n    }\n    function onEnded() {\n      setIsPlaying(false);\n      setNowPlayingId(null);\n      setAudioCurrentSec(0);\n      setAudioBarOpen(false);\n    }\n    function onTimeUpdate() {\n      if (audioSeeking) return;\n      setAudioCurrentSec(el.currentTime || 0);\n    }\n    function onLoadedMeta() {\n      if (Number.isFinite(el.duration)) setAudioDurationSec(el.duration);\n    }\n\n    el.addEventListener(\"play\", onPlay);\n    el.addEventListener(\"pause\", onPause);\n    el.addEventListener(\"ended\", onEnded);\n    el.addEventListener(\"timeupdate\", onTimeUpdate);\n    el.addEventListener(\"loadedmetadata\", onLoadedMeta);\n\n    return () => {\n      el.removeEventListener(\"play\", onPlay);\n      el.removeEventListener(\"pause\", onPause);\n      el.removeEventListener(\"ended\", onEnded);\n      el.removeEventListener(\"timeupdate\", onTimeUpdate);\n      el.removeEventListener(\"loadedmetadata\", onLoadedMeta);\n    };\n  }, [audioSeeking, audioBarOpen]);\n\n  // Track to auto-play when audio bar opens\n  const [pendingAutoPlay, setPendingAutoPlay] = React.useState(false);\n\n  // Effect to load audio source when bar opens with a track selected\n  React.useEffect(() => {\n    if (!audioBarOpen || !currentTrack?.src) return;\n\n    const el = audioRef.current;\n    if (!el) return;\n\n    // Only set src if it's different or not set\n    if (el.src !== currentTrack.src) {\n      el.src = currentTrack.src;\n      if (pendingAutoPlay) {\n        el.play().catch(() => {});\n        setPendingAutoPlay(false);\n      }\n    }\n  }, [audioBarOpen, currentTrack, pendingAutoPlay]);\n\n  // Mock playback ticker\n  React.useEffect(() => {\n    if (!audioBarOpen) return;\n    if (!currentTrack) return;\n    if (currentTrack.src) return;\n    if (!isPlaying) return;\n\n    const dur = audioDurationSec || parseDurationToSeconds(currentTrack.duration);\n    if (!dur) return;\n\n    const t = window.setInterval(() => {\n      setAudioCurrentSec((prev) => {\n        const next = prev + 1;\n        if (next >= dur) {\n          setIsPlaying(false);\n          setNowPlayingId(null);\n          setAudioCurrentSec(0);\n          setAudioBarOpen(false);\n          return 0;\n        }\n        return next;\n      });\n    }, 1000);\n\n    return () => window.clearInterval(t);\n  }, [audioBarOpen, currentTrack, isPlaying, audioDurationSec]);\n\n  function handleBack() {\n    navigate(-1);\n  }\n\n  function handleEdit() {\n    if (!work) return;\n    // Navigate to work editor - uses work._id for API works or work.id for library works\n    const workId = work._id || work.id;\n    navigate(`/works/edit/${encodeURIComponent(workId)}`);\n  }\n\n  function toggleComments() {\n    setCommentsOpen((v) => !v);\n  }\n\n  async function handlePostComment() {\n    if (!isAuthed) {\n      openLoginModal();\n      return;\n    }\n    const text = commentDraft.trim();\n    if (!text) return;\n\n    setCommentDraft(\"\");\n\n    try {\n      const data = await commentsApi.create(text, decodedId, null, null);\n      // Add the new comment to the top of the list\n      setComments((prev) => [data.comment, ...prev]);\n    } catch (err) {\n      console.error(\"Failed to post comment:\", err);\n      // Restore the draft if posting failed\n      setCommentDraft(text);\n    }\n  }\n\n  async function handleDeleteComment(commentId) {\n    try {\n      await commentsApi.delete(commentId);\n      setComments((prev) => prev.filter((c) => c._id !== commentId));\n    } catch (err) {\n      console.error(\"Failed to delete comment:\", err);\n    }\n  }\n\n  function openPanel(name) {\n    setPanel((prev) => (prev === name ? null : name));\n  }\n\n  async function toggleAudioFav(trackId) {\n    if (!isAuthed) {\n      openLoginModal();\n      return;\n    }\n\n    const isCurrentlyBookmarked = bookmarkedAudioIds.includes(trackId);\n    const track = audioTracks.find((t) => t.id === trackId);\n\n    // Optimistic update\n    if (isCurrentlyBookmarked) {\n      setBookmarkedAudioIds((prev) => prev.filter((id) => id !== trackId));\n    } else {\n      setBookmarkedAudioIds((prev) => [...prev, trackId]);\n    }\n\n    try {\n      if (isCurrentlyBookmarked) {\n        await bookmarksApi.unbookmarkAudio(trackId);\n      } else {\n        await bookmarksApi.bookmarkAudio(\n          trackId,\n          work?._id || work?.id,\n          track?.title || \"Audio Track\",\n          authorHandle\n        );\n      }\n    } catch (err) {\n      // Revert on error\n      if (isCurrentlyBookmarked) {\n        setBookmarkedAudioIds((prev) => [...prev, trackId]);\n      } else {\n        setBookmarkedAudioIds((prev) => prev.filter((id) => id !== trackId));\n      }\n      console.error(\"Failed to toggle audio bookmark:\", err);\n    }\n  }\n\n  function stopAndResetAudioElement() {\n    const el = audioRef.current;\n    if (el) {\n      try {\n        el.pause();\n        el.currentTime = 0;\n        el.removeAttribute(\"src\");\n        el.load();\n      } catch {\n       \n      }\n    }\n  }\n\n  function ensureAudioBarHasDefaultTrack() {\n    if (!nowPlayingId && audioTracks.length) setNowPlayingId(audioTracks[0].id);\n  }\n\n  function toggleAudioBar() {\n    setAudioBarOpen((prev) => {\n      const next = !prev;\n      if (next) ensureAudioBarHasDefaultTrack();\n      return next;\n    });\n  }\n\n  function selectTrack(track) {\n    if (!track) return;\n\n    setAudioBarOpen(true);\n    setNowPlayingId(track.id);\n    setAudioCurrentSec(0);\n\n    const el = audioRef.current;\n\n    if (!track.src) {\n      // Mock track without real audio\n      setIsPlaying(true);\n      return;\n    }\n\n    if (!el) {\n      // Audio element not rendered yet - schedule auto-play for when it renders\n      setPendingAutoPlay(true);\n      return;\n    }\n\n    // Audio element exists - play immediately\n    el.src = track.src;\n    el.play().catch(() => {});\n  }\n\n  function toggleAudioPlayPause() {\n    const el = audioRef.current;\n\n    if (!currentTrack) {\n      ensureAudioBarHasDefaultTrack();\n      return;\n    }\n\n    if (!el || !currentTrack.src) {\n      setIsPlaying((p) => !p);\n      return;\n    }\n\n    if (el.paused) el.play().catch(() => {});\n    else el.pause();\n  }\n\n  function seekAudioTo(sec) {\n    const el = audioRef.current;\n    setAudioCurrentSec(sec);\n\n    if (el && currentTrack && currentTrack.src) {\n      try {\n        el.currentTime = sec;\n      } catch {\n      \n      }\n    }\n  }\n\n  function closeAudioBar() {\n    setAudioBarOpen(false);\n    setIsPlaying(false);\n    setAudioCurrentSec(0);\n    stopAndResetAudioElement();\n  }\n\n  function toggleMusicBar() {\n    setMusicBarOpen((v) => !v);\n  }\n\n  function closeMusicBar() {\n    setMusicBarOpen(false);\n    setYoutubeVideoId(null);\n    setMusicQuery(\"\");\n  }\n\n  async function toggleBookmark() {\n    if (!isAuthed) {\n      openLoginModal();\n      return;\n    }\n\n    // Optimistic update\n    const wasBookmarked = isBookmarked;\n    setIsBookmarked(!wasBookmarked);\n\n    try {\n      if (wasBookmarked) {\n        await bookmarksApi.unbookmarkWork(decodedId);\n      } else {\n        await bookmarksApi.bookmarkWork(decodedId);\n      }\n    } catch (err) {\n      // Revert on error\n      setIsBookmarked(wasBookmarked);\n      console.error(\"Failed to toggle bookmark:\", err);\n    }\n  }\n\n  function openReportModal() {\n    if (!isAuthed) {\n      openLoginModal();\n      return;\n    }\n    setShowReportModal(true);\n    setReportReason(\"\");\n    setReportSubmitted(false);\n  }\n\n  function closeReportModal() {\n    setShowReportModal(false);\n    setReportReason(\"\");\n    setReportSubmitting(false);\n  }\n\n  async function submitReport() {\n    if (!reportReason.trim()) return;\n\n    setReportSubmitting(true);\n\n    // For now, simulate submission since backend doesn't exist yet\n    // In the future, this would call a reports API\n    setTimeout(() => {\n      setReportSubmitting(false);\n      setReportSubmitted(true);\n      // Auto-close after showing success message\n      setTimeout(() => {\n        closeReportModal();\n      }, 2000);\n    }, 800);\n  }\n\n  const themeClass = prefs.theme === \"dark\" ? \"wv-themeDark\" : \"wv-themePaper\";\n\n  // Determine skin class from work.skin - default to \"default\" if not set\n  const skinName = (work?.skin || \"Default\").toLowerCase().replace(/\\s+/g, \"-\");\n  const skinClass = `skin-${skinName}`;\n\n  // Loading state\n  if (loadingWork) {\n    return (\n      <div className={`wv-page ${themeClass} skin-default`}>\n        <div className=\"wv-shell\">\n          <p>Loading work...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Error state\n  if (workError || !work) {\n    return (\n      <div className={`wv-page ${themeClass} skin-default`}>\n        <div className=\"wv-shell\">\n          <p>{workError || \"Work not found\"}</p>\n          <button type=\"button\" onClick={() => navigate(-1)}>Go Back</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`wv-page ${themeClass} ${skinClass}`}>\n      {/* Inject custom skin CSS */}\n      {customSkinCss && (\n        <style dangerouslySetInnerHTML={{ __html: customSkinCss }} />\n      )}\n      <div className=\"wv-shell\">\n        <div className=\"wv-layout\">\n          {/* Sidebar */}\n          <aside className=\"wv-toc\" aria-label=\"Sidebar\">\n            <div className=\"wv-tocStack\">\n              {/* Chapters - Hero style with nav buttons */}\n              <div className=\"wv-tocCard wv-chapterHero\">\n                <div className=\"wv-chapterHeroTitle\">\n                  {activeChapter?.title || \"Chapter 1\"}\n                </div>\n                <div className=\"wv-chapterHeroMeta\">\n                  {chapters.findIndex((c) => c.id === activeChapterId) + 1} of {chapters.length}\n                </div>\n                <div className=\"wv-chapterHeroNav\">\n                  <button\n                    type=\"button\"\n                    className=\"wv-chapterNavBtn\"\n                    onClick={() => {\n                      const idx = chapters.findIndex((c) => c.id === activeChapterId);\n                      if (idx > 0) setActiveChapterId(chapters[idx - 1].id);\n                    }}\n                    disabled={chapters.findIndex((c) => c.id === activeChapterId) === 0}\n                    aria-label=\"Previous chapter\"\n                    title=\"Previous\"\n                  >\n                    \n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"wv-chapterNavBtn\"\n                    onClick={() => {\n                      const idx = chapters.findIndex((c) => c.id === activeChapterId);\n                      if (idx < chapters.length - 1) setActiveChapterId(chapters[idx + 1].id);\n                    }}\n                    disabled={chapters.findIndex((c) => c.id === activeChapterId) === chapters.length - 1}\n                    aria-label=\"Next chapter\"\n                    title=\"Next\"\n                  >\n                    \n                  </button>\n                </div>\n              </div>\n\n              {/* Audio player */}\n              {audioBarOpen ? (\n                <div className=\"wv-miniPlayer\" aria-label=\"Audio player\">\n                  <div className=\"wv-miniHead\">\n                    <div className=\"wv-miniTitle\">Audio</div>\n                    <button\n                      type=\"button\"\n                      className=\"wv-miniClose\"\n                      onClick={closeAudioBar}\n                      aria-label=\"Close audio bar\"\n                      title=\"Close\"\n                    >\n                      \n                    </button>\n                  </div>\n\n                  <div className=\"wv-miniBody\">\n                    <div className=\"wv-miniTrackTitle\">{currentTrack ? currentTrack.title : \"Select an audio track\"}</div>\n                    <div className=\"wv-miniTrackMeta\">\n                      <span>{currentTrack ? currentTrack.author : authorHandle}</span>\n                      <span className=\"wv-dot\"></span>\n                      <span>{currentTrack ? currentTrack.duration : \"0:00\"}</span>\n                    </div>\n\n                    <div className=\"wv-playerRow\">\n                      <button\n                        type=\"button\"\n                        className=\"wv-iconPlay\"\n                        onClick={toggleAudioPlayPause}\n                        aria-label={isPlaying ? \"Pause audio\" : \"Play audio\"}\n                        title={isPlaying ? \"Pause\" : \"Play\"}\n                        disabled={!currentTrack}\n                      >\n                        {isPlaying ? \"\" : \"\"}\n                      </button>\n\n                      <div className=\"wv-scrubWrap\" aria-label=\"Audio scrubber\">\n                        <input\n                          type=\"range\"\n                          className=\"wv-scrub\"\n                          min={0}\n                          max={audioDurationSec || 0}\n                          step={1}\n                          value={audioCurrentSec}\n                          onMouseDown={() => setAudioSeeking(true)}\n                          onMouseUp={() => setAudioSeeking(false)}\n                          onTouchStart={() => setAudioSeeking(true)}\n                          onTouchEnd={() => setAudioSeeking(false)}\n                          onChange={(e) => seekAudioTo(Number(e.target.value))}\n                          disabled={!currentTrack || !audioHasDuration}\n                          aria-label=\"Seek\"\n                          style={{ \"--wv-progress\": `${audioProgressPct}%` }}\n                        />\n                        <div className=\"wv-timeRow\">\n                          <span className=\"wv-time\">{formatSeconds(audioCurrentSec)}</span>\n                          <span className=\"wv-time\">{audioDurationSec ? formatSeconds(audioDurationSec) : (currentTrack?.duration || \"0:00\")}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"wv-miniControls\">\n                      <button\n                        type=\"button\"\n                        className={`wv-miniIcon ${currentTrackFav ? \"wv-miniIcon--on\" : \"\"}`}\n                        onClick={() => currentTrack && toggleAudioFav(currentTrack.id)}\n                        style={{ display: \"inline-flex\", alignItems: \"center\", justifyContent: \"center\" }}\n                        aria-label={currentTrackFav ? \"Unbookmark audio\" : \"Bookmark audio\"}\n                        title={currentTrackFav ? \"Remove bookmark\" : \"Bookmark\"}\n                        disabled={!currentTrack}\n                      >\n                        {currentTrackFav ? (\n                          <img src={bookmarkOnIcon} alt=\"\" aria-hidden=\"true\" style={{ width: 18, height: 18, display: \"block\" }} />\n                        ) : (\n                          <img src={bookmarkOffIcon} alt=\"\" aria-hidden=\"true\" style={{ width: 18, height: 18, display: \"block\" }} />\n                        )}\n                      </button>\n\n                      <button\n                        type=\"button\"\n                        className=\"wv-miniBtn wv-miniBtn--ghost\"\n                        onClick={() => openPanel(\"audioLibrary\")}\n                        aria-label=\"Open audio library\"\n                        title=\"Audio library\"\n                      >\n                        Library\n                      </button>\n                    </div>\n\n                    <audio ref={audioRef} />\n                  </div>\n                </div>\n              ) : null}\n\n              {/* Music player */}\n              {musicBarOpen ? (\n                <div className=\"wv-miniPlayer wv-musicPlayer\" aria-label=\"Music player\">\n                  <div className=\"wv-miniHead\">\n                    <div className=\"wv-miniTitle\">Music</div>\n                    <button\n                      type=\"button\"\n                      className=\"wv-miniClose\"\n                      onClick={closeMusicBar}\n                      aria-label=\"Close music bar\"\n                      title=\"Close\"\n                    >\n                      \n                    </button>\n                  </div>\n\n                  <div className=\"wv-miniBody\">\n                    {/* Provider selection */}\n                    <div className=\"wv-miniRow\">\n                      <div className=\"wv-miniLabel\">Provider</div>\n                      <div className=\"wv-miniPills\">\n                        <button\n                          type=\"button\"\n                          className={`wv-miniPill ${musicProvider === \"youtube\" ? \"wv-miniPill--active\" : \"\"}`}\n                          onClick={() => setMusicProvider(\"youtube\")}\n                        >\n                          YouTube\n                        </button>\n                        <button\n                          type=\"button\"\n                          className={`wv-miniPill ${musicProvider === \"spotify\" ? \"wv-miniPill--active\" : \"\"}`}\n                          onClick={() => setMusicProvider(\"spotify\")}\n                        >\n                          Spotify\n                        </button>\n                      </div>\n                    </div>\n\n                    {/* YouTube provider */}\n                    {musicProvider === \"youtube\" && (\n                      <>\n                        {youtubeVideoId ? (\n                          <div className=\"wv-youtubeEmbed\">\n                            <iframe\n                              src={`https://www.youtube.com/embed/${youtubeVideoId}?autoplay=1&enablejsapi=1`}\n                              title=\"YouTube music player\"\n                              frameBorder=\"0\"\n                              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                              allowFullScreen\n                            />\n                            <button\n                              type=\"button\"\n                              className=\"wv-miniBtn\"\n                              onClick={clearYoutubeVideo}\n                              style={{ marginTop: 8 }}\n                            >\n                              Clear\n                            </button>\n                          </div>\n                        ) : (\n                          <div className=\"wv-miniRow\">\n                            <div className=\"wv-miniLabel\">Paste YouTube Link</div>\n                            <div className=\"wv-musicInputRow\">\n                              <input\n                                className=\"wv-miniInput\"\n                                value={musicQuery}\n                                onChange={(e) => setMusicQuery(e.target.value)}\n                                onKeyDown={handleMusicKeyDown}\n                                placeholder=\"https://youtube.com/watch?v=...\"\n                                aria-label=\"YouTube link\"\n                              />\n                              <button\n                                type=\"button\"\n                                className=\"wv-miniBtn wv-miniBtn--play\"\n                                onClick={handleMusicQuerySubmit}\n                                disabled={!musicQuery.trim()}\n                              >\n                                Play\n                              </button>\n                            </div>\n                            <div className=\"wv-miniHint\">\n                              Paste a YouTube video or music link and press Play\n                            </div>\n                          </div>\n                        )}\n                      </>\n                    )}\n\n                    {/* Spotify provider */}\n                    {musicProvider === \"spotify\" && (\n                      <div className=\"wv-providerConnect\">\n                        {spotifyConnected ? (\n                          <div className=\"wv-connectedState\">\n                            <div className=\"wv-connectedBadge\">\n                              <span className=\"wv-connectedDot\" />\n                              Connected to Spotify\n                            </div>\n                            <div className=\"wv-miniRow\">\n                              <div className=\"wv-miniLabel\">Search or paste link</div>\n                              <input\n                                className=\"wv-miniInput\"\n                                placeholder=\"Search tracks, albums, playlists...\"\n                                aria-label=\"Spotify search\"\n                              />\n                            </div>\n                            <button\n                              type=\"button\"\n                              className=\"wv-disconnectBtn\"\n                              onClick={() => setSpotifyConnected(false)}\n                            >\n                              Disconnect\n                            </button>\n                          </div>\n                        ) : (\n                          <div className=\"wv-connectPrompt\">\n                            <div className=\"wv-providerLogo wv-providerLogo--spotify\">\n                              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"32\" height=\"32\">\n                                <path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z\"/>\n                              </svg>\n                            </div>\n                            <div className=\"wv-connectText\">\n                              Connect your Spotify account to play music while you read\n                            </div>\n                            <button\n                              type=\"button\"\n                              className=\"wv-connectBtn wv-connectBtn--spotify\"\n                              onClick={() => setSpotifyConnected(true)}\n                            >\n                              Connect Spotify\n                            </button>\n                            <div className=\"wv-connectNote\">\n                              Requires Spotify Premium for full playback\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    )}\n\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          </aside>\n\n          {/* Main */}\n          <main className=\"wv-main\" aria-label=\"Work content\">\n            <div className=\"wv-card\">\n              {/* Header */}\n              <div className=\"wv-header\">\n                <div className=\"wv-headerLeft\">\n                  <button type=\"button\" className=\"wv-backBtn\" onClick={handleBack} aria-label=\"Go back\" title=\"Back\">\n                     Back\n                  </button>\n                  {isAuthed && normalizedUser === authorHandle.toLowerCase() && (\n                    <button type=\"button\" className=\"wv-editBtn\" onClick={handleEdit} aria-label=\"Edit work\" title=\"Edit\">\n                      Edit\n                    </button>\n                  )}\n                </div>\n\n                <div className=\"wv-headerMid\">\n                  <h1 className=\"wv-title\">{title}</h1>\n                  <div className=\"wv-meta\">\n                    <span className=\"wv-metaItem\">\n                      by <Link to={`/communities/${encodeURIComponent(authorHandle)}`} className=\"wv-authorLink\">{authorHandle}</Link>\n                    </span>\n                    <span className=\"wv-dot\"></span>\n                    <span className=\"wv-metaItem\">{chapters.length} chapters</span>\n                    {work?.language && (\n                      <>\n                        <span className=\"wv-dot\"></span>\n                        <span className=\"wv-metaItem\">{work.language}</span>\n                      </>\n                    )}\n                  </div>\n                  {/* Genre, Fandom, Tags */}\n                  <div className=\"wv-workInfo\">\n                    {work?.genre && (\n                      <span className=\"wv-infoPill wv-infoPill--genre\">{work.genre}</span>\n                    )}\n                    {work?.fandom && work.fandom !== \"Original Work\" && (\n                      <span className=\"wv-infoPill wv-infoPill--fandom\">{work.fandom}</span>\n                    )}\n                    {work?.fandom === \"Original Work\" && (\n                      <span className=\"wv-infoPill wv-infoPill--original\">Original Work</span>\n                    )}\n                  </div>\n                  {work?.tags && work.tags.length > 0 && (\n                    <div className=\"wv-tags\">\n                      {work.tags.map((tag) => {\n                        const tagSlug = tag.toLowerCase().replace(/&/g, \"and\").replace(/[^a-z0-9]+/g, \"-\").replace(/(^-|-$)/g, \"\");\n                        return (\n                          <Link\n                            key={tag}\n                            to={`/tags/${encodeURIComponent(tagSlug)}`}\n                            className=\"wv-tag\"\n                          >\n                            #{tag}\n                          </Link>\n                        );\n                      })}\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"wv-headerRight\">\n                  {/* Music */}\n                  <button\n                    type=\"button\"\n                    className={`wv-iconBtn ${musicBarOpen ? \"wv-iconBtn--active\" : \"\"}`}\n                    onClick={toggleMusicBar}\n                    aria-label=\"Toggle music bar\"\n                    title=\"Music\"\n                  >\n                    <img src={musicIcon} alt=\"\" aria-hidden=\"true\" style={{ width: 18, height: 18, display: \"block\" }} />\n                  </button>\n\n                  {/* Audio (to be changed later) */}\n                  <button\n                    type=\"button\"\n                    className={`wv-iconBtn ${audioBarOpen ? \"wv-iconBtn--active\" : \"\"}`}\n                    onClick={toggleAudioBar}\n                    aria-label=\"Toggle audio bar\"\n                    title=\"Audio\"\n                  >\n                    \n                  </button>\n\n                  {/* Settings */}\n                  <button\n                    type=\"button\"\n                    className={`wv-iconBtn ${panel === \"settings\" ? \"wv-iconBtn--active\" : \"\"}`}\n                    onClick={() => openPanel(\"settings\")}\n                    aria-label=\"Open settings\"\n                    title=\"Settings\"\n                  >\n                    <img src={settingsIcon} alt=\"\" aria-hidden=\"true\" style={{ width: 18, height: 18, display: \"block\" }} />\n                  </button>\n\n                  {/* Bookmark */}\n                  <button\n                    type=\"button\"\n                    className={`wv-iconBtn ${isBookmarked ? \"wv-iconBtn--bookmarkOn\" : \"\"}`}\n                    onClick={toggleBookmark}\n                    aria-label={isBookmarked ? \"Remove bookmark\" : \"Bookmark this work\"}\n                    title={isBookmarked ? \"Bookmarked\" : \"Bookmark\"}\n                  >\n                    {isBookmarked ? (\n                      <img src={bookmarkOnIcon} alt=\"\" aria-hidden=\"true\" style={{ width: 18, height: 18, display: \"block\" }} />\n                    ) : (\n                      <img src={bookmarkOffIcon} alt=\"\" aria-hidden=\"true\" style={{ width: 18, height: 18, display: \"block\" }} />\n                    )}\n                  </button>\n\n                  {/* Comments */}\n                  <button\n                    type=\"button\"\n                    className={`wv-iconBtn ${commentsOpen ? \"wv-iconBtn--active\" : \"\"}`}\n                    onClick={toggleComments}\n                    aria-label=\"Toggle comments\"\n                    title=\"Comments\"\n                  >\n                    <img src={commentsIcon} alt=\"\" aria-hidden=\"true\" style={{ width: 18, height: 18, display: \"block\" }} />\n                  </button>\n\n                  {/* Report - only show for non-authors */}\n                  {normalizedUser !== authorHandle.toLowerCase() && (\n                    <button\n                      type=\"button\"\n                      className=\"wv-iconBtn\"\n                      onClick={openReportModal}\n                      aria-label=\"Report this work\"\n                      title=\"Report\"\n                    >\n                      <span style={{ fontSize: 16 }}>&#9888;</span>\n                    </button>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"wv-sep\" />\n\n              {/* Audio from author - chapter audio takes priority */}\n              {(activeChapter?.audioUrl || work?.audioUrl) && (\n                <div className=\"wv-authorAudio\">\n                  <div className=\"wv-authorAudioLabel\">\n                    {activeChapter?.audioUrl ? `Audio for ${activeChapter.title || \"this chapter\"}` : \"Author's Audio\"}\n                  </div>\n                  <button\n                    type=\"button\"\n                    className=\"wv-playAudioBtn\"\n                    onClick={() => {\n                      // Select chapter audio first, fall back to work audio\n                      const chapterTrack = audioTracks.find(t => t.src === activeChapter?.audioUrl);\n                      const workTrack = audioTracks.find(t => t.src === work?.audioUrl);\n                      if (chapterTrack) selectTrack(chapterTrack);\n                      else if (workTrack) selectTrack(workTrack);\n                      else setAudioBarOpen(true);\n                    }}\n                  >\n                    Play in Audio Player\n                  </button>\n                </div>\n              )}\n\n              <div className=\"wv-sep wv-sep--soft\" />\n\n              {/* Current chapter indicator */}\n              {chapters.length > 0 && (\n                <div className=\"wv-currentChapter\">\n                  <span className=\"wv-currentChapterLabel\">Currently Reading:</span>\n                  <span className=\"wv-currentChapterTitle\">{activeChapter?.title || \"Chapter 1\"}</span>\n                  <span className=\"wv-currentChapterCount\">\n                    ({chapters.findIndex((c) => c.id === activeChapterId) + 1} of {chapters.length})\n                  </span>\n                </div>\n              )}\n\n              {/* Body */}\n              <article\n                className=\"wv-body\"\n                style={{\n                  fontSize: `${prefs.fontSize}px`,\n                  lineHeight: prefs.lineHeight,\n                  maxWidth: `${prefs.width}px`,\n                }}\n              >\n                {blocks.map((b, idx) => {\n                  if (b.type === \"img\" && isImageUrl(b.url)) {\n                    return (\n                      <div key={`${b.url}_${idx}`} className=\"wv-inlineImgWrap\">\n                        <img className=\"wv-inlineImg\" src={b.url} alt={b.alt || \"\"} />\n                      </div>\n                    );\n                  }\n                  return (\n                    <p key={`${b.text}_${idx}`} className=\"wv-p\">\n                      {b.text}\n                    </p>\n                  );\n                })}\n              </article>\n\n              {/* Comments panel */}\n              {commentsOpen ? (\n                <div className=\"wv-comments\" aria-label=\"Comments\">\n                  <div className=\"wv-commentsTop\">\n                    <div className=\"wv-commentsTitle\">Comments</div>\n                    <button type=\"button\" className=\"wv-toggleComments\" onClick={toggleComments} aria-label=\"Close comments\">\n                      Close\n                    </button>\n                  </div>\n\n                  <div className=\"wv-commentComposer\">\n                    <textarea\n                      className=\"wv-commentInput\"\n                      value={commentDraft}\n                      onChange={(e) => setCommentDraft(e.target.value)}\n                      placeholder={isAuthed ? \"Write a comment\" : \"Log in to comment\"}\n                      aria-label=\"Write a comment\"\n                      disabled={!isAuthed}\n                    />\n                    <button type=\"button\" className=\"wv-commentPost\" onClick={handlePostComment} disabled={!isAuthed}>\n                      Post\n                    </button>\n                  </div>\n\n                  <div className=\"wv-commentList\" aria-label=\"Comment list\">\n                    {commentsLoading ? (\n                      <div className=\"wv-commentsLoading\">Loading comments...</div>\n                    ) : comments.length === 0 ? (\n                      <div className=\"wv-commentsEmpty\">No comments yet. Be the first to share your thoughts!</div>\n                    ) : (\n                      comments.map((c) => (\n                        <div key={c._id} className=\"wv-comment\">\n                          <div className=\"wv-commentHeader\">\n                            <Link to={`/communities/${c.authorUsername}`} className=\"wv-commentUser\">\n                              @{c.authorUsername}\n                            </Link>\n                            {normalizedUser === c.authorUsername?.toLowerCase() && (\n                              <button\n                                type=\"button\"\n                                className=\"wv-commentDelete\"\n                                onClick={() => handleDeleteComment(c._id)}\n                                aria-label=\"Delete comment\"\n                              >\n                                x\n                              </button>\n                            )}\n                          </div>\n                          <div className=\"wv-commentText\">{c.text}</div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              ) : null}\n            </div>\n\n            {/* Modal panel, settings, audio library */}\n            {panel ? (\n              <div className=\"wv-panelOverlay\" role=\"dialog\" aria-modal=\"true\" aria-label=\"Modal panel\">\n                <div className=\"wv-panel\">\n                  <div className=\"wv-panelTop\">\n                    <div className=\"wv-panelTitle\">{panel === \"settings\" ? \"Settings\" : \"Audio Library\"}</div>\n                    <button type=\"button\" className=\"wv-panelClose\" onClick={() => setPanel(null)} aria-label=\"Close panel\">\n                      \n                    </button>\n                  </div>\n\n                  <div className=\"wv-panelBody\">\n                    {panel === \"settings\" ? (\n                      <>\n                        <div className=\"wv-panelHint\">Customize your reading experience</div>\n\n                        <div className=\"wv-settingRow\">\n                          <label className=\"wv-settingLabel\" htmlFor=\"wv-fontsize\">\n                            Font size\n                          </label>\n                          <input\n                            id=\"wv-fontsize\"\n                            type=\"range\"\n                            min={13}\n                            max={20}\n                            step={1}\n                            value={prefs.fontSize}\n                            onChange={(e) => setPrefs((p) => ({ ...p, fontSize: Number(e.target.value) }))}\n                            aria-label=\"Font size\"\n                          />\n                          <div className=\"wv-chip\">{prefs.fontSize}px</div>\n                        </div>\n\n                        <div className=\"wv-settingRow\">\n                          <label className=\"wv-settingLabel\" htmlFor=\"wv-lineheight\">\n                            Line height\n                          </label>\n                          <input\n                            id=\"wv-lineheight\"\n                            type=\"range\"\n                            min={1.6}\n                            max={2.3}\n                            step={0.05}\n                            value={prefs.lineHeight}\n                            onChange={(e) => setPrefs((p) => ({ ...p, lineHeight: Number(e.target.value) }))}\n                            aria-label=\"Line height\"\n                          />\n                          <div className=\"wv-chip\">{Number(prefs.lineHeight).toFixed(2)}</div>\n                        </div>\n\n                        <div className=\"wv-settingRow\">\n                          <label className=\"wv-settingLabel\" htmlFor=\"wv-width\">\n                            Reading width\n                          </label>\n                          <input\n                            id=\"wv-width\"\n                            type=\"range\"\n                            min={560}\n                            max={900}\n                            step={10}\n                            value={prefs.width}\n                            onChange={(e) => setPrefs((p) => ({ ...p, width: Number(e.target.value) }))}\n                            aria-label=\"Reading width\"\n                          />\n                          <div className=\"wv-chip\">{prefs.width}px</div>\n                        </div>\n\n                        <div className=\"wv-settingRow\">\n                          <div className=\"wv-settingLabel\">Theme</div>\n                          <div className=\"wv-themeBtns\">\n                            <button\n                              type=\"button\"\n                              className={`wv-miniPill ${prefs.theme === \"paper\" ? \"wv-miniPill--active\" : \"\"}`}\n                              onClick={() => setPrefs((p) => ({ ...p, theme: \"paper\" }))}\n                            >\n                              Paper\n                            </button>\n                            <button\n                              type=\"button\"\n                              className={`wv-miniPill ${prefs.theme === \"dark\" ? \"wv-miniPill--active\" : \"\"}`}\n                              onClick={() => setPrefs((p) => ({ ...p, theme: \"dark\" }))}\n                            >\n                              Dark\n                            </button>\n                          </div>\n                          <div className=\"wv-chip\">{prefs.theme}</div>\n                        </div>\n                      </>\n                    ) : (\n                      <>\n                        <div className=\"wv-panelHint\">{audioTracks.length ? \"Select a track to play\" : \"No audio tracks available for this work\"}</div>\n\n                        <div className=\"wv-audioList\" aria-label=\"Audio tracks\">\n                          {audioTracks.map((t) => {\n                            const active = t.id === nowPlayingId;\n                            const fav = bookmarkedAudioIds.includes(t.id);\n\n                            return (\n                              <div\n                                key={t.id}\n                                className={`wv-audioPick ${active ? \"wv-audioPick--active\" : \"\"}`}\n                                onClick={() => selectTrack(t)}\n                                role=\"button\"\n                                tabIndex={0}\n                                onKeyDown={(e) => {\n                                  if (e.key === \"Enter\" || e.key === \" \") selectTrack(t);\n                                }}\n                              >\n                                <div>\n                                  <div className=\"wv-audioTitle\">{t.title}</div>\n                                  <div className=\"wv-audioMeta\">\n                                    <span>@{t.author}</span>\n                                    <span className=\"wv-dot\"></span>\n                                    <span>{t.duration}</span>\n                                  </div>\n                                </div>\n\n                                <div className=\"wv-audioPickRight\">\n                                  <button\n                                    type=\"button\"\n                                    className={`wv-favBtn ${fav ? \"wv-favBtn--on\" : \"\"}`}\n                                    style={{ display: \"inline-flex\", alignItems: \"center\", justifyContent: \"center\" }}\n                                    onClick={(e) => {\n                                      e.stopPropagation();\n                                      toggleAudioFav(t.id);\n                                    }}\n                                    aria-label={fav ? \"Unbookmark track\" : \"Bookmark track\"}\n                                    title={fav ? \"Remove bookmark\" : \"Bookmark\"}\n                                  >\n                                    {fav ? (\n                                      <img src={bookmarkOnIcon} alt=\"\" aria-hidden=\"true\" style={{ width: 18, height: 18, display: \"block\" }} />\n                                    ) : (\n                                      <img src={bookmarkOffIcon} alt=\"\" aria-hidden=\"true\" style={{ width: 18, height: 18, display: \"block\" }} />\n                                    )}\n                                  </button>\n                                  <span className=\"wv-audioPickHint\">{active ? \"Now playing\" : \"Select\"}</span>\n                                </div>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {/* Report Modal */}\n            {showReportModal && (\n              <div className=\"wv-panelOverlay\" role=\"dialog\" aria-modal=\"true\" aria-label=\"Report work\">\n                <div className=\"wv-panel\" style={{ maxWidth: 480 }}>\n                  <div className=\"wv-panelTop\">\n                    <div className=\"wv-panelTitle\">Report Work</div>\n                    <button\n                      type=\"button\"\n                      className=\"wv-panelClose\"\n                      onClick={closeReportModal}\n                      disabled={reportSubmitting}\n                      aria-label=\"Close report modal\"\n                    >\n                      \n                    </button>\n                  </div>\n                  <div className=\"wv-panelBody\">\n                    {reportSubmitted ? (\n                      <div style={{ textAlign: \"center\", padding: 20 }}>\n                        <div style={{ fontSize: 32, marginBottom: 12 }}>&#10003;</div>\n                        <div style={{ fontWeight: 700, marginBottom: 8 }}>Report Submitted</div>\n                        <div style={{ opacity: 0.7 }}>Thank you for helping keep Sable safe.</div>\n                      </div>\n                    ) : (\n                      <>\n                        <div className=\"wv-panelHint\">\n                          Please select a reason for reporting this work.\n                        </div>\n                        <div style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\n                          {[\n                            \"Spam or misleading content\",\n                            \"Harassment or hate speech\",\n                            \"Copyright infringement\",\n                            \"Inappropriate content (not properly tagged)\",\n                            \"Other\",\n                          ].map((reason) => (\n                            <button\n                              key={reason}\n                              type=\"button\"\n                              className={`wv-miniPill ${reportReason === reason ? \"wv-miniPill--active\" : \"\"}`}\n                              onClick={() => setReportReason(reason)}\n                              style={{ textAlign: \"left\", padding: \"10px 14px\" }}\n                            >\n                              {reason}\n                            </button>\n                          ))}\n                        </div>\n                        {reportReason === \"Other\" && (\n                          <div style={{ marginTop: 12 }}>\n                            <textarea\n                              className=\"wv-commentInput\"\n                              placeholder=\"Please describe the issue...\"\n                              style={{ minHeight: 80 }}\n                              value={reportReason === \"Other\" ? \"\" : reportReason}\n                              onChange={(e) => setReportReason(`Other: ${e.target.value}`)}\n                            />\n                          </div>\n                        )}\n                        <div style={{ marginTop: 16, display: \"flex\", gap: 10, justifyContent: \"flex-end\" }}>\n                          <button\n                            type=\"button\"\n                            className=\"wv-backBtn\"\n                            onClick={closeReportModal}\n                            disabled={reportSubmitting}\n                          >\n                            Cancel\n                          </button>\n                          <button\n                            type=\"button\"\n                            className=\"wv-backBtn\"\n                            style={{\n                              background: reportReason ? \"rgba(180, 60, 60, 0.85)\" : \"rgba(180, 60, 60, 0.4)\",\n                              color: \"white\",\n                              borderColor: \"rgba(180, 60, 60, 0.5)\",\n                            }}\n                            onClick={submitReport}\n                            disabled={!reportReason || reportSubmitting}\n                          >\n                            {reportSubmitting ? \"Submitting...\" : \"Submit Report\"}\n                          </button>\n                        </div>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { draftsApi } from \"../api\";\nimport \"./YourWorks.css\";\n\nexport default function Drafts() {\n  const navigate = useNavigate();\n  const [drafts, setDrafts] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [limits, setLimits] = React.useState({ maxDrafts: 5, currentCount: 0 });\n\n  React.useEffect(() => {\n    loadDrafts();\n  }, []);\n\n  async function loadDrafts() {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await draftsApi.list();\n      setDrafts(data.drafts || []);\n      if (data.limits) setLimits(data.limits);\n    } catch (err) {\n      setError(err.message || \"Failed to load drafts\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleNewDraft() {\n    try {\n      const data = await draftsApi.create({ title: \"Untitled\" });\n      navigate(`/drafts/edit/${encodeURIComponent(data.draft._id)}`);\n    } catch (err) {\n      setError(err.message || \"Failed to create draft\");\n    }\n  }\n\n  function handleEdit(draftId) {\n    navigate(`/drafts/edit/${encodeURIComponent(draftId)}`);\n  }\n\n  if (loading) {\n    return (\n      <div className=\"yw-page\">\n        <div className=\"yw-shell\">\n          <p>Loading drafts...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"yw-page\">\n      <div className=\"yw-shell\">\n        <header className=\"yw-head\">\n          <div className=\"yw-headLeft\">\n            <h1 className=\"yw-title\">Your Drafts</h1>\n            <p className=\"yw-subtitle\">\n              Unpublished drafts ({limits.currentCount}/{limits.maxDrafts})\n            </p>\n          </div>\n\n          <div className=\"yw-headRight\">\n            <button\n              type=\"button\"\n              className=\"yw-topBtn\"\n              onClick={handleNewDraft}\n              disabled={limits.currentCount >= limits.maxDrafts}\n            >\n              New Draft\n            </button>\n            <button type=\"button\" className=\"yw-topBtn\" onClick={() => navigate(\"/profile\")}>\n              Back to Profile\n            </button>\n          </div>\n        </header>\n\n        {error && <p className=\"yw-error\" style={{ color: \"red\", marginBottom: \"1rem\" }}>{error}</p>}\n\n        <section className=\"yw-gridWrap\" aria-label=\"Draft list\">\n          <div className=\"yw-grid\">\n            {drafts.length === 0 ? (\n              <p>No drafts yet. Create your first draft!</p>\n            ) : (\n              drafts.map((d) => (\n                <article key={String(d._id)} className=\"yw-card\">\n                  <div className=\"yw-poster\" aria-hidden=\"true\" />\n                  <h2 className=\"yw-cardTitle\">{d.title || \"Untitled\"}</h2>\n                  <div className=\"yw-cardMeta\">\n                    {d.chapterCount || 0} chapter{d.chapterCount !== 1 ? \"s\" : \"\"} &middot;{\" \"}\n                    {d.wordCount || 0} words\n                  </div>\n\n                  <button type=\"button\" className=\"yw-cardBtn\" onClick={() => handleEdit(d._id)}>\n                    Edit\n                  </button>\n                </article>\n              ))\n            )}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n","// DraftEditor.js\nimport React from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { draftsApi, uploadsApi, skinsApi } from \"../api\";\nimport \"./NewDraft.css\";\n\nimport chapterIcon from \"../assets/images/chapter_icon.png\";\nimport importIcon from \"../assets/images/import_icon.png\";\nimport tagsIcon from \"../assets/images/tags_icon.png\";\nimport skinsIcon from \"../assets/images/skins_icon.png\";\nimport privacyIcon from \"../assets/images/privacy_icon.png\";\nimport langIcon from \"../assets/images/lang_icon.png\";\nimport imageIcon from \"../assets/images/image_icon.png\";\nimport previewIcon from \"../assets/images/preview_icon.png\";\n\nconst BUILTIN_SKIN_OPTIONS = [\"Default\", \"Parchment\"];\nconst PRIVACY_OPTIONS = [\"Public\", \"Following\", \"Private\"];\nconst LANGUAGE_OPTIONS = [\"English\", \"Vietnamese\", \"Japanese\", \"French\", \"Spanish\"];\n\n// Common genres for creative writing\nconst GENRE_SUGGESTIONS = [\n  \"Romance\", \"Fantasy\", \"Science Fiction\", \"Mystery\", \"Thriller\", \"Horror\",\n  \"Drama\", \"Comedy\", \"Action\", \"Adventure\", \"Slice of Life\", \"Angst\",\n  \"Fluff\", \"Hurt/Comfort\", \"Historical\", \"Supernatural\", \"Dystopian\"\n];\n\nfunction makeId(prefix = \"ch\") {\n  return `${prefix}_${Date.now()}_${Math.random().toString(16).slice(2)}`;\n}\n\nfunction makeDefaultChapter() {\n  return { id: makeId(\"ch\"), title: \"Chapter 1\", body: \"\", order: 0 };\n}\n\nfunction ActionPill({ icon, label, subLabel, active, onClick }) {\n  return (\n    <button\n      type=\"button\"\n      className={active ? \"nd-pill nd-pill--active\" : \"nd-pill\"}\n      onClick={onClick}\n      aria-label={label}\n      title={label}\n    >\n      <span className=\"nd-pillIcon\" aria-hidden=\"true\">\n        {icon}\n      </span>\n\n      <span className=\"nd-pillText\">\n        <span className=\"nd-pillLabel\">{label}</span>\n        {subLabel ? <span className=\"nd-pillSub\">{subLabel}</span> : null}\n      </span>\n    </button>\n  );\n}\n\nfunction renderBodyWithImages(text) {\n  const src = String(text || \"\");\n  const re = /!\\[([^\\]]*)\\]\\(([^)]+)\\)/g;\n\n  const out = [];\n  let lastIndex = 0;\n  let match;\n  let key = 0;\n\n  while ((match = re.exec(src)) !== null) {\n    const [full, altRaw, urlRaw] = match;\n    const start = match.index;\n    const end = start + full.length;\n\n    if (start > lastIndex) {\n      out.push({ type: \"text\", value: src.slice(lastIndex, start), key: `t_${key++}` });\n    }\n\n    out.push({\n      type: \"image\",\n      alt: altRaw || \"image\",\n      url: urlRaw,\n      key: `i_${key++}`,\n    });\n\n    lastIndex = end;\n  }\n\n  if (lastIndex < src.length) {\n    out.push({ type: \"text\", value: src.slice(lastIndex), key: `t_${key++}` });\n  }\n\n  return out.map((node) => {\n    if (node.type === \"image\") {\n      return (\n        <div key={node.key} style={{ margin: \"12px 0\" }}>\n          <img\n            src={node.url}\n            alt={node.alt}\n            style={{\n              maxWidth: \"100%\",\n              height: \"auto\",\n              display: \"block\",\n              borderRadius: 12,\n              boxShadow: \"0 10px 18px rgba(0,0,0,0.10)\",\n            }}\n          />\n        </div>\n      );\n    }\n\n    const lines = String(node.value).split(\"\\n\");\n    return (\n      <span key={node.key}>\n        {lines.map((line, idx) => (\n          <React.Fragment key={`${node.key}_${idx}`}>\n            {line}\n            {idx < lines.length - 1 ? <br /> : null}\n          </React.Fragment>\n        ))}\n      </span>\n    );\n  });\n}\n\nexport default function DraftEditor() {\n  const navigate = useNavigate();\n  const { draftId } = useParams();\n\n  const [loading, setLoading] = React.useState(true);\n  const [saving, setSaving] = React.useState(false);\n  const [publishing, setPublishing] = React.useState(false);\n\n  const [title, setTitle] = React.useState(\"\");\n  const [chapters, setChapters] = React.useState(() => [makeDefaultChapter()]);\n  const [activeChapterId, setActiveChapterId] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (!activeChapterId && chapters.length > 0) {\n      setActiveChapterId(chapters[0].id);\n    }\n  }, [activeChapterId, chapters]);\n\n  const activeChapter = chapters.find((c) => c.id === activeChapterId) || chapters[0] || null;\n  const body = activeChapter?.body || \"\";\n\n  function setBody(newBody) {\n    setChapters((prev) =>\n      prev.map((ch) =>\n        ch.id === activeChapterId\n          ? { ...ch, body: typeof newBody === \"function\" ? newBody(ch.body) : newBody }\n          : ch\n      )\n    );\n  }\n\n  function addChapter() {\n    const newCh = { id: makeId(\"ch\"), title: `Chapter ${chapters.length + 1}`, body: \"\", order: chapters.length };\n    setChapters((prev) => [...prev, newCh]);\n    setActiveChapterId(newCh.id);\n  }\n\n  function renameChapter(chId, newTitle) {\n    setChapters((prev) => prev.map((ch) => (ch.id === chId ? { ...ch, title: newTitle } : ch)));\n  }\n\n  function deleteChapter(chId) {\n    if (chapters.length <= 1) return;\n    setChapters((prev) => {\n      const next = prev.filter((ch) => ch.id !== chId);\n      if (activeChapterId === chId && next.length > 0) {\n        setActiveChapterId(next[0].id);\n      }\n      return next;\n    });\n  }\n\n  function moveChapter(chId, direction) {\n    setChapters((prev) => {\n      const idx = prev.findIndex((ch) => ch.id === chId);\n      if (idx < 0) return prev;\n      const newIdx = idx + direction;\n      if (newIdx < 0 || newIdx >= prev.length) return prev;\n      const next = [...prev];\n      [next[idx], next[newIdx]] = [next[newIdx], next[idx]];\n      return next;\n    });\n  }\n\n  const [tags, setTags] = React.useState([]);\n  const [skin, setSkin] = React.useState(\"Default\");\n  const [customSkinId, setCustomSkinId] = React.useState(null);\n  const [customSkins, setCustomSkins] = React.useState([]);\n  const [privacy, setPrivacy] = React.useState(\"Public\");\n  const [language, setLanguage] = React.useState(\"English\");\n  const [genre, setGenre] = React.useState(\"\");\n  const [fandom, setFandom] = React.useState(\"\");\n  const [coverImageUrl, setCoverImageUrl] = React.useState(\"\");\n\n  const [audioUrl, setAudioUrl] = React.useState(\"\");\n  const [imageUrls, setImageUrls] = React.useState([]);\n\n  const [activeTool, setActiveTool] = React.useState(\"\");\n  const [tagInput, setTagInput] = React.useState(\"\");\n  const [status, setStatus] = React.useState(\"\");\n  const [previewOn, setPreviewOn] = React.useState(false);\n\n  const bodyRef = React.useRef(null);\n\n  function toggleTool(tool) {\n    setActiveTool((prev) => (prev === tool ? \"\" : tool));\n  }\n\n  function insertIntoBody(text) {\n    const el = bodyRef.current;\n    if (!el) {\n      setBody((prev) => `${prev}${prev ? \"\\n\" : \"\"}${text}`);\n      return;\n    }\n\n    const start = el.selectionStart ?? body.length;\n    const end = el.selectionEnd ?? body.length;\n\n    const before = body.slice(0, start);\n    const after = body.slice(end);\n\n    const next = `${before}${text}${after}`;\n    setBody(next);\n\n    requestAnimationFrame(() => {\n      try {\n        el.focus();\n        const pos = start + text.length;\n        el.setSelectionRange(pos, pos);\n      } catch {\n        // ignore\n      }\n    });\n  }\n\n  // Formatting functions for toolbar\n  function wrapSelection(before, after) {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const end = el.selectionEnd;\n    const selectedText = body.slice(start, end);\n\n    const beforeText = body.slice(0, start);\n    const afterText = body.slice(end);\n\n    const newText = `${beforeText}${before}${selectedText}${after}${afterText}`;\n    setBody(newText);\n\n    requestAnimationFrame(() => {\n      try {\n        el.focus();\n        el.setSelectionRange(start + before.length, end + before.length);\n      } catch {\n        // ignore\n      }\n    });\n  }\n\n  function formatBold() {\n    wrapSelection(\"**\", \"**\");\n  }\n\n  function formatItalic() {\n    wrapSelection(\"*\", \"*\");\n  }\n\n  function formatUnderline() {\n    wrapSelection(\"<u>\", \"</u>\");\n  }\n\n  function formatStrike() {\n    wrapSelection(\"~~\", \"~~\");\n  }\n\n  function formatHeading() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const lineStart = body.lastIndexOf(\"\\n\", start - 1) + 1;\n    const beforeLine = body.slice(0, lineStart);\n    const afterLineStart = body.slice(lineStart);\n\n    setBody(`${beforeLine}## ${afterLineStart}`);\n  }\n\n  function formatLink() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const end = el.selectionEnd;\n    const selectedText = body.slice(start, end) || \"link text\";\n\n    const beforeText = body.slice(0, start);\n    const afterText = body.slice(end);\n\n    const newText = `${beforeText}[${selectedText}](url)${afterText}`;\n    setBody(newText);\n  }\n\n  function formatList() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const lineStart = body.lastIndexOf(\"\\n\", start - 1) + 1;\n    const beforeLine = body.slice(0, lineStart);\n    const afterLineStart = body.slice(lineStart);\n\n    setBody(`${beforeLine}- ${afterLineStart}`);\n  }\n\n  function formatQuote() {\n    const el = bodyRef.current;\n    if (!el) return;\n\n    const start = el.selectionStart;\n    const lineStart = body.lastIndexOf(\"\\n\", start - 1) + 1;\n    const beforeLine = body.slice(0, lineStart);\n    const afterLineStart = body.slice(lineStart);\n\n    setBody(`${beforeLine}> ${afterLineStart}`);\n  }\n\n  function addTag() {\n    const cleaned = tagInput.trim().replace(/^#/, \"\");\n    if (!cleaned) return;\n    if (tags.includes(cleaned)) return;\n\n    setTags((prev) => [...prev, cleaned]);\n    setTagInput(\"\");\n  }\n\n  function removeTag(tag) {\n    setTags((prev) => prev.filter((t) => t !== tag));\n  }\n\n  // Load draft from API\n  React.useEffect(() => {\n    if (!draftId) {\n      setLoading(false);\n      return;\n    }\n\n    async function loadDraft() {\n      try {\n        setLoading(true);\n        const data = await draftsApi.get(draftId);\n        const draft = data.draft;\n\n        setTitle(draft.title || \"\");\n        if (Array.isArray(draft.chapters) && draft.chapters.length > 0) {\n          setChapters(draft.chapters);\n          setActiveChapterId(draft.chapters[0].id);\n        }\n        setTags(Array.isArray(draft.tags) ? draft.tags : []);\n        setSkin(draft.skin || \"Default\");\n        setCustomSkinId(draft.customSkinId || null);\n        setPrivacy(draft.privacy || \"Public\");\n        setLanguage(draft.language || \"English\");\n        setGenre(draft.genre || \"\");\n        setFandom(draft.fandom || \"\");\n        setCoverImageUrl(draft.coverImageUrl || \"\");\n        setAudioUrl(draft.audioUrl || \"\");\n        setImageUrls(Array.isArray(draft.imageUrls) ? draft.imageUrls : []);\n      } catch (err) {\n        setStatus(err.message || \"Failed to load draft\");\n        navigate(\"/drafts\", { replace: true });\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadDraft();\n  }, [draftId, navigate]);\n\n  // Load custom skins\n  React.useEffect(() => {\n    async function loadCustomSkins() {\n      try {\n        const data = await skinsApi.list(\"work\");\n        setCustomSkins(data.skins || []);\n      } catch {\n        // Ignore errors\n      }\n    }\n    loadCustomSkins();\n  }, []);\n\n  // Save draft to API\n  async function handleSaveDraft() {\n    try {\n      setSaving(true);\n      setStatus(\"Saving...\");\n\n      const payload = {\n        title: title.trim() || \"Untitled\",\n        chapters: chapters.map((ch, idx) => ({\n          id: ch.id,\n          title: ch.title,\n          body: ch.body,\n          order: idx,\n        })),\n        tags,\n        skin,\n        customSkinId,\n        privacy,\n        language,\n        genre: genre.trim() || \"\",\n        fandom: fandom.trim() || \"Original Work\",\n        coverImageUrl,\n        audioUrl,\n        imageUrls,\n      };\n\n      await draftsApi.update(draftId, payload);\n      setStatus(\"Saved!\");\n      setTimeout(() => setStatus(\"\"), 1500);\n    } catch (err) {\n      setStatus(err.message || \"Save failed\");\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  // Publish draft via API\n  async function handlePost() {\n    if (!genre.trim()) {\n      setStatus(\"Genre is required before publishing.\");\n      setTimeout(() => setStatus(\"\"), 3000);\n      return;\n    }\n\n    try {\n      setPublishing(true);\n      setStatus(\"Publishing...\");\n\n      // First save the draft\n      const payload = {\n        title: title.trim() || \"Untitled\",\n        chapters: chapters.map((ch, idx) => ({\n          id: ch.id,\n          title: ch.title,\n          body: ch.body,\n          order: idx,\n        })),\n        tags,\n        skin,\n        customSkinId,\n        privacy,\n        language,\n        genre: genre.trim() || \"\",\n        fandom: fandom.trim() || \"Original Work\",\n        coverImageUrl,\n        audioUrl,\n        imageUrls,\n      };\n\n      await draftsApi.update(draftId, payload);\n\n      // Then publish\n      const data = await draftsApi.publish(draftId);\n      const workId = data.work._id;\n\n      navigate(`/works/edit/${encodeURIComponent(workId)}`);\n    } catch (err) {\n      setStatus(err.message || \"Publish failed\");\n    } finally {\n      setPublishing(false);\n    }\n  }\n\n  // Upload cover image\n  async function handleCoverUpload(e) {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n\n    try {\n      setStatus(\"Uploading cover...\");\n      const data = await uploadsApi.image(file);\n      setCoverImageUrl(data.url);\n      setStatus(\"Cover uploaded.\");\n    } catch (err) {\n      setStatus(err.message || \"Cover upload failed.\");\n    } finally {\n      e.target.value = \"\";\n      setTimeout(() => setStatus(\"\"), 1500);\n    }\n  }\n\n  // Upload audio to S3\n  async function handleAudioUpload(e) {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n\n    try {\n      setStatus(\"Uploading audio...\");\n      const data = await uploadsApi.audio(file);\n      setAudioUrl(data.url);\n      setStatus(\"Audio attached.\");\n    } catch (err) {\n      setStatus(err.message || \"Audio upload failed.\");\n    } finally {\n      e.target.value = \"\";\n      setTimeout(() => setStatus(\"\"), 1500);\n    }\n  }\n\n  // Upload image to S3 and insert into body\n  async function handleImageUpload(e) {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n\n    try {\n      setStatus(\"Uploading image...\");\n      const data = await uploadsApi.image(file);\n      const url = data.url;\n\n      setImageUrls((prev) => [url, ...prev]);\n\n      const safeAlt = (file.name || \"image\").replace(/\\.[^/.]+$/, \"\");\n      const snippet = `\\n\\n![${safeAlt}](${url})\\n\\n`;\n      insertIntoBody(snippet);\n\n      setStatus(\"Image inserted.\");\n    } catch (err) {\n      setStatus(err.message || \"Image upload failed.\");\n    } finally {\n      e.target.value = \"\";\n      setTimeout(() => setStatus(\"\"), 1500);\n    }\n  }\n\n  const IconImg = ({ src, alt }) => (\n    <img\n      src={src}\n      alt={alt}\n      width={18}\n      height={18}\n      style={{ display: \"block\", width: 18, height: 18, objectFit: \"contain\" }}\n      draggable={false}\n    />\n  );\n\n  if (loading) {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\">\n          <p>Loading draft...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"nd-page\">\n      <div className=\"nd-shell\">\n        <h1 className=\"nd-title\">Edit Draft</h1>\n\n        <section className=\"nd-card\">\n          <div className=\"nd-pillRow\">\n            <ActionPill\n              icon={<IconImg src={chapterIcon} alt=\"Chapters\" />}\n              label=\"Chapters\"\n              subLabel={`${chapters.length}`}\n              onClick={() => toggleTool(\"chapters\")}\n              active={activeTool === \"chapters\"}\n            />\n            <ActionPill\n              icon={<IconImg src={importIcon} alt=\"Import\" />}\n              label=\"Import\"\n              subLabel=\"Soon\"\n              onClick={() => toggleTool(\"import\")}\n              active={activeTool === \"import\"}\n            />\n            <ActionPill\n              icon={<IconImg src={tagsIcon} alt=\"Tags\" />}\n              label=\"Tags\"\n              subLabel={tags.length ? `${tags.length}` : \"\"}\n              onClick={() => toggleTool(\"tags\")}\n              active={activeTool === \"tags\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Genre\"\n              subLabel={genre || \"Required\"}\n              onClick={() => toggleTool(\"genre\")}\n              active={activeTool === \"genre\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Fandom\"\n              subLabel={fandom || \"Original\"}\n              onClick={() => toggleTool(\"fandom\")}\n              active={activeTool === \"fandom\"}\n            />\n            <ActionPill\n              icon={<IconImg src={skinsIcon} alt=\"Skin\" />}\n              label=\"Skin\"\n              subLabel={skin}\n              onClick={() => toggleTool(\"skin\")}\n              active={activeTool === \"skin\"}\n            />\n            <ActionPill\n              icon={<IconImg src={privacyIcon} alt=\"Privacy\" />}\n              label=\"Privacy\"\n              subLabel={privacy}\n              onClick={() => toggleTool(\"privacy\")}\n              active={activeTool === \"privacy\"}\n            />\n            <ActionPill\n              icon={<IconImg src={langIcon} alt=\"Language\" />}\n              label=\"Language\"\n              subLabel={language}\n              onClick={() => toggleTool(\"language\")}\n              active={activeTool === \"language\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Cover\"\n              subLabel={coverImageUrl ? \"Set\" : \"None\"}\n              onClick={() => toggleTool(\"cover\")}\n              active={activeTool === \"cover\"}\n            />\n            <ActionPill\n              icon=\"\"\n              label=\"Audio\"\n              subLabel={audioUrl ? \"Attached\" : \"None\"}\n              onClick={() => toggleTool(\"audio\")}\n              active={activeTool === \"audio\"}\n            />\n            <ActionPill\n              icon={<IconImg src={imageIcon} alt=\"Images\" />}\n              label=\"Images\"\n              subLabel={imageUrls.length ? `${imageUrls.length}` : \"0\"}\n              onClick={() => toggleTool(\"images\")}\n              active={activeTool === \"images\"}\n            />\n            <ActionPill\n              icon={<IconImg src={previewIcon} alt=\"Preview\" />}\n              label=\"Preview\"\n              subLabel={previewOn ? \"On\" : \"Off\"}\n              onClick={() => setPreviewOn((v) => !v)}\n              active={previewOn}\n            />\n          </div>\n\n          {activeTool === \"chapters\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Chapters</div>\n              <div className=\"nd-chapterList\">\n                {chapters.map((ch, idx) => (\n                  <div key={ch.id} className={`nd-chapterItem ${ch.id === activeChapterId ? \"nd-chapterItem--active\" : \"\"}`}>\n                    <button type=\"button\" className=\"nd-chapterSelect\" onClick={() => setActiveChapterId(ch.id)}>\n                      <input\n                        className=\"nd-chapterTitleInput\"\n                        value={ch.title}\n                        onChange={(e) => renameChapter(ch.id, e.target.value)}\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                    </button>\n                    <div className=\"nd-chapterActions\">\n                      <button type=\"button\" className=\"nd-chapterBtn\" onClick={() => moveChapter(ch.id, -1)} disabled={idx === 0} title=\"Move up\">\n                        \n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"nd-chapterBtn\"\n                        onClick={() => moveChapter(ch.id, 1)}\n                        disabled={idx === chapters.length - 1}\n                        title=\"Move down\"\n                      >\n                        \n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"nd-chapterBtn nd-chapterBtn--delete\"\n                        onClick={() => deleteChapter(ch.id)}\n                        disabled={chapters.length <= 1}\n                        title=\"Delete chapter\"\n                      >\n                        \n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <button type=\"button\" className=\"nd-ornateBtn nd-ornateBtn--small\" onClick={addChapter}>\n                + Add Chapter\n              </button>\n            </div>\n          )}\n\n          {activeTool === \"tags\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Tags</div>\n              <div style={{ display: \"flex\", gap: 8 }}>\n                <input className=\"nd-toolInput\" placeholder=\"Add a tag\" value={tagInput} onChange={(e) => setTagInput(e.target.value)} />\n                <button type=\"button\" className=\"nd-ornateBtn nd-ornateBtn--small\" onClick={addTag}>\n                  Add\n                </button>\n              </div>\n              {tags.length > 0 && (\n                <div className=\"nd-tags\">\n                  {tags.map((t) => (\n                    <button key={t} className=\"nd-tag\" onClick={() => removeTag(t)}>\n                      #{t} \n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTool === \"genre\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Genre <span style={{ color: \"#c44\", fontWeight: \"normal\" }}>(Required)</span></div>\n              <input\n                className=\"nd-toolInput\"\n                placeholder=\"Enter genre (e.g., Romance, Fantasy)\"\n                value={genre}\n                onChange={(e) => setGenre(e.target.value)}\n              />\n              <div className=\"nd-toolHint\" style={{ marginTop: 8 }}>\n                Suggestions:\n                <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 6, marginTop: 6 }}>\n                  {GENRE_SUGGESTIONS.map((g) => (\n                    <button\n                      key={g}\n                      type=\"button\"\n                      className=\"nd-tag\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() => setGenre(g)}\n                    >\n                      {g}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"fandom\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Fandom</div>\n              <input\n                className=\"nd-toolInput\"\n                placeholder=\"Enter fandom (leave empty for Original Work)\"\n                value={fandom}\n                onChange={(e) => setFandom(e.target.value)}\n              />\n              <div className=\"nd-toolHint\">\n                If your work is not based on an existing property, leave empty or enter \"Original Work\".\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"skin\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Skin</div>\n              <div className=\"nd-toolSubtitle\">Built-in Skins</div>\n              <div className=\"nd-choiceRow\">\n                {BUILTIN_SKIN_OPTIONS.map((opt) => (\n                  <label key={opt} className=\"nd-choice\">\n                    <input\n                      type=\"radio\"\n                      checked={skin === opt && !customSkinId}\n                      onChange={() => {\n                        setSkin(opt);\n                        setCustomSkinId(null);\n                      }}\n                    />\n                    <span>{opt}</span>\n                  </label>\n                ))}\n              </div>\n              {customSkins.length > 0 && (\n                <>\n                  <div className=\"nd-toolSubtitle\" style={{ marginTop: 12 }}>Custom Skins</div>\n                  <div className=\"nd-choiceRow\">\n                    {customSkins.map((cs) => (\n                      <label key={cs._id} className=\"nd-choice\">\n                        <input\n                          type=\"radio\"\n                          checked={customSkinId === cs._id}\n                          onChange={() => {\n                            setSkin(cs.name);\n                            setCustomSkinId(cs._id);\n                          }}\n                        />\n                        <span>{cs.name}</span>\n                      </label>\n                    ))}\n                  </div>\n                </>\n              )}\n              <div className=\"nd-toolHint\">\n                Choose a reading skin for your work. Readers will see this theme when viewing.\n                {customSkins.length === 0 && (\n                  <> Create custom skins in <a href=\"/settings\" style={{ color: \"#244b2b\" }}>Settings  Skins</a>.</>\n                )}\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"privacy\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Privacy</div>\n              <div className=\"nd-choiceRow\">\n                {PRIVACY_OPTIONS.map((opt) => (\n                  <label key={opt} className=\"nd-choice\">\n                    <input type=\"radio\" checked={privacy === opt} onChange={() => setPrivacy(opt)} />\n                    <span>{opt}</span>\n                  </label>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {activeTool === \"language\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Language</div>\n              <select className=\"nd-toolSelect\" value={language} onChange={(e) => setLanguage(e.target.value)}>\n                {LANGUAGE_OPTIONS.map((opt) => (\n                  <option key={opt}>{opt}</option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {activeTool === \"cover\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Cover Image / Thumbnail</div>\n              <input className=\"nd-toolInput\" type=\"file\" accept=\"image/*\" onChange={handleCoverUpload} />\n              <div className=\"nd-toolHint\">\n                Upload a cover image for your work. If not set, a default Sable cover will be used.\n              </div>\n              {coverImageUrl && (\n                <div style={{ marginTop: 12 }}>\n                  <img src={coverImageUrl} alt=\"Cover preview\" style={{ maxWidth: 200, borderRadius: 8 }} />\n                  <button\n                    type=\"button\"\n                    className=\"nd-ornateBtn nd-ornateBtn--small\"\n                    style={{ marginTop: 8, display: \"block\" }}\n                    onClick={() => setCoverImageUrl(\"\")}\n                  >\n                    Remove Cover\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTool === \"audio\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Audio Upload</div>\n              <input className=\"nd-toolInput\" type=\"file\" accept=\"audio/*\" onChange={handleAudioUpload} />\n              <div className=\"nd-toolHint\">{audioUrl ? \"Audio attached\" : \"Upload an audio file to attach it to this draft.\"}</div>\n            </div>\n          )}\n\n          {activeTool === \"images\" && (\n            <div className=\"nd-toolPanel\">\n              <div className=\"nd-toolTitle\">Insert Image Into Body</div>\n              <input className=\"nd-toolInput\" type=\"file\" accept=\"image/*\" onChange={handleImageUpload} />\n              <div className=\"nd-toolHint\">Upload an image and it will be inserted into the work body at your cursor position.</div>\n            </div>\n          )}\n\n          {!previewOn ? (\n            <>\n              <div className=\"nd-bodyLabel\">Title</div>\n              <input className=\"nd-textarea\" style={{ minHeight: 44 }} value={title} onChange={(e) => setTitle(e.target.value)} />\n\n              <div className=\"nd-chapterSelector\">\n                <label className=\"nd-chapterSelectorLabel\">Currently Editing:</label>\n                <select\n                  className=\"nd-chapterDropdown\"\n                  value={activeChapterId}\n                  onChange={(e) => setActiveChapterId(e.target.value)}\n                >\n                  {chapters.map((ch, idx) => (\n                    <option key={ch.id} value={ch.id}>\n                      {ch.title || `Chapter ${idx + 1}`}\n                    </option>\n                  ))}\n                </select>\n                <span className=\"nd-chapterCount\">\n                  ({chapters.findIndex((c) => c.id === activeChapterId) + 1} of {chapters.length})\n                </span>\n              </div>\n\n              <div className=\"nd-bodyLabel\" style={{ marginTop: 8 }}>\n                Chapter Content\n              </div>\n\n              {/* Formatting Toolbar */}\n              <div className=\"nd-formatToolbar\">\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatBold(); }} title=\"Bold (Ctrl+B)\">\n                  <strong>B</strong>\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatItalic(); }} title=\"Italic (Ctrl+I)\">\n                  <em>I</em>\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatUnderline(); }} title=\"Underline\">\n                  <u>U</u>\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatStrike(); }} title=\"Strikethrough\">\n                  <s>S</s>\n                </button>\n                <span className=\"nd-formatDivider\" />\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatHeading(); }} title=\"Heading\">\n                  H\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatQuote(); }} title=\"Quote\">\n                  \"\n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatList(); }} title=\"List\">\n                  \n                </button>\n                <button type=\"button\" className=\"nd-formatBtn\" onMouseDown={(e) => { e.preventDefault(); formatLink(); }} title=\"Link\">\n                  \n                </button>\n              </div>\n\n              <textarea ref={bodyRef} className=\"nd-textarea\" value={body} onChange={(e) => setBody(e.target.value)} />\n            </>\n          ) : (\n            <div className=\"nd-toolPanel\" style={{ marginTop: 12 }}>\n              <div className=\"nd-toolTitle\">Preview</div>\n\n              <div className=\"nd-bodyLabel\" style={{ marginTop: 6 }}>\n                Title\n              </div>\n              <div\n                style={{\n                  background: \"rgba(255,255,255,0.92)\",\n                  border: \"1px solid rgba(0,0,0,0.10)\",\n                  borderRadius: 12,\n                  padding: 12,\n                  fontFamily: '\"Libre Baskerville\", serif',\n                  fontSize: 15,\n                  lineHeight: 1.7,\n                  color: \"rgba(0,0,0,0.82)\",\n                }}\n              >\n                {title?.trim() ? title : \"Untitled\"}\n              </div>\n\n              {audioUrl ? (\n                <>\n                  <div className=\"nd-bodyLabel\" style={{ marginTop: 14 }}>\n                    Audio\n                  </div>\n                  <audio controls src={audioUrl} style={{ width: \"100%\" }} />\n                </>\n              ) : null}\n\n              <div className=\"nd-bodyLabel\" style={{ marginTop: 14 }}>\n                {activeChapter ? activeChapter.title : \"Chapter\"} Body\n              </div>\n              <div\n                style={{\n                  background: \"rgba(255,255,255,0.92)\",\n                  border: \"1px solid rgba(0,0,0,0.10)\",\n                  borderRadius: 12,\n                  padding: 12,\n                  fontFamily: '\"Libre Baskerville\", serif',\n                  fontSize: 15,\n                  lineHeight: 1.7,\n                  color: \"rgba(0,0,0,0.82)\",\n                }}\n              >\n                {renderBodyWithImages(body)}\n              </div>\n            </div>\n          )}\n\n          {status && <div className=\"nd-status\">{status}</div>}\n\n          <div className=\"nd-actions\">\n            <button\n              className=\"nd-ornateBtn nd-ornateBtn--primary\"\n              onClick={handlePost}\n              disabled={publishing}\n            >\n              {publishing ? \"Publishing...\" : \"Post\"}\n            </button>\n            <button\n              className=\"nd-ornateBtn\"\n              onClick={handleSaveDraft}\n              disabled={saving}\n            >\n              {saving ? \"Saving...\" : \"Save Draft\"}\n            </button>\n            <button className=\"nd-ornateBtn\" onClick={() => navigate(\"/drafts\")}>\n              Back to Drafts\n            </button>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./SupportSable.css\";\n\nimport confirmationImg from \"../assets/images/payment_confirmation.png\";\n\nconst PRESET_AMOUNTS = [5, 10, 15];\n\nexport default function SupportSable() {\n  const navigate = useNavigate();\n\n  const [selectedAmount, setSelectedAmount] = React.useState(5);\n  const [customAmount, setCustomAmount] = React.useState(\"\");\n  const [method, setMethod] = React.useState(\"providers\"); // providers | card\n  const [showSuccess, setShowSuccess] = React.useState(false);\n\n  // Validation, UI errors\n  const [amountError, setAmountError] = React.useState(\"\");\n  const [cardErrors, setCardErrors] = React.useState({});\n\n  // Card form (demo)\n  const [cardName, setCardName] = React.useState(\"\");\n  const [cardNumber, setCardNumber] = React.useState(\"\");\n  const [expiry, setExpiry] = React.useState(\"\");\n  const [cvc, setCvc] = React.useState(\"\");\n  const [zip, setZip] = React.useState(\"\");\n\n  function effectiveAmount() {\n    const raw = customAmount.trim();\n    if (!raw) return selectedAmount;\n    const parsed = Number(raw);\n    if (!Number.isFinite(parsed) || parsed <= 0) return selectedAmount;\n    return parsed;\n  }\n\n  function formatMoney(n) {\n    const val = Number(n);\n    if (!Number.isFinite(val)) return \"$0.00\";\n    return `$${val.toFixed(2)}`;\n  }\n\n  function pickPreset(n) {\n    setSelectedAmount(n);\n    setCustomAmount(\"\");\n    setAmountError(\"\");\n  }\n\n  //Validation helper\n  function validateAmount(rawValue, fallbackPreset) {\n    const raw = String(rawValue ?? \"\").trim();\n    if (!raw) return \"\"; // preset is fine\n    // allow \"25\", \"25.00\", but reject letters\n    if (!/^\\d+(\\.\\d{1,2})?$/.test(raw)) return \"Enter a valid amount (e.g., 25 or 25.00).\";\n    const parsed = Number(raw);\n    if (!Number.isFinite(parsed) || parsed <= 0) return \"Amount must be greater than 0.\";\n    // optional limits for demo (keep reasonable)\n    if (parsed > 5000) return \"Please enter an amount under $5,000 for this demo.\";\n    return \"\";\n  }\n\n  function onlyDigits(s) {\n    return String(s || \"\").replace(/\\D/g, \"\");\n  }\n\n  // Luhn check for card number\n  function luhnIsValid(num) {\n    const digits = onlyDigits(num);\n    if (digits.length < 13 || digits.length > 19) return false;\n    let sum = 0;\n    let shouldDouble = false;\n    for (let i = digits.length - 1; i >= 0; i--) {\n      let d = parseInt(digits[i], 10);\n      if (shouldDouble) {\n        d *= 2;\n        if (d > 9) d -= 9;\n      }\n      sum += d;\n      shouldDouble = !shouldDouble;\n    }\n    return sum % 10 === 0;\n  }\n\n  function normalizeExpiry(input) {\n    // Keep digits + slash, auto-insert slash after MM\n    const raw = String(input || \"\").replace(/[^\\d/]/g, \"\");\n    const digits = raw.replace(/\\D/g, \"\").slice(0, 4); // MMYY\n    if (digits.length <= 2) return digits;\n    return `${digits.slice(0, 2)}/${digits.slice(2)}`;\n  }\n\n  function expiryIsValid(mmYY) {\n    const val = String(mmYY || \"\").trim();\n    const m = val.match(/^(\\d{2})\\/(\\d{2})$/);\n    if (!m) return false;\n\n    const mm = parseInt(m[1], 10);\n    const yy = parseInt(m[2], 10);\n    if (mm < 1 || mm > 12) return false;\n\n    // interpret YY as 2000-2099\n    const fullYear = 2000 + yy;\n\n    // valid through end of month\n    const now = new Date();\n    const endOfExpMonth = new Date(fullYear, mm, 0, 23, 59, 59, 999); // day 0 of next month = last day of exp month\n    return endOfExpMonth >= now;\n  }\n\n  function validateCardForm() {\n    const next = {};\n\n    const name = cardName.trim();\n    if (!name) next.cardName = \"Name on card is required.\";\n    else if (name.length < 2) next.cardName = \"Please enter a valid name.\";\n\n    const digits = onlyDigits(cardNumber);\n    if (!digits) next.cardNumber = \"Card number is required.\";\n    else if (digits.length < 13 || digits.length > 19) next.cardNumber = \"Card number must be 1319 digits.\";\n    else if (!luhnIsValid(digits)) next.cardNumber = \"Card number looks invalid.\";\n\n    if (!expiry.trim()) next.expiry = \"Expiry date is required.\";\n    else if (!expiryIsValid(expiry)) next.expiry = \"Enter a valid, unexpired date (MM/YY).\";\n\n    const c = onlyDigits(cvc);\n    if (!c) next.cvc = \"Security code is required.\";\n    else if (!(c.length === 3 || c.length === 4)) next.cvc = \"Security code must be 34 digits.\";\n\n    const z = zip.trim();\n    if (!z) next.zip = \"Zip/Postal code is required.\";\n    else if (!/^[A-Za-z0-9][A-Za-z0-9 -]{2,11}$/.test(z)) next.zip = \"Enter a valid Zip/Postal code.\";\n\n    return next;\n  }\n\n  function handleProviderPay() {\n    const err = validateAmount(customAmount, selectedAmount);\n    setAmountError(err);\n    if (err) return;\n\n    // Demo: succeeds\n    setShowSuccess(true);\n  }\n\n  function handleCardPay() {\n    const amtErr = validateAmount(customAmount, selectedAmount);\n    setAmountError(amtErr);\n\n    const nextErrors = validateCardForm();\n    setCardErrors(nextErrors);\n\n    if (amtErr) return;\n    if (Object.keys(nextErrors).length > 0) return;\n\n    // Demo: succeeds\n    setShowSuccess(true);\n  }\n\n  function resetToStart() {\n    setMethod(\"providers\");\n    setShowSuccess(false);\n    setCardErrors({});\n  }\n\n  function handleBackToHome() {\n    setShowSuccess(false);\n    navigate(\"/\");\n  }\n\n  return (\n    <section className=\"supPage\" aria-label=\"Support Sable payments\">\n      <div className=\"supShell\">\n        <h1 className=\"supTitle\">THANK YOU FOR YOUR CONSIDERATION</h1>\n\n        <div className=\"supCard\" role=\"region\" aria-label=\"Payment card\">\n          <div className=\"supCardTop\" aria-hidden=\"true\" />\n\n          {method === \"providers\" ? (\n            <div className=\"supCardBody\">\n              <div className=\"supAmounts\" aria-label=\"Choose amount\">\n                {PRESET_AMOUNTS.map((amt) => (\n                  <button\n                    key={amt}\n                    type=\"button\"\n                    className={selectedAmount === amt && !customAmount ? \"supAmtBtn supAmtBtn--active\" : \"supAmtBtn\"}\n                    onClick={() => pickPreset(amt)}\n                    aria-label={`Pay ${amt} dollars`}\n                  >\n                    ${amt}\n                  </button>\n                ))}\n              </div>\n\n              <div className=\"supCustomRow\">\n                <label className=\"supLabel\" htmlFor=\"customAmount\">\n                  Or enter a custom amount\n                </label>\n                <div className=\"supCustomInputWrap\">\n                  <span className=\"supDollar\" aria-hidden=\"true\">\n                    $\n                  </span>\n                  <input\n                    id=\"customAmount\"\n                    className=\"supInput\"\n                    inputMode=\"decimal\"\n                    placeholder=\"25.00\"\n                    value={customAmount}\n                    onChange={(e) => {\n                      setCustomAmount(e.target.value);\n                      // live-clear error when user edits\n                      if (amountError) setAmountError(\"\");\n                    }}\n                    aria-label=\"Custom payment amount\"\n                    aria-invalid={amountError ? \"true\" : \"false\"}\n                    aria-describedby={amountError ? \"amountError\" : undefined}\n                  />\n                </div>\n\n                {amountError ? (\n                  <div\n                    id=\"amountError\"\n                    role=\"alert\"\n                    style={{\n                      fontFamily: '\"Libre Baskerville\", serif',\n                      fontSize: 12,\n                      marginTop: 6,\n                      color: \"rgba(127, 31, 21, 0.95)\",\n                    }}\n                  >\n                    {amountError}\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"supProviders\" aria-label=\"Choose payment provider\">\n                <button type=\"button\" className=\"supProvider supProvider--paypal\" onClick={handleProviderPay}>\n                  <span className=\"supProviderBrand\">PayPal</span>\n                </button>\n\n                <button\n                  type=\"button\"\n                  className=\"supProvider supProvider--card\"\n                  onClick={() => {\n                    setMethod(\"card\");\n                    setCardErrors({});\n                  }}\n                >\n                  <span className=\"supProviderBrand\">Credit Card</span>\n                </button>\n\n                <button type=\"button\" className=\"supProvider supProvider--apple\" onClick={handleProviderPay}>\n                  <span className=\"supProviderBrand\">Pay</span>\n                </button>\n              </div>\n\n              <div className=\"supMeta\">\n                Youll be charged <strong>{formatMoney(effectiveAmount())}</strong>. This is a demo payment flow.\n              </div>\n            </div>\n          ) : (\n            <div className=\"supCardBody supCardBody--form\">\n              <div className=\"supFormRow\">\n                <label className=\"supLabel\" htmlFor=\"amount\">\n                  Payment Amount:\n                </label>\n                <input id=\"amount\" className=\"supInput\" value={formatMoney(effectiveAmount())} readOnly aria-label=\"Payment amount\" />\n                {amountError ? (\n                  <div\n                    role=\"alert\"\n                    style={{\n                      fontFamily: '\"Libre Baskerville\", serif',\n                      fontSize: 12,\n                      marginTop: 6,\n                      color: \"rgba(127, 31, 21, 0.95)\",\n                    }}\n                  >\n                    {amountError}\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"supFormRow\">\n                <label className=\"supLabel\" htmlFor=\"nameOnCard\">\n                  Name on card\n                </label>\n                <input\n                  id=\"nameOnCard\"\n                  className=\"supInput\"\n                  value={cardName}\n                  onChange={(e) => {\n                    setCardName(e.target.value);\n                    if (cardErrors.cardName) setCardErrors((p) => ({ ...p, cardName: \"\" }));\n                  }}\n                  aria-invalid={cardErrors.cardName ? \"true\" : \"false\"}\n                  aria-describedby={cardErrors.cardName ? \"errName\" : undefined}\n                />\n                {cardErrors.cardName ? (\n                  <div\n                    id=\"errName\"\n                    role=\"alert\"\n                    style={{\n                      fontFamily: '\"Libre Baskerville\", serif',\n                      fontSize: 12,\n                      marginTop: 6,\n                      color: \"rgba(127, 31, 21, 0.95)\",\n                    }}\n                  >\n                    {cardErrors.cardName}\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"supFormRow\">\n                <label className=\"supLabel\" htmlFor=\"cardNumber\">\n                  Card Number\n                </label>\n                <input\n                  id=\"cardNumber\"\n                  className=\"supInput\"\n                  inputMode=\"numeric\"\n                  placeholder=\"1234 5678 9012 3456\"\n                  value={cardNumber}\n                  onChange={(e) => {\n                \n                    const digits = onlyDigits(e.target.value).slice(0, 19);\n                    const spaced = digits.replace(/(.{4})/g, \"$1 \").trim();\n                    setCardNumber(spaced);\n                    if (cardErrors.cardNumber) setCardErrors((p) => ({ ...p, cardNumber: \"\" }));\n                  }}\n                  aria-invalid={cardErrors.cardNumber ? \"true\" : \"false\"}\n                  aria-describedby={cardErrors.cardNumber ? \"errCard\" : undefined}\n                />\n                {cardErrors.cardNumber ? (\n                  <div\n                    id=\"errCard\"\n                    role=\"alert\"\n                    style={{\n                      fontFamily: '\"Libre Baskerville\", serif',\n                      fontSize: 12,\n                      marginTop: 6,\n                      color: \"rgba(127, 31, 21, 0.95)\",\n                    }}\n                  >\n                    {cardErrors.cardNumber}\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"supTwoCol\">\n                <div className=\"supFormRow\">\n                  <label className=\"supLabel\" htmlFor=\"expiry\">\n                    Expiry Date\n                  </label>\n                  <input\n                    id=\"expiry\"\n                    className=\"supInput\"\n                    inputMode=\"numeric\"\n                    placeholder=\"MM/YY\"\n                    value={expiry}\n                    onChange={(e) => {\n                      setExpiry(normalizeExpiry(e.target.value));\n                      if (cardErrors.expiry) setCardErrors((p) => ({ ...p, expiry: \"\" }));\n                    }}\n                    aria-invalid={cardErrors.expiry ? \"true\" : \"false\"}\n                    aria-describedby={cardErrors.expiry ? \"errExp\" : undefined}\n                  />\n                  {cardErrors.expiry ? (\n                    <div\n                      id=\"errExp\"\n                      role=\"alert\"\n                      style={{\n                        fontFamily: '\"Libre Baskerville\", serif',\n                        fontSize: 12,\n                        marginTop: 6,\n                        color: \"rgba(127, 31, 21, 0.95)\",\n                      }}\n                    >\n                      {cardErrors.expiry}\n                    </div>\n                  ) : null}\n                </div>\n\n                <div className=\"supFormRow\">\n                  <label className=\"supLabel\" htmlFor=\"cvc\">\n                    Security Code\n                  </label>\n                  <input\n                    id=\"cvc\"\n                    className=\"supInput\"\n                    inputMode=\"numeric\"\n                    placeholder=\"123\"\n                    value={cvc}\n                    onChange={(e) => {\n                      setCvc(onlyDigits(e.target.value).slice(0, 4));\n                      if (cardErrors.cvc) setCardErrors((p) => ({ ...p, cvc: \"\" }));\n                    }}\n                    aria-invalid={cardErrors.cvc ? \"true\" : \"false\"}\n                    aria-describedby={cardErrors.cvc ? \"errCvc\" : undefined}\n                  />\n                  {cardErrors.cvc ? (\n                    <div\n                      id=\"errCvc\"\n                      role=\"alert\"\n                      style={{\n                        fontFamily: '\"Libre Baskerville\", serif',\n                        fontSize: 12,\n                        marginTop: 6,\n                        color: \"rgba(127, 31, 21, 0.95)\",\n                      }}\n                    >\n                      {cardErrors.cvc}\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n\n              <div className=\"supFormRow\">\n                <label className=\"supLabel\" htmlFor=\"zip\">\n                  Zip/Postal Code\n                </label>\n                <input\n                  id=\"zip\"\n                  className=\"supInput\"\n                  value={zip}\n                  onChange={(e) => {\n                    setZip(e.target.value);\n                    if (cardErrors.zip) setCardErrors((p) => ({ ...p, zip: \"\" }));\n                  }}\n                  aria-invalid={cardErrors.zip ? \"true\" : \"false\"}\n                  aria-describedby={cardErrors.zip ? \"errZip\" : undefined}\n                />\n                {cardErrors.zip ? (\n                  <div\n                    id=\"errZip\"\n                    role=\"alert\"\n                    style={{\n                      fontFamily: '\"Libre Baskerville\", serif',\n                      fontSize: 12,\n                      marginTop: 6,\n                      color: \"rgba(127, 31, 21, 0.95)\",\n                    }}\n                  >\n                    {cardErrors.zip}\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"supActions\">\n                <button type=\"button\" className=\"supBack\" onClick={resetToStart}>\n                  Back\n                </button>\n                <button type=\"button\" className=\"supPayNow\" onClick={handleCardPay}>\n                  Pay Now\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showSuccess ? (\n        <div\n          className=\"supOverlay\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-label=\"Payment successful\"\n          onMouseDown={(e) => {\n            if (e.target === e.currentTarget) setShowSuccess(false);\n          }}\n        >\n          <div className=\"supModal supModal--thankyou\">\n            <div className=\"supThankTitle\">Thank You For Your Contribution!</div>\n\n            <img className=\"supConfirmImg supConfirmImg--thankyou\" src={confirmationImg} alt=\"\" aria-hidden=\"true\" />\n\n            <button type=\"button\" className=\"supBackHome\" onClick={handleBackToHome}>\n              Back to Home\n            </button>\n          </div>\n        </div>\n      ) : null}\n    </section>\n  );\n}\n\n\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { authApi } from \"../api\";\nimport \"./NewDraft.css\"; // Reuse some styles\n\nexport default function OnboardingUsername({ onLogin }) {\n  const navigate = useNavigate();\n  const [username, setUsername] = React.useState(\"\");\n  const [error, setError] = React.useState(\"\");\n  const [checking, setChecking] = React.useState(false);\n  const [available, setAvailable] = React.useState(null);\n  const [submitting, setSubmitting] = React.useState(false);\n\n  // Debounced username availability check\n  React.useEffect(() => {\n    if (!username || username.length < 3) {\n      setAvailable(null);\n      return;\n    }\n\n    const timer = setTimeout(async () => {\n      setChecking(true);\n      try {\n        const data = await authApi.checkUsername(username);\n        setAvailable(data.available);\n      } catch {\n        setAvailable(null);\n      } finally {\n        setChecking(false);\n      }\n    }, 500);\n\n    return () => clearTimeout(timer);\n  }, [username]);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!username || username.length < 3) {\n      setError(\"Username must be at least 3 characters.\");\n      return;\n    }\n\n    if (available === false) {\n      setError(\"This username is already taken.\");\n      return;\n    }\n\n    setSubmitting(true);\n    setError(\"\");\n\n    try {\n      const data = await authApi.setUsername(username);\n      onLogin(data.user);\n      navigate(\"/\");\n    } catch (err) {\n      setError(err.message || \"Failed to set username. Please try again.\");\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <div className=\"nd-page\">\n      <div className=\"nd-shell\" style={{ maxWidth: 480 }}>\n        <h1 className=\"nd-title\">Choose Your Username</h1>\n        <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n          Welcome to Sable! Please choose a unique username to complete your account setup.\n        </p>\n\n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: 16 }}>\n            <label style={{ display: \"block\", marginBottom: 8, fontWeight: 500 }}>\n              Username\n            </label>\n            <input\n              className=\"nd-textarea\"\n              style={{ minHeight: 44 }}\n              value={username}\n              onChange={(e) => setUsername(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g, \"\"))}\n              placeholder=\"your_username\"\n              autoFocus\n              maxLength={30}\n            />\n            <div style={{ marginTop: 8, fontSize: 14 }}>\n              {checking && <span style={{ color: \"#666\" }}>Checking availability...</span>}\n              {!checking && available === true && (\n                <span style={{ color: \"green\" }}>Username is available!</span>\n              )}\n              {!checking && available === false && (\n                <span style={{ color: \"red\" }}>Username is already taken.</span>\n              )}\n            </div>\n          </div>\n\n          {error && (\n            <div style={{ color: \"red\", marginBottom: 16 }}>{error}</div>\n          )}\n\n          <button\n            type=\"submit\"\n            className=\"nd-ornateBtn nd-ornateBtn--primary\"\n            disabled={submitting || checking || available === false}\n            style={{ width: \"100%\" }}\n          >\n            {submitting ? \"Setting up...\" : \"Continue\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\nimport { authApi } from \"../api\";\nimport \"./NewDraft.css\";\n\nexport default function VerifyEmail() {\n  const { token } = useParams();\n  const navigate = useNavigate();\n  const [status, setStatus] = React.useState(\"verifying\"); // \"verifying\" | \"success\" | \"error\"\n  const [error, setError] = React.useState(\"\");\n\n  React.useEffect(() => {\n    async function verify() {\n      if (!token) {\n        setStatus(\"error\");\n        setError(\"No verification token provided.\");\n        return;\n      }\n\n      try {\n        await authApi.verifyEmail(token);\n        setStatus(\"success\");\n      } catch (err) {\n        setStatus(\"error\");\n        setError(err.message || \"Invalid or expired verification link.\");\n      }\n    }\n\n    verify();\n  }, [token]);\n\n  return (\n    <div className=\"nd-page\">\n      <div className=\"nd-shell\" style={{ maxWidth: 480, textAlign: \"center\" }}>\n        {status === \"verifying\" && (\n          <>\n            <h1 className=\"nd-title\">Verifying Email...</h1>\n            <p style={{ color: \"rgba(0,0,0,0.65)\" }}>Please wait while we verify your email address.</p>\n          </>\n        )}\n\n        {status === \"success\" && (\n          <>\n            <h1 className=\"nd-title\">Email Verified!</h1>\n            <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n              Your email has been successfully verified. You can now use all features of Sable.\n            </p>\n            <button\n              className=\"nd-ornateBtn nd-ornateBtn--primary\"\n              onClick={() => navigate(\"/\")}\n              style={{ width: \"100%\" }}\n            >\n              Continue to Sable\n            </button>\n          </>\n        )}\n\n        {status === \"error\" && (\n          <>\n            <h1 className=\"nd-title\">Verification Failed</h1>\n            <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>{error}</p>\n            <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n              The verification link may have expired. You can request a new verification email from your{\" \"}\n              <Link to=\"/settings\" style={{ color: \"#2d2d2d\" }}>\n                settings\n              </Link>\n              .\n            </p>\n            <button\n              className=\"nd-ornateBtn nd-ornateBtn--primary\"\n              onClick={() => navigate(\"/\")}\n              style={{ width: \"100%\" }}\n            >\n              Go to Home\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { authApi } from \"../api\";\nimport \"./NewDraft.css\";\n\nexport default function ForgotPassword() {\n  const [email, setEmail] = React.useState(\"\");\n  const [status, setStatus] = React.useState(\"idle\"); // \"idle\" | \"submitting\" | \"sent\"\n  const [error, setError] = React.useState(\"\");\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    const trimmedEmail = email.trim();\n    if (!trimmedEmail) {\n      setError(\"Please enter your email address.\");\n      return;\n    }\n\n    setStatus(\"submitting\");\n    setError(\"\");\n\n    try {\n      await authApi.forgotPassword(trimmedEmail);\n      setStatus(\"sent\");\n    } catch (err) {\n      setError(err.message || \"Something went wrong. Please try again.\");\n      setStatus(\"idle\");\n    }\n  }\n\n  if (status === \"sent\") {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\" style={{ maxWidth: 480, textAlign: \"center\" }}>\n          <h1 className=\"nd-title\">Check Your Email</h1>\n          <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n            If an account exists with that email address, we've sent a password reset link. Please check your inbox\n            (and spam folder) for the reset email.\n          </p>\n          <p style={{ color: \"rgba(0,0,0,0.65)\" }}>\n            <Link to=\"/\" style={{ color: \"#2d2d2d\" }}>\n              Return to Home\n            </Link>\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"nd-page\">\n      <div className=\"nd-shell\" style={{ maxWidth: 480 }}>\n        <h1 className=\"nd-title\">Reset Your Password</h1>\n        <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n          Enter the email address associated with your account and we'll send you a link to reset your password.\n        </p>\n\n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: 16 }}>\n            <label style={{ display: \"block\", marginBottom: 8, fontWeight: 500 }}>Email</label>\n            <input\n              className=\"nd-textarea\"\n              style={{ minHeight: 44 }}\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"you@example.com\"\n              autoFocus\n            />\n          </div>\n\n          {error && <div style={{ color: \"red\", marginBottom: 16 }}>{error}</div>}\n\n          <button\n            type=\"submit\"\n            className=\"nd-ornateBtn nd-ornateBtn--primary\"\n            disabled={status === \"submitting\"}\n            style={{ width: \"100%\", marginBottom: 16 }}\n          >\n            {status === \"submitting\" ? \"Sending...\" : \"Send Reset Link\"}\n          </button>\n\n          <p style={{ textAlign: \"center\", color: \"rgba(0,0,0,0.65)\" }}>\n            Remember your password?{\" \"}\n            <Link to=\"/\" style={{ color: \"#2d2d2d\" }}>\n              Log in\n            </Link>\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\nimport { authApi } from \"../api\";\nimport \"./NewDraft.css\";\n\nexport default function ResetPassword() {\n  const { token } = useParams();\n  const navigate = useNavigate();\n\n  const [password, setPassword] = React.useState(\"\");\n  const [confirmPassword, setConfirmPassword] = React.useState(\"\");\n  const [status, setStatus] = React.useState(\"checking\"); // \"checking\" | \"valid\" | \"invalid\" | \"submitting\" | \"success\"\n  const [error, setError] = React.useState(\"\");\n  const [showPassword, setShowPassword] = React.useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = React.useState(false);\n\n  React.useEffect(() => {\n    async function validateToken() {\n      if (!token) {\n        setStatus(\"invalid\");\n        setError(\"No reset token provided.\");\n        return;\n      }\n\n      try {\n        const data = await authApi.validateResetToken(token);\n        if (data.valid) {\n          setStatus(\"valid\");\n        } else {\n          setStatus(\"invalid\");\n          setError(\"This password reset link is invalid or has expired.\");\n        }\n      } catch {\n        setStatus(\"invalid\");\n        setError(\"This password reset link is invalid or has expired.\");\n      }\n    }\n\n    validateToken();\n  }, [token]);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (password.length < 6) {\n      setError(\"Password must be at least 6 characters.\");\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      setError(\"Passwords do not match.\");\n      return;\n    }\n\n    setStatus(\"submitting\");\n    setError(\"\");\n\n    try {\n      await authApi.resetPassword(token, password);\n      setStatus(\"success\");\n    } catch (err) {\n      setError(err.message || \"Failed to reset password. Please try again.\");\n      setStatus(\"valid\");\n    }\n  }\n\n  if (status === \"checking\") {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\" style={{ maxWidth: 480, textAlign: \"center\" }}>\n          <h1 className=\"nd-title\">Validating...</h1>\n          <p style={{ color: \"rgba(0,0,0,0.65)\" }}>Please wait while we validate your reset link.</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (status === \"invalid\") {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\" style={{ maxWidth: 480, textAlign: \"center\" }}>\n          <h1 className=\"nd-title\">Invalid Link</h1>\n          <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>{error}</p>\n          <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n            Please request a new password reset link.\n          </p>\n          <Link\n            to=\"/forgot-password\"\n            className=\"nd-ornateBtn nd-ornateBtn--primary\"\n            style={{ display: \"inline-block\", textDecoration: \"none\" }}\n          >\n            Request New Link\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  if (status === \"success\") {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\" style={{ maxWidth: 480, textAlign: \"center\" }}>\n          <h1 className=\"nd-title\">Password Reset!</h1>\n          <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n            Your password has been successfully reset. You can now log in with your new password.\n          </p>\n          <button\n            className=\"nd-ornateBtn nd-ornateBtn--primary\"\n            onClick={() => {\n              navigate(\"/\");\n              window.dispatchEvent(new CustomEvent(\"sable:open-auth\"));\n            }}\n            style={{ width: \"100%\" }}\n          >\n            Log In\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"nd-page\">\n      <div className=\"nd-shell\" style={{ maxWidth: 480 }}>\n        <h1 className=\"nd-title\">Set New Password</h1>\n        <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n          Enter your new password below.\n        </p>\n\n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: 16 }}>\n            <label style={{ display: \"block\", marginBottom: 8, fontWeight: 500 }}>New Password</label>\n            <div style={{ position: \"relative\", display: \"flex\", alignItems: \"center\" }}>\n              <input\n                className=\"nd-textarea\"\n                style={{ minHeight: 44, flex: 1, paddingRight: 44 }}\n                type={showPassword ? \"text\" : \"password\"}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"\"\n                autoFocus\n                minLength={6}\n              />\n              <button\n                type=\"button\"\n                onClick={() => setShowPassword((v) => !v)}\n                style={{\n                  position: \"absolute\",\n                  right: 8,\n                  width: 32,\n                  height: 32,\n                  border: \"none\",\n                  background: \"transparent\",\n                  cursor: \"pointer\",\n                  fontSize: 16,\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  borderRadius: 6,\n                  opacity: 0.7,\n                }}\n                aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                title={showPassword ? \"Hide password\" : \"Show password\"}\n              >\n                {showPassword ? \"\" : \"\"}\n              </button>\n            </div>\n          </div>\n\n          <div style={{ marginBottom: 16 }}>\n            <label style={{ display: \"block\", marginBottom: 8, fontWeight: 500 }}>Confirm Password</label>\n            <div style={{ position: \"relative\", display: \"flex\", alignItems: \"center\" }}>\n              <input\n                className=\"nd-textarea\"\n                style={{ minHeight: 44, flex: 1, paddingRight: 44 }}\n                type={showConfirmPassword ? \"text\" : \"password\"}\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                placeholder=\"\"\n                minLength={6}\n              />\n              <button\n                type=\"button\"\n                onClick={() => setShowConfirmPassword((v) => !v)}\n                style={{\n                  position: \"absolute\",\n                  right: 8,\n                  width: 32,\n                  height: 32,\n                  border: \"none\",\n                  background: \"transparent\",\n                  cursor: \"pointer\",\n                  fontSize: 16,\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  borderRadius: 6,\n                  opacity: 0.7,\n                }}\n                aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\n                title={showConfirmPassword ? \"Hide password\" : \"Show password\"}\n              >\n                {showConfirmPassword ? \"\" : \"\"}\n              </button>\n            </div>\n          </div>\n\n          {error && <div style={{ color: \"red\", marginBottom: 16 }}>{error}</div>}\n\n          <button\n            type=\"submit\"\n            className=\"nd-ornateBtn nd-ornateBtn--primary\"\n            disabled={status === \"submitting\"}\n            style={{ width: \"100%\" }}\n          >\n            {status === \"submitting\" ? \"Resetting...\" : \"Reset Password\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { authApi } from \"../api\";\nimport \"./NewDraft.css\";\n\nexport default function TwoFactorSetup() {\n  const navigate = useNavigate();\n\n  const [step, setStep] = React.useState(\"loading\"); // \"loading\" | \"setup\" | \"verify\" | \"backup\" | \"done\"\n  const [qrCode, setQrCode] = React.useState(\"\");\n  const [secret, setSecret] = React.useState(\"\");\n  const [token, setToken] = React.useState(\"\");\n  const [backupCodes, setBackupCodes] = React.useState([]);\n  const [error, setError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n  const [showSecret, setShowSecret] = React.useState(false);\n\n  // Check current 2FA status\n  React.useEffect(() => {\n    async function checkStatus() {\n      try {\n        const data = await authApi.get2FAStatus();\n        if (data.enabled) {\n          setStep(\"done\");\n        } else {\n          setStep(\"setup\");\n        }\n      } catch {\n        setStep(\"setup\");\n      }\n    }\n    checkStatus();\n  }, []);\n\n  async function handleStartSetup() {\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const data = await authApi.setup2FA();\n      setQrCode(data.qrCode);\n      setSecret(data.secret);\n      setStep(\"verify\");\n    } catch (err) {\n      setError(err.message || \"Failed to start 2FA setup\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleVerify(e) {\n    e.preventDefault();\n\n    if (!token || token.length !== 6) {\n      setError(\"Please enter a 6-digit code\");\n      return;\n    }\n\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const data = await authApi.verify2FA(token);\n      setBackupCodes(data.backupCodes);\n      setStep(\"backup\");\n    } catch (err) {\n      setError(err.message || \"Invalid code. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function handleCopyBackupCodes() {\n    const codesText = backupCodes.join(\"\\n\");\n    navigator.clipboard.writeText(codesText);\n    alert(\"Backup codes copied to clipboard!\");\n  }\n\n  function handleDownloadBackupCodes() {\n    const codesText = `Sable 2FA Backup Codes\\n${\"=\".repeat(30)}\\n\\n${backupCodes.join(\"\\n\")}\\n\\nKeep these codes safe. Each code can only be used once.`;\n    const blob = new Blob([codesText], { type: \"text/plain\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"sable-backup-codes.txt\";\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  if (step === \"loading\") {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\" style={{ maxWidth: 480, textAlign: \"center\" }}>\n          <p>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (step === \"done\") {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\" style={{ maxWidth: 480, textAlign: \"center\" }}>\n          <h1 className=\"nd-title\">2FA is Enabled</h1>\n          <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n            Two-factor authentication is already enabled on your account.\n          </p>\n          <button\n            className=\"nd-ornateBtn nd-ornateBtn--primary\"\n            onClick={() => navigate(\"/settings\")}\n            style={{ width: \"100%\" }}\n          >\n            Back to Settings\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (step === \"setup\") {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\" style={{ maxWidth: 480 }}>\n          <h1 className=\"nd-title\">Set Up Two-Factor Authentication</h1>\n          <p style={{ marginBottom: 24, color: \"rgba(0,0,0,0.65)\" }}>\n            Add an extra layer of security to your account by requiring a code from your authenticator app when you log in.\n          </p>\n\n          <div style={{ marginBottom: 24, padding: 16, background: \"rgba(0,0,0,0.05)\", borderRadius: 8 }}>\n            <h3 style={{ margin: \"0 0 8px\", fontSize: 16 }}>You'll need:</h3>\n            <ul style={{ margin: 0, paddingLeft: 20, color: \"rgba(0,0,0,0.65)\" }}>\n              <li>An authenticator app (Google Authenticator, Authy, 1Password, etc.)</li>\n              <li>Your phone or device with the app installed</li>\n            </ul>\n          </div>\n\n          {error && <div style={{ color: \"red\", marginBottom: 16 }}>{error}</div>}\n\n          <button\n            className=\"nd-ornateBtn nd-ornateBtn--primary\"\n            onClick={handleStartSetup}\n            disabled={loading}\n            style={{ width: \"100%\", marginBottom: 12 }}\n          >\n            {loading ? \"Setting up...\" : \"Start Setup\"}\n          </button>\n\n          <button\n            className=\"nd-ornateBtn\"\n            onClick={() => navigate(\"/settings\")}\n            style={{ width: \"100%\" }}\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (step === \"verify\") {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\" style={{ maxWidth: 480 }}>\n          <h1 className=\"nd-title\">Scan QR Code</h1>\n          <p style={{ marginBottom: 16, color: \"rgba(0,0,0,0.65)\" }}>\n            Scan this QR code with your authenticator app, then enter the 6-digit code below.\n          </p>\n\n          {qrCode && (\n            <div style={{ textAlign: \"center\", marginBottom: 16 }}>\n              <img src={qrCode} alt=\"2FA QR Code\" style={{ maxWidth: 200 }} />\n            </div>\n          )}\n\n          <div style={{ marginBottom: 16, textAlign: \"center\" }}>\n            <button\n              type=\"button\"\n              onClick={() => setShowSecret(!showSecret)}\n              style={{ background: \"none\", border: \"none\", color: \"#0b3f87\", cursor: \"pointer\", textDecoration: \"underline\" }}\n            >\n              {showSecret ? \"Hide manual entry key\" : \"Can't scan? Enter key manually\"}\n            </button>\n            {showSecret && (\n              <div style={{ marginTop: 8, padding: 12, background: \"rgba(0,0,0,0.05)\", borderRadius: 8, fontFamily: \"monospace\", wordBreak: \"break-all\" }}>\n                {secret}\n              </div>\n            )}\n          </div>\n\n          <form onSubmit={handleVerify}>\n            <div style={{ marginBottom: 16 }}>\n              <label style={{ display: \"block\", marginBottom: 8, fontWeight: 500 }}>\n                Enter 6-digit code\n              </label>\n              <input\n                className=\"nd-textarea\"\n                style={{ minHeight: 44, textAlign: \"center\", fontSize: 24, letterSpacing: 8 }}\n                value={token}\n                onChange={(e) => setToken(e.target.value.replace(/\\D/g, \"\").slice(0, 6))}\n                placeholder=\"000000\"\n                autoFocus\n                maxLength={6}\n              />\n            </div>\n\n            {error && <div style={{ color: \"red\", marginBottom: 16 }}>{error}</div>}\n\n            <button\n              type=\"submit\"\n              className=\"nd-ornateBtn nd-ornateBtn--primary\"\n              disabled={loading || token.length !== 6}\n              style={{ width: \"100%\", marginBottom: 12 }}\n            >\n              {loading ? \"Verifying...\" : \"Verify & Enable 2FA\"}\n            </button>\n\n            <button\n              type=\"button\"\n              className=\"nd-ornateBtn\"\n              onClick={() => navigate(\"/settings\")}\n              style={{ width: \"100%\" }}\n            >\n              Cancel\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  if (step === \"backup\") {\n    return (\n      <div className=\"nd-page\">\n        <div className=\"nd-shell\" style={{ maxWidth: 480 }}>\n          <h1 className=\"nd-title\">Save Your Backup Codes</h1>\n          <p style={{ marginBottom: 16, color: \"rgba(0,0,0,0.65)\" }}>\n            Save these backup codes in a safe place. You can use them to access your account if you lose your authenticator device. Each code can only be used once.\n          </p>\n\n          <div style={{ marginBottom: 16, padding: 16, background: \"rgba(0,0,0,0.05)\", borderRadius: 8 }}>\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 8, fontFamily: \"monospace\", fontSize: 14 }}>\n              {backupCodes.map((code, i) => (\n                <div key={i} style={{ padding: 8, background: \"white\", borderRadius: 4, textAlign: \"center\" }}>\n                  {code}\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div style={{ display: \"flex\", gap: 8, marginBottom: 16 }}>\n            <button\n              className=\"nd-ornateBtn\"\n              onClick={handleCopyBackupCodes}\n              style={{ flex: 1 }}\n            >\n              Copy Codes\n            </button>\n            <button\n              className=\"nd-ornateBtn\"\n              onClick={handleDownloadBackupCodes}\n              style={{ flex: 1 }}\n            >\n              Download\n            </button>\n          </div>\n\n          <button\n            className=\"nd-ornateBtn nd-ornateBtn--primary\"\n            onClick={() => navigate(\"/settings\")}\n            style={{ width: \"100%\" }}\n          >\n            I've Saved My Codes\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n}\n","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { contactApi } from \"../api\";\nimport \"./FAQ.css\";\n\nconst FAQ_SECTIONS = [\n  {\n    id: \"general\",\n    title: \"General\",\n    questions: [\n      {\n        q: \"What is Sable?\",\n        a: \"Sable is a creative writing platform where you can share and discover original stories, fanfiction, and creative works. Think of it as a community-driven library where writers share their passion.\"\n      },\n      {\n        q: \"Is Sable free to use?\",\n        a: \"Yes! Sable is completely free to read and publish works. We believe creative writing should be accessible to everyone.\"\n      },\n      {\n        q: \"How do I create an account?\",\n        a: \"Click the 'Log In' button in the navigation bar, then select 'Sign Up'. You can register with your email or continue with Google.\"\n      },\n    ]\n  },\n  {\n    id: \"writing\",\n    title: \"Writing & Publishing\",\n    questions: [\n      {\n        q: \"How do I publish a work?\",\n        a: \"Go to New Draft from the navigation, write your content, fill in the required fields (genre is required), and click 'Post' to publish. You can save drafts and come back to them later.\"\n      },\n      {\n        q: \"Can I edit my published works?\",\n        a: \"Yes! Go to Your Works in your profile and click 'Edit' on any work to make changes.\"\n      },\n      {\n        q: \"What's the difference between Genre and Fandom?\",\n        a: \"Genre describes the type of story (Romance, Fantasy, Mystery, etc.). Fandom is optional and used when your work is based on an existing property like a book, movie, or TV show. Original works can leave fandom blank or set it to 'Original Work'.\"\n      },\n    ]\n  },\n  {\n    id: \"skins\",\n    title: \"Skins & Customization\",\n    questions: [\n      {\n        q: \"What are skins?\",\n        a: \"Skins are visual themes that change how your work appears to readers. When you select a skin in the editor, readers will see that theme when viewing your work.\"\n      },\n      {\n        q: \"What skins are available?\",\n        a: \"Sable includes two built-in skins: 'Default' (the classic warm Sable look) and 'Parchment' (a warmer cream theme with sepia accents). You can select these when creating or editing a work.\"\n      },\n      {\n        q: \"How do I create a custom skin?\",\n        a: \"Go to Settings > Skins and click 'New Skin'. You can write custom CSS to style various elements of the work view page. See the tutorial below for more details.\"\n      },\n    ]\n  },\n  {\n    id: \"privacy\",\n    title: \"Privacy & Safety\",\n    questions: [\n      {\n        q: \"Can I make my works private?\",\n        a: \"Yes! When creating or editing a work, use the Privacy option to choose: Public (everyone), Following (only your followers), or Private (only you).\"\n      },\n      {\n        q: \"How do I block someone?\",\n        a: \"Go to Settings > Privacy > Blocked Users. You can also block users directly from their profile page.\"\n      },\n      {\n        q: \"How do I report inappropriate content?\",\n        a: \"Click the report button (flag icon) on any work or comment. Our moderation team reviews all reports within 24-48 hours.\"\n      },\n    ]\n  },\n];\n\nexport default function FAQ() {\n  const location = useLocation();\n  const [openItems, setOpenItems] = React.useState({});\n\n  // Contact form state\n  const [contactName, setContactName] = React.useState(\"\");\n  const [contactEmail, setContactEmail] = React.useState(\"\");\n  const [contactSubject, setContactSubject] = React.useState(\"\");\n  const [contactMessage, setContactMessage] = React.useState(\"\");\n  const [contactLoading, setContactLoading] = React.useState(false);\n  const [contactSuccess, setContactSuccess] = React.useState(false);\n  const [contactError, setContactError] = React.useState(\"\");\n\n  // Scroll to section if hash is present\n  React.useEffect(() => {\n    if (location.hash) {\n      const id = location.hash.slice(1);\n      const el = document.getElementById(id);\n      if (el) {\n        setTimeout(() => {\n          el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n        }, 100);\n      }\n    }\n  }, [location.hash]);\n\n  function toggleItem(sectionId, idx) {\n    const key = `${sectionId}-${idx}`;\n    setOpenItems((prev) => ({\n      ...prev,\n      [key]: !prev[key],\n    }));\n  }\n\n  async function handleContactSubmit(e) {\n    e.preventDefault();\n    setContactError(\"\");\n    setContactSuccess(false);\n    setContactLoading(true);\n\n    try {\n      await contactApi.send(contactName, contactEmail, contactSubject, contactMessage);\n      setContactSuccess(true);\n      setContactName(\"\");\n      setContactEmail(\"\");\n      setContactSubject(\"\");\n      setContactMessage(\"\");\n    } catch (err) {\n      setContactError(err.message || \"Failed to send message. Please try again.\");\n    } finally {\n      setContactLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"faq-page\">\n      <div className=\"faq-shell\">\n        <header className=\"faq-header\">\n          <h1 className=\"faq-title\">Frequently Asked Questions</h1>\n          <p className=\"faq-subtitle\">\n            Find answers to common questions about Sable. Can't find what you're looking for?{\" \"}\n            <a href=\"#contact\" className=\"faq-contactLink\">Contact us</a>.\n          </p>\n        </header>\n\n        <nav className=\"faq-toc\" aria-label=\"FAQ sections\">\n          {FAQ_SECTIONS.map((section) => (\n            <a key={section.id} href={`#${section.id}`} className=\"faq-tocLink\">\n              {section.title}\n            </a>\n          ))}\n          <a href=\"#contact\" className=\"faq-tocLink\">Contact Us</a>\n        </nav>\n\n        <div className=\"faq-content\">\n          {FAQ_SECTIONS.map((section) => (\n            <section key={section.id} id={section.id} className=\"faq-section\" aria-labelledby={`${section.id}-title`}>\n              <h2 id={`${section.id}-title`} className=\"faq-sectionTitle\">{section.title}</h2>\n\n              <div className=\"faq-questions\">\n                {section.questions.map((item, idx) => {\n                  const key = `${section.id}-${idx}`;\n                  const isOpen = openItems[key];\n\n                  return (\n                    <div key={idx} className={`faq-item ${isOpen ? \"faq-item--open\" : \"\"}`}>\n                      <button\n                        type=\"button\"\n                        className=\"faq-question\"\n                        onClick={() => toggleItem(section.id, idx)}\n                        aria-expanded={isOpen}\n                      >\n                        <span className=\"faq-questionText\">{item.q}</span>\n                        <span className=\"faq-questionIcon\" aria-hidden=\"true\">\n                          {isOpen ? \"\" : \"+\"}\n                        </span>\n                      </button>\n                      {isOpen && (\n                        <div className=\"faq-answer\">\n                          <p>{item.a}</p>\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            </section>\n          ))}\n\n          {/* Custom Skin Tutorial */}\n          <section id=\"skin-tutorial\" className=\"faq-section faq-section--tutorial\">\n            <h2 className=\"faq-sectionTitle\">Creating Custom Skins: A Tutorial</h2>\n\n            <div className=\"faq-tutorial\">\n              <p>\n                Custom skins let you style how readers see your work. Here's how to create one:\n              </p>\n\n              <h3>Step 1: Open the Skin Editor</h3>\n              <p>Go to <strong>Settings &gt; Skins</strong> and click the <strong>+ New Skin</strong> button.</p>\n\n              <h3>Step 2: Name Your Skin</h3>\n              <p>Give your skin a memorable name (e.g., \"Midnight Dark\" or \"Forest Theme\").</p>\n\n              <h3>Step 3: Choose Where It Applies</h3>\n              <p>Select whether your skin applies to <strong>Works</strong> (the reading view) or <strong>Community Page</strong>.</p>\n\n              <h3>Step 4: Write Your CSS</h3>\n              <p>\n                Use CSS to customize colors, fonts, and layouts. Here are some common selectors for work skins:\n              </p>\n\n              <div className=\"faq-codeBlock\">\n                <pre>{`/* Change the background color */\n.wv-shell {\n  background: #1a1a2e;\n}\n\n/* Style the main content card */\n.wv-card {\n  background: #16213e;\n  color: #e8e8e8;\n}\n\n/* Customize the title */\n.wv-title {\n  color: #0f3460;\n  font-family: Georgia, serif;\n}\n\n/* Style the chapter body text */\n.wv-chBody {\n  color: #d4d4d4;\n  line-height: 1.9;\n  font-size: 17px;\n}`}</pre>\n              </div>\n\n              <h3>Step 5: Save and Use</h3>\n              <p>\n                Click <strong>Save Skin</strong>. Your custom skin will now appear in the Skin dropdown when editing works.\n              </p>\n\n              <h3>Tips</h3>\n              <ul>\n                <li>Test your skin on different screen sizes</li>\n                <li>Ensure text is readable against your background colors</li>\n                <li>Use CSS variables from built-in skins as a starting point</li>\n                <li>Keep accessibility in mind - maintain good color contrast</li>\n              </ul>\n            </div>\n          </section>\n\n          {/* Contact Form */}\n          <section id=\"contact\" className=\"faq-section faq-section--contact\">\n            <h2 className=\"faq-sectionTitle\">Contact Us</h2>\n\n            <div className=\"faq-contactForm\">\n              <p className=\"faq-contactIntro\">\n                Have a question, suggestion, or need help? Send us a message and we'll get back to you as soon as possible.\n              </p>\n\n              {contactSuccess ? (\n                <div className=\"faq-contactSuccess\">\n                  <div className=\"faq-contactSuccessIcon\"></div>\n                  <div className=\"faq-contactSuccessText\">\n                    Your message has been sent! We'll get back to you soon.\n                  </div>\n                  <button\n                    type=\"button\"\n                    className=\"faq-contactNewBtn\"\n                    onClick={() => setContactSuccess(false)}\n                  >\n                    Send Another Message\n                  </button>\n                </div>\n              ) : (\n                <form onSubmit={handleContactSubmit} className=\"faq-form\">\n                  {contactError && (\n                    <div className=\"faq-contactError\">{contactError}</div>\n                  )}\n\n                  <div className=\"faq-formRow\">\n                    <label className=\"faq-formLabel\" htmlFor=\"contact-name\">\n                      Name\n                    </label>\n                    <input\n                      id=\"contact-name\"\n                      type=\"text\"\n                      className=\"faq-formInput\"\n                      value={contactName}\n                      onChange={(e) => setContactName(e.target.value)}\n                      placeholder=\"Your name\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"faq-formRow\">\n                    <label className=\"faq-formLabel\" htmlFor=\"contact-email\">\n                      Email\n                    </label>\n                    <input\n                      id=\"contact-email\"\n                      type=\"email\"\n                      className=\"faq-formInput\"\n                      value={contactEmail}\n                      onChange={(e) => setContactEmail(e.target.value)}\n                      placeholder=\"your@email.com\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"faq-formRow\">\n                    <label className=\"faq-formLabel\" htmlFor=\"contact-subject\">\n                      Subject\n                    </label>\n                    <input\n                      id=\"contact-subject\"\n                      type=\"text\"\n                      className=\"faq-formInput\"\n                      value={contactSubject}\n                      onChange={(e) => setContactSubject(e.target.value)}\n                      placeholder=\"What is this about?\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"faq-formRow\">\n                    <label className=\"faq-formLabel\" htmlFor=\"contact-message\">\n                      Message\n                    </label>\n                    <textarea\n                      id=\"contact-message\"\n                      className=\"faq-formTextarea\"\n                      value={contactMessage}\n                      onChange={(e) => setContactMessage(e.target.value)}\n                      placeholder=\"Tell us more...\"\n                      rows={5}\n                      required\n                      minLength={10}\n                    />\n                  </div>\n\n                  <button\n                    type=\"submit\"\n                    className=\"faq-formSubmit\"\n                    disabled={contactLoading}\n                  >\n                    {contactLoading ? \"Sending...\" : \"Send Message\"}\n                  </button>\n                </form>\n              )}\n            </div>\n          </section>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport \"./ErrorPage.css\";\n\nimport errorImg from \"../assets/images/error.png\";\n\nexport default function ErrorPage({ code = \"404\", title, message }) {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Determine error details based on code\n  const errorDetails = React.useMemo(() => {\n    switch (code) {\n      case \"404\":\n        return {\n          title: title || \"Page Not Found\",\n          message: message || \"The page you're looking for doesn't exist or has been moved.\",\n        };\n      case \"403\":\n        return {\n          title: title || \"Access Denied\",\n          message: message || \"You don't have permission to view this page.\",\n        };\n      case \"500\":\n        return {\n          title: title || \"Server Error\",\n          message: message || \"Something went wrong on our end. Please try again later.\",\n        };\n      default:\n        return {\n          title: title || \"Oops!\",\n          message: message || \"Something unexpected happened.\",\n        };\n    }\n  }, [code, title, message]);\n\n  function goHome() {\n    navigate(\"/\");\n  }\n\n  function goBack() {\n    if (window.history.length > 1) {\n      navigate(-1);\n    } else {\n      navigate(\"/\");\n    }\n  }\n\n  return (\n    <div className=\"error-page\">\n      <div className=\"error-container\">\n        <img className=\"error-image\" src={errorImg} alt=\"Error\" />\n\n        <div className=\"error-code\">{code}</div>\n\n        <h1 className=\"error-title\">{errorDetails.title}</h1>\n\n        <p className=\"error-message\">{errorDetails.message}</p>\n\n        <p className=\"error-path\">\n          Requested: <code>{location.pathname}</code>\n        </p>\n\n        <div className=\"error-actions\">\n          <button type=\"button\" className=\"error-btn error-btn--primary\" onClick={goHome}>\n            Go Home\n          </button>\n          <button type=\"button\" className=\"error-btn error-btn--secondary\" onClick={goBack}>\n            Go Back\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Footer from \"./components/Footer\";\nimport { authApi } from \"./api\";\n\nimport HomeLoggedIn from \"./pages/HomeLoggedIn\";\nimport HomeLoggedOut from \"./pages/HomeLoggedOut\";\n\nimport Browse from \"./pages/Browse\";\nimport Communities from \"./pages/Communities\";\nimport About from \"./pages/About\";\nimport Search from \"./pages/Search\";\n\nimport Inbox from \"./pages/Inbox\";\nimport Notifications from \"./pages/Notifications\";\nimport Profile from \"./pages/Profile\";\nimport Settings from \"./pages/Settings\";\nimport Bookmarks from \"./pages/Bookmarks\";\nimport NewDraft from \"./pages/NewDraft\";\n\nimport YourCommunityPage from \"./pages/YourCommunityPage\";\nimport PublicCommunityPage from \"./pages/PublicCommunityPage\";\n\nimport GenreIndex from \"./pages/GenreIndex\";\nimport GenreDetail from \"./pages/GenreDetail\";\nimport FandomIndex from \"./pages/FandomIndex\";\nimport FandomDetail from \"./pages/FandomDetail\";\n\nimport TagsIndex from \"./pages/TagsIndex\";\nimport TagDetail from \"./pages/TagDetail\";\n\nimport YourWorks from \"./pages/YourWorks\";\nimport WorkEditor from \"./pages/WorkEditor\";\nimport WorkView from \"./pages/WorkView\";\n\nimport Drafts from \"./pages/Drafts\";\nimport DraftEditor from \"./pages/DraftEditor\";\n\nimport SupportSable from \"./pages/SupportSable\";\nimport OnboardingUsername from \"./pages/OnboardingUsername\";\nimport VerifyEmail from \"./pages/VerifyEmail\";\nimport ForgotPassword from \"./pages/ForgotPassword\";\nimport ResetPassword from \"./pages/ResetPassword\";\nimport TwoFactorSetup from \"./pages/TwoFactorSetup\";\nimport FAQ from \"./pages/FAQ\";\nimport ErrorPage from \"./pages/ErrorPage\";\n\nexport default function App() {\n  const [isAuthed, setIsAuthed] = React.useState(false);\n  const [user, setUser] = React.useState(null);\n  const [authLoading, setAuthLoading] = React.useState(true);\n\n  // Check if user is already logged in on mount\n  React.useEffect(() => {\n    async function checkAuth() {\n      try {\n        const data = await authApi.me();\n        if (data.user) {\n          setUser(data.user);\n          setIsAuthed(true);\n        }\n      } catch {\n        // Not logged in - that's fine\n        setUser(null);\n        setIsAuthed(false);\n      } finally {\n        setAuthLoading(false);\n      }\n    }\n\n    checkAuth();\n  }, []);\n\n  function handleLogin(userData) {\n    setUser(userData);\n    setIsAuthed(true);\n  }\n\n  async function handleLogout() {\n    try {\n      await authApi.logout();\n    } catch {\n      // Ignore logout errors\n    }\n    setUser(null);\n    setIsAuthed(false);\n  }\n\n  const username = user?.username || \"\";\n  const effectiveUsername = username || \"guest\";\n\n  // Show loading state while checking auth\n  if (authLoading) {\n    return (\n      <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", height: \"100vh\" }}>\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <Navbar isAuthed={isAuthed} user={user} username={effectiveUsername} onLogin={handleLogin} onLogout={handleLogout} />\n\n      <main>\n        <Routes>\n          {/* Home */}\n          <Route path=\"/\" element={isAuthed ? <HomeLoggedIn /> : <HomeLoggedOut />} />\n\n          {/* Main nav */}\n          <Route path=\"/browse\" element={<Browse />} />\n          <Route path=\"/communities\" element={<Communities isAuthed={isAuthed} username={effectiveUsername} />} />\n          <Route path=\"/about\" element={<About />} />\n          <Route path=\"/faq\" element={<FAQ />} />\n\n          {/* Support / payments */}\n          <Route path=\"/support\" element={<SupportSable />} />\n\n          {/* Username onboarding for Google OAuth users */}\n          <Route path=\"/onboarding/username\" element={<OnboardingUsername onLogin={handleLogin} />} />\n\n          {/* Email verification and password reset */}\n          <Route path=\"/verify-email/:token\" element={<VerifyEmail />} />\n          <Route path=\"/forgot-password\" element={<ForgotPassword />} />\n          <Route path=\"/reset-password/:token\" element={<ResetPassword />} />\n\n          {/* Two-Factor Authentication */}\n          <Route path=\"/settings/2fa\" element={isAuthed ? <TwoFactorSetup /> : <Navigate to=\"/\" replace />} />\n\n          {/* Search */}\n          <Route path=\"/search\" element={<Search />} />\n\n          {/* Browse Library routes */}\n          <Route path=\"/genres\" element={<GenreIndex />} />\n          <Route path=\"/genres/:genreSlug\" element={<GenreDetail />} />\n          <Route path=\"/fandoms\" element={<FandomIndex />} />\n          <Route path=\"/fandoms/:fandomSlug\" element={<FandomDetail />} />\n          <Route path=\"/tags\" element={<TagsIndex />} />\n          <Route path=\"/tags/:tagSlug\" element={<TagDetail />} />\n\n          {/* Communities profiles */}\n          <Route\n            path=\"/communities/me\"\n            element={isAuthed ? <YourCommunityPage username={effectiveUsername} /> : <Navigate to=\"/\" replace />}\n          />\n          <Route path=\"/communities/:handle\" element={<PublicCommunityPage isAuthed={isAuthed} username={effectiveUsername} />} />\n\n          {/* Published works */}\n          <Route path=\"/works\" element={isAuthed ? <YourWorks /> : <Navigate to=\"/\" replace />} />\n          <Route path=\"/works/:workId\" element={<WorkView isAuthed={isAuthed} username={effectiveUsername} />} />\n          <Route path=\"/works/edit/:workId\" element={isAuthed ? <WorkEditor /> : <Navigate to=\"/\" replace />} />\n\n          {/* Drafts */}\n          <Route path=\"/drafts\" element={isAuthed ? <Drafts /> : <Navigate to=\"/\" replace />} />\n          <Route path=\"/drafts/edit/:draftId\" element={isAuthed ? <DraftEditor /> : <Navigate to=\"/\" replace />} />\n\n          {/* Create draft */}\n          <Route path=\"/new-draft\" element={isAuthed ? <NewDraft /> : <Navigate to=\"/\" replace />} />\n\n          {/* Auth only pages */}\n          <Route path=\"/inbox\" element={isAuthed ? <Inbox /> : <Navigate to=\"/\" replace />} />\n          <Route path=\"/notifications\" element={isAuthed ? <Notifications /> : <Navigate to=\"/\" replace />} />\n          <Route path=\"/profile\" element={isAuthed ? <Profile username={effectiveUsername} /> : <Navigate to=\"/\" replace />} />\n          <Route\n            path=\"/settings\"\n            element={isAuthed ? <Settings username={effectiveUsername} onLogout={handleLogout} /> : <Navigate to=\"/\" replace />}\n          />\n          <Route path=\"/bookmarks\" element={isAuthed ? <Bookmarks /> : <Navigate to=\"/\" replace />} />\n\n          {/* Fallback / 404 */}\n          <Route path=\"*\" element={<ErrorPage code=\"404\" />} />\n        </Routes>\n      </main>\n\n      <Footer />\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\n\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\n\n"],"names":["module","exports","factory","document","navigator","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","value","getLocationHref","createTag","type","createElement","extendPrototype","sources","destination","i","sourcePrototype","len","length","attr","prototype","Object","hasOwnProperty","call","getDescriptor","object","prop","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","this","audios","_volume","_isMuted","addAudio","audio","push","pause","resume","setRate","rateValue","createAudio","assetPath","window","Howl","src","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createSizedArray","Array","apply","_typeof$6","o","Symbol","iterator","constructor","subframeEnabled","expressionsPlugin","expressionsInterfaces","idPrefix$1","isSafari","test","userAgent","_shouldRoundValues","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","ProjectInterface$1","propertyNames","random","abs","val","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","round","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","target","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","v","r","g","b","f","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","toString","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setExpressionInterfaces","getExpressionInterfaces","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","_typeof$5","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","path","data","_workerSelf","setupWorker","fn","Worker","Blob","blob","url","URL","createObjectURL","createWorker","e","completeLayers","layers","comps","layerData","j","jLen","k","kLen","completed","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","completeText","id","comp","findComp","__used","JSON","parse","stringify","ks","it","checkVersion","minimum","animVersionString","animVersion","split","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","animationData","assets","checkChars","chars","charData","ip","op","st","sr","a","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","c","checkShapes","completeClosingShapes","closed","cl","moduleOb","__complete","completeChars","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","indexOf","response","responseText","load","fullPath","callback","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","open","join","error","send","completeData","payload","animation","event","process","onComplete","onError","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","width","height","ctx","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","bind","createFootageData","ob","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","destroy","getAsset","createImgData","crossOrigin","addEventListener","createImageData","setAttributeNS","_elementHelper","append","appendChild","setCacheType","elementHelper","BaseEvent","triggerEvent","eventName","args","_cbs","callbacks","removeEventListener","splice","markerParser","parsePayloadLines","line","lines","keys","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","__","name","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","key","getRenderer","getRegisteredRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","autoplay","loop","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","segments","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","drawnFrameEvent","setParams","params","wrapper","container","animType","RendererClass","rendererSettings","globalData","defs","setProjectInterface","undefined","parseInt","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","substr","fileName","trigger","setData","wrapperAttributes","attributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","setTimeout","rendererType","initItems","gotoFrame","resize","_width","_height","updateContainerSize","setSubframe","renderFrame","resetFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","init","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","setLoop","isLooping","getPath","getAssetData","hide","show","getDuration","updateDocumentData","index","getElementByPath","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","first","searchAnimations","standalone","animElements","concat","slice","getElementsByClassName","lenAnims","setAttribute","body","getElementsByTagName","innerText","div","freeze","unfreeze","getRegisteredAnimations","animations","BezierFactory","str","replace","beziers","bezEasing","BezierEasing","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_p","_mSampleValues","_precomputed","get","x","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","pooling","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","ptCoord","perc","ptDistance","curveSegments","point","lastPoint","lengthData","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","bez","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","lastIndex","keyframes","keyframesMetadata","endValue","nextKeyTime","keyTime","to","ti","ind","__fnct","getBezierEasing","y","n","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quaternionToEuler","slerp","createQuaternion","omega","cosom","sinom","scale0","scale1","out","ax","ay","az","aw","bx","by","bz","bw","acos","sin","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","values","c1","cos","c2","c3","s1","s2","s3","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","PropertyFactory","getProp","sid","slotManager","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","clone","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","paths","localShapeCollection","shape1","shape2","shapesEqual","ShapeProperty","reset","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","Matrix","_cos","_sin","_tan","tan","_rnd","props","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","l","m","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","multiply","matrix","matrixProps","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_typeof$3","lottie","setLocation","href","setSubframeRendering","setPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","setIDPrefix","__getFactory","version","scripts","myScript","define","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","PuckerAndBloatModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","RepeaterModifier","RoundCornersModifier","floatEqual","floatZero","lerp","lerpPoint","quadRoots","singleRoot","delta","polynomialCoefficients","p3","singlePoint","PolynomialBezier","linearize","pointEqual","coeffx","coeffy","extrema","intersectData","t2","box","boundingBox","cx","cy","splitData","boxIntersect","intersectsImpl","depth","tolerance","intersections","maxRecursion","d1s","d2s","crossProduct","lineIntersection","start1","end1","start2","end2","v3","v4","polarOffset","pointDistance","hypot","ZigZagModifier","setPoint","outputBezier","amplitude","outAmplitude","inAmplitude","angO","angI","getPerpendicularVector","vector","rot","getProjectingAngle","cur","prevIndex","nextIndex","pVector","zigZagCorner","frequency","pointType","prevPoint","nextPoint","prevDist","nextDist","zigZagSegment","dist","normalAngle","linearOffset","offsetSegment","p1a","p1b","p2b","p2a","joinLines","seg1","seg2","lineJoin","miterLimit","angleOut","tangentAngle","angleIn","center","radius","intersection","getIntersection","intersect","pruneSegmentIntersection","outa","outb","pruneIntersections","offsetSegmentSplit","right","mid","flex","inflectionPoints","OffsetPathModifier","getFontProperties","fontData","styles","fStyle","fWeight","toLowerCase","weight","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","derivative","denom","tcusp","square","root","filter","p10","p11","p20","p21","bounds","bottom","other","shapeSegmentInverted","pointsType","count","ml","lj","inputBezier","multiSegments","lastSeg","multiSegment","FontManager","emptyChar","w","size","combinedCharacters","BLACK_FLAG_CODE_POINT","surrogateModifiers","setUpNode","font","family","parentNode","fontFamily","node","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","familyArray","enabledFamilies","trimFontOptions","parent","createHelper","def","helper","engine","fontProps","tHelper","fFamily","textContent","fClass","tCanvasHelper","OffscreenCanvas","measureText","text","getComputedTextLength","getCodePoint","string","codePoint","charCodeAt","second","isRegionalCode","Font","typekitLoaded","_warned","Date","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","charCode","isFlagEmoji","isCombinedCharacter","_char3","isRegionalFlag","isVariationSelector","fontPrototype","found","ch","list","forEach","cache","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","querySelectorAll","rel","sc","getCharData","_char","console","warn","getFontByName","fName","_char2","fontName","doubleSize","singleSize","loadedCount","removeChild","SlotManager","slotFactory","RenderableElement","slots","assign","initRenderable","isInRange","hidden","isTransparent","renderableComponents","addRenderableComponent","component","removeRenderableComponent","prepareRenderableFrame","num","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","getBlendMode","blendModeEnums","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effects","ef","effectElements","effectItem","GroupEffect","BaseElement","FrameElement","FootageElement","imageLoader","initBaseData","AudioElement","_isPlaying","_canPlay","_currentTime","_volumeMultiplier","_previousVolume","_placeholder","lv","au","BaseRenderer","eff","checkMasks","LayerExpressionInterface","EffectsExpressionInterface","ShapeExpressionInterface","TextExpressionInterface","CompExpressionInterface","layerInterface","maskManager","registerMaskInterface","effectsInterface","createEffectsInterface","registerEffectsInterface","shapeInterface","shapesData","itemsData","content","textInterface","setBlendMode","blendModeValue","bm","baseElement","layerElement","layerId","effectsManager","getType","prepareProperties","isVisible","_isParent","getBaseElement","FootageInterface","getFootageData","timeRemapped","totalVolume","volumeValue","checkLayers","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","pendingElements","getElementById","pathValue","setupGlobalData","fontsContainer","animationItem","compSize","effectTypes","TRANSFORM_EFFECT","TransformElement","MaskElement","maskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","maskType","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","mask","createLayerSolidPath","invRect","drawPath","maskedElement","initTransform","_matMdf","_localMatMdf","_opMdf","localMat","localOpacity","ao","renderTransform","finalMat","localTransforms","renderLocalTransform","lmat","localOp","opacity","searchEffectTransforms","renderableEffectsManager","transformEffects","getEffects","globalToLocal","transforms","ptNew","mHelper","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","featureSupport","svgLumaHidden","offscreenCanvas","registeredEffects$1","idPrefix","SVGEffects","filterManager","source","createFilter","filters","Effect","effect","countsAsEffect","registerEffect$1","SVGBaseElement","HierarchyElement","RenderableDOMElement","IImageElement","initElement","sourceRect","ProcessedElement","IShapeElement","initRendererElement","createContainerElements","matteElement","transformedElement","_sizeChanged","layerElementParent","td","matteMasks","gg","tt","ln","hd","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","getMatte","matteType","useElement","masker","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","setMatte","initHierarchy","checkParenting","createContent","renderInnerContent","innerElem","pr","imagePreserveAspectRatio","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dataProps","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","comparePoints","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","of","ms","ost","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderNoop","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","createRenderFunction","SVGShapeElement","stylesList","animatedContents","LetterProps","sw","fc","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","update","updated","obj","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charactersArray","shouldCombine","shouldCombineNext","currentChars","charAt","newLineFlag","letters","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","an","add","anIndexes","animatorJustifyOffset","extra","animatorData","letterData","based","animators","indexes","fh","fs","fb","rn","totalChars","newInd","currentInd","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","textProperty","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","ITextElement","searchProperties","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","tanAngle","matrixHelper","renderedLettersCount","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","letterM","letterP","defaultPropsArray","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","atan","textAnimator","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","validateText","buildNewText","emptyShapeData","SVGTextLottieElement","textSpans","ISolidElement","NullElement","SVGRendererBase","ICompElement","SVGCompElement","supports3d","SVGRenderer","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","preserveAspectRatio","contentVisibility","viewBoxOnly","viewBoxSize","className","focusable","filterSize","runExpressions","destroyed","ShapeTransformManager","sequences","sequenceList","transform_key_count","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","String","fromCharCode","buildShapeData","shapeItem","tSpan","usesGlyphs","cachedSpansLength","span","childSpan","glyph","glyphElement","_debug","tElement","justify","textBox","bbox","renderedLetter","textSpan","findIndexByInd","appendElementInPos","elementIndex","tp","matteMask","nextElement","insertBefore","setElements","getElements","destroyElements","addTransformSequence","sequence","processSequence","processSequences","getNewKey","lumaLoader","lumaBuffer","lumaBufferCtx","svg","loadLuma","_svg","createLumaSvgFilter","createCanvas","loadLumaCanvas","getLumaCanvas","registeredEffects","CVEffects","registerEffect","CVMaskElement","hasMasks","CVBaseElement","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","save","clip","operationsMap","CVShapeData","transformsManager","styledShapes","styledShape","trNodes","CVShapeElement","CVTextElement","stroke","fill","currentRender","sWidth","fValue","CVImageElement","CVSolidElement","CanvasRendererBase","CanvasContext","strokeStyle","lineCap","CVContextData","stack","cArrPos","cTr","nativeContext","transformMat","currentOpacity","currentFillStyle","appliedFillStyle","currentStrokeStyle","appliedStrokeStyle","currentLineWidth","appliedLineWidth","currentLineCap","appliedLineCap","currentLineJoin","appliedLineJoin","appliedMiterLimit","currentMiterLimit","CVCompElement","CanvasRenderer","clearCanvas","context","dpr","devicePixelRatio","currentGlobalAlpha","contextData","ctxTransform","ctxOpacity","ctxFillStyle","ctxStrokeStyle","ctxLineWidth","ctxLineCap","ctxLineJoin","ctxMiterLimit","ctxFill","ctxFillRect","ctxStroke","HBaseElement","HSolidElement","HShapeElement","shapesContainer","currentBBox","HTextElement","textPaths","isMasked","HCameraElement","pe","_prevMat","HImageElement","HybridRendererBase","threeDElements","camera","HCompElement","HybridRenderer","createElements","buffers","bufferCanvas","bufferCanvas2","_isProxy","transformCanvas","blendMode","globalCompositeOperation","hideElement","showElement","clearRect","prepareLayer","bufferCtx","drawImage","getTransform","exitLayer","buffer","forceRealStack","restore","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","grd","setLineDash","lineDashOffset","closePath","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","par","globalAlpha","rule","actionFlag","containerStyle","mozTransformOrigin","setContext","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","fillType","duplicate","newLength","forceRestore","currentContext","prevStack","saveOnNativeFlag","currentStack","newStack","setOpacity","trProps","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","backgroundColor","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","shapeBoundingBox","xMax","yMax","tempBoundingBox","b2ac","calculateF","calculateBoundingBox","expandStrokeBoundingBox","widthProperty","kfw","currentBoxContains","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","strokeWidth","lineHeight","tParent","tCont","children","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","setup","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","Image","imageElem","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","overflow","cWidth","cHeight","floatingContainer","_createBaseContainerElements","_thisLayerFunction","defineProperty","pixelAspect","frameDuration","displayStartTime","numLayers","_typeof$2","seedRandom","global","rngname","startdenom","significance","ARC4","keylen","me","S","copy","flatten","result","typ","mixkey","seed","smear","stringseed","tostring","options","shortseed","entropy","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","pass","is_math_call","state","initialize$2","propTypes","SHAPE","_typeof$1","ExpressionManager","fetch","frames","_lottieGlobal","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","property","noOp","_value","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","_name","valueAtTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","frameExpressionId","__preventDeadCodeRemoval","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","MaskManagerInterface","MaskInterface","_mask","_data","_masksInterfaces","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","getSpeedAtTime","propertyGroup","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TransformExpressionInterface","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","getMatrix","toWorldMat","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","transformInterface","anchorPointDescriptor","defineProperties","anchor_point","startTime","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","createGroupInterface","groupInterface","mn","_propertyGroup","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","effectsData","ShapePathInterface","view","propertyIndex","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","defaultInterfaceFactory","interfaces","transformInterfaceFactory","cix","contentsInterfaceFactory","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","start","skewAxis","outerRadius","outerRoundness","innerRoundness","innerRadius","_interfaceFunction","_sourceText","sourceText","stringValue","fillColor","_typeof","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","footage","getInterface","expressionHelpers","searchExpressions","speed","_cachingAtTime","getStaticValueAtTime","addPropertyDecorator","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","lastTime","propertyGetShapeProp","trims","initialize$1","addDecorator","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","initialize","SVGComposableEffect","createMergeNode","resultId","ins","feMergeNode","feMerge","linearFilterValue","SVGTintFilter","linearFilter","matrixFilter","SVGFillFilter","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","globalFilterSize","feGaussianBlur","feOffset","feFlood","feComposite","colorBlack","colorWhite","groupPath","elemChildren","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","SVGGaussianBlurEffect","TransformEffect","SVGTransformEffect","CVTransformEffect","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","sigma","dimensions","sigmaX","sigmaY","edgeMode","forceFrame","isUniformScale","scaleHeight","scaleWidth","REACT_ELEMENT_TYPE","for","REACT_FRAGMENT_TYPE","jsxProd","maybeKey","propName","ref","$$typeof","Fragment","jsx","jsxs","useLottie","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","lottieRef","rest","_objectWithoutProperties","_excluded$1","_useState2","_slicedToArray","React","useState","animationLoaded","setAnimationLoaded","animationInstanceRef","useRef","animationContainer","_a","useSubFrames","inFrames","forcedConfigs","arguments","_objectSpread2","lottie__default","useEffect","onUnmount","isArray","listeners","handler","listener","deregisterList","map","deregister","View","React__default","animationContainerRef","getContainerVisibility","_container$getBoundin","getBoundingClientRect","innerHeight","getContainerCursorPosition","cursorX","cursorY","_container$getBoundin2","useInitInteractivity","_ref","wrapperRef","actions","scrollModeHandler","assignedSegment","scrollHandler","currentPercent","action","find","_ref2","visibility","frameToGo","cursorModeHandler","handleCursor","_x","_y","_ref3","xPercent","yPercent","mouseMoveHandler","clientX","clientY","mouseOutHandler","useLottieInteractivity","_ref4","lottieObj","Lottie","_b","_c","interactivity","lottieProps","_excluded","_useLottie","REACT_PORTAL_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_ACTIVITY_TYPE","MAYBE_ITERATOR_SYMBOL","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","emptyObject","Component","updater","refs","ComponentDummy","PureComponent","isReactComponent","setState","partialState","forceUpdate","pureComponentPrototype","isPureReactComponent","isArrayImpl","noop","ReactSharedInternals","H","T","ReactElement","refProp","isValidElement","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","match","escape","mapIntoArray","array","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","_init","_payload","maybeIterable","nextNamePrefix","next","done","then","thenable","reason","fulfilledValue","resolveThenable","mapChildren","func","child","lazyInitializer","_status","ctor","_result","moduleObject","default","reportGlobalError","reportError","ErrorEvent","bubbles","cancelable","message","dispatchEvent","emit","Children","forEachFunc","forEachContext","toArray","only","Activity","Profiler","StrictMode","Suspense","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","__COMPILER_RUNTIME","__proto__","useMemoCache","cacheSignal","cloneElement","childArray","createContext","defaultValue","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","childrenLength","defaultProps","createRef","forwardRef","lazy","memo","compare","startTransition","scope","prevTransition","currentTransition","returnValue","onStartTransitionFinish","types","unstable_useCacheRefresh","useCacheRefresh","use","usable","useActionState","initialState","permalink","useCallback","deps","useContext","Context","useDebugValue","useDeferredValue","initialValue","create","useEffectEvent","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useOptimistic","passthrough","reducer","useReducer","initialArg","useSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","useTransition","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","heap","parentIndex","peek","last","halfLength","leftIndex","rightIndex","diff","sortIndex","unstable_now","performance","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","needsPaint","localSetTimeout","localClearTimeout","clearTimeout","localSetImmediate","setImmediate","advanceTimers","timer","expirationTime","handleTimeout","isMessageLoopRunning","schedulePerformWorkUntilDeadline","firstTimer","requestHostTimeout","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","priorityLevel","continuationCallback","MessageChannel","channel","port","port2","port1","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","task","unstable_forceFrameRate","unstable_getCurrentPriorityLevel","unstable_next","eventHandler","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","delay","timeout","unstable_shouldYield","unstable_wrapCallback","parentPriorityLevel","require","formatProdErrorMessage","code","encodeURIComponent","Internals","D","L","X","M","findDOMNode","getCrossOriginStringAs","as","input","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","createPortal","nodeType","containerInfo","implementation","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","prefetchDNS","preinit","integrity","fetchPriority","precedence","nonce","preinitModule","preload","referrerPolicy","imageSrcSet","imageSizes","media","preloadModule","requestFormReset","form","unstable_batchedUpdates","useFormState","useFormStatus","useHostTransitionStatus","Scheduler","ReactDOM","isValidContainer","getNearestMountedFiber","fiber","nearestMounted","alternate","return","flags","tag","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","getActivityInstanceFromFiber","activityState","assertIsMounted","findCurrentHostFiberImpl","sibling","REACT_LEGACY_ELEMENT_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_CACHE_SENTINEL","getIteratorFn","REACT_CLIENT_REFERENCE","getComponentNameFromType","displayName","innerType","ReactDOMSharedInternals","sharedNotPendingObject","pending","method","valueStack","createCursor","cursor","suffix","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","tagName","getChildHostContextProd","popHostContainer","pushHostContext","JSCompiler_inline_result","popHostContext","HostTransitionContext","describeBuiltInComponentFrame","reentry","describeNativeComponentFrame","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","set","Reflect","control","x$1","x$2","catch","sample","namePropDescriptor","configurable","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","controlLines","includes","frame","describeFiber","childFiber","getStackByFiberInDevAndProd","workInProgress","info","previous","scheduleCallback$3","cancelCallback$1","shouldYield","requestPaint","getCurrentPriorityLevel","ImmediatePriority","UserBlockingPriority","NormalPriority$1","LowPriority","IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","clz32","LN2","nextTransitionUpdateLane","nextTransitionDeferredLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","wipLanes","rootHasPendingCommit","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$8","getBumpedLaneForHydration","renderLane","getBumpedLaneForHydrationByLane","lanesToEventPriority","resolveUpdatePriority","updatePriority","getEventPriority","runWithPriority","priority","previousPriority","randomKey","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","getParentHydrationBoundary","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","Map","hoistableScripts","markNodeAsHoistable","allNativeEvents","Set","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","VALID_ATTRIBUTE_NAME_REGEX","RegExp","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","prefix$10","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","getToStringValue","isCheckable","nodeName","track","_valueTracker","valueField","descriptor","enumerable","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","checked","getActiveElement","doc","activeElement","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","updateInput","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","selected","defaultSelected","disabled","updateTextarea","initTextarea","setTextContent","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","styleName","isCustomProperty","setProperty","cssFloat","has","setValueForStyles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","noop$1","currentReplayingEvent","getEventTarget","nativeEvent","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","otherNode","otherProps","isInsideEventHandler","batchedUpdates$1","flushSyncWork$1","getListener","canUseDOM","passiveBrowserEventsSupported","startText","fallbackText","getData","startValue","startLength","endLength","minEnd","getEventCharCode","keyCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","timeStamp","isTrusted","SyntheticEvent","UIEventInterface","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","repeat","locale","which","SyntheticPointerEvent","pointerId","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","date","datetime","email","month","number","password","range","search","tel","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$286","isSupported$jscomp$inline_427","element$jscomp$inline_428","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","attachEvent","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","shallowEqual","objA","objB","keysA","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","defaultView","HTMLIFrameElement","contentWindow","hasSelectionCapabilities","contentEditable","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","makePrefixMap","styleProp","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","queue","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","FiberNode","pendingProps","elementType","refCleanup","updateQueue","memoizedProps","subtreeFlags","deletions","createFiberImplClass","shouldConstruct","createWorkInProgress","firstContext","resetWorkInProgress","createFiberFromTypeAndProps","owner","fiberTag","hostContext","itemProp","onLoad","async","isHostHoistableType","createFiberFromFragment","createFiberFromText","createFiberFromDehydratedFragment","dehydratedNode","createFiberFromPortal","portal","pendingChildren","CapturedStacks","WeakMap","createCapturedValueAtFiber","existing","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","restoreSuspendedTreeContext","suspendedContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldSetTextContent","getNextHydratableInstanceAfterHydrationBoundary","isSingletonScope","previousHydratableOnEnteringScopedSingleton","getNextHydratable","resetHydrationState","upgradeHydrationErrorsToRecoverable","queuedErrors","workInProgressRootRecoverableErrors","valueCursor","currentlyRenderingFiber$1","lastContextDependency","pushProvider","providerFiber","popProvider","scheduleContextWorkOnParentPath","propagationRoot","propagateContextChanges","contexts","forcePropagateEntireTree","nextFiber","dependency","propagateParentContextChanges","isInsidePropagationBailout","currentParent","checkIfContextChanged","currentDependencies","memoizedValue","prepareToReadContext","readContext","readContextForConsumer","readContextDuringReconciliation","consumer","AbortControllerLocal","AbortController","signal","aborted","abort","scheduleCallback$2","NormalPriority","CacheContext","createCache","controller","refCount","releaseCache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","prevOnStartTransitionFinish","globalMostRecentTransitionTime","entangledListeners","requestTransitionLane","resolve","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","workInProgressRoot","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","getSuspendedCache","cacheFromPool","SuspenseException","SuspenseyCommitException","SuspenseActionException","noopSuspenseyCommitThenable","isThenableResolved","trackUsedThenable","thenableState","checkIfUseWrappedInAsyncCatch","shellSuspendCounter","fulfilledThenable","rejectedThenable","suspendedThenable","resolveLazy","lazyType","getSuspendedThenable","rejectedReason","thenableState$1","thenableIndexCounter$1","unwrapThenable","coerceRef","throwOnInvalidObjectTypeImpl","returnFiber","newChild","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","updateElement","updateFragment","updatePortal","fragment","createChild","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","delete","reconcileChildrenArray","step","reconcileChildrenIterator","firstChildFiber","reconcileChildFibers","mountChildFibers","hasForceUpdate","initializeUpdateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","cloneUpdateQueue","createUpdate","enqueueUpdate","executionContext","entangleTransitions","queueLanes","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","didReadFromEntangledAsyncAction","suspendIfUpdateReadFromEntangledAsyncAction","processUpdateQueue","workInProgress$jscomp$0","instance$jscomp$0","pendingQueue","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","workInProgressRootRenderLanes","workInProgressRootSkippedLanes","callCallback","commitCallbacks","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","suspenseStackCursor","pushDehydratedActivitySuspenseHandler","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","isSuspenseInstancePending","isSuspenseInstanceFallback","revealOrder","currentlyRenderingFiber","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","secondArg","nextRenderLanes","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","basicStateReducer","updateReducer","updateReducerImpl","lastRenderedReducer","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$60","revertLane","gesture","hasEagerState","eagerState","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","isHydrating$jscomp$0","snapshotChanged","updateEffect","subscribeToStore","pushSimpleEffect","updateStoreInstance","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","scheduleUpdateOnFiber","mountStateImpl","initialStateInitializer","updateOptimisticImpl","dispatchActionState","actionQueue","setPendingState","isRenderPhaseUpdate","actionNode","isTransition","runActionStateAction","prevState","handleActionReturnValue","onActionError","error$66","nextState","onActionSuccess","notifyActionListeners","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionStateActionEffect","rerenderActionState","updateRef","mountEffectImpl","fiberFlags","hookFlags","updateEffectImpl","mountEffect","updateEvent","componentUpdateQueue","useEffectEventImpl","nextImpl","impl","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","updateImperativeHandle","mountDebugValue","updateCallback","updateMemo","nextCreate","mountDeferredValueImpl","requestDeferredLane","updateDeferredValueImpl","prevValue","pendingState","finishedState","dispatchSetStateInternal","thenableWithOverride","chainThenableValue","requestUpdateLane","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","updateId","updateRefresh","refreshCache","provider","root$69","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","identifierPrefix","booleanOrThenable","applyDerivedStateFromProps","getDerivedStateFromProps","nextProps","classComponentUpdater","_reactInternals","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","propName$73","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","componentStack","e$74","logCaughtError","boundary","onCaughtError","errorBoundary","e$75","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","bailoutOnAlreadyFinishedWork","updateMemoComponent","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","_pendingMarkers","_retryCache","_transitions","deferHiddenOffscreenComponent","cachePool","bailoutOffscreenComponent","nextBaseLanes","remainingChildLanes","mountActivityChildren","mountWorkInProgressOffscreenFiber","retryActivityComponentWithoutHydrating","markRef","replayFunctionComponent","updateClassComponent","contextType","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","canHydrateHydrationBoundary","nextPrimaryChildren","fallback","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","primaryChildren","offscreenProps","scheduleSuspenseWorkOnFiber","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","suspenseContext","shouldForceFallback","beginWork","state$102","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","canHydrateInstance","canHydrateTextInstance","updateActivityComponent","pooledCacheLanes","markUpdate","preloadInstanceAndSuspendIfNeeded","complete","shouldRemainOnPreviousScreen","preloadResourceAndSuspendIfNeeded","resource","loading","preloadResource","scheduleRetryEffect","retryQueue","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$106","bubbleProperties","completedWork","didBailout","newChildLanes","child$107","completeWork","pendingContext","nextResource","innerHTML","autoFocus","createTextNode","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","destroy_","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$140","commitHostMount","focus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$201","propKey$217","propKey$222","propKey$227","setPropOnCustomElement","propKey$232","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","_reactRootContainer","insertOrAppendPlacementNode","commitHostSingletonAcquisition","singleton","removeAttributeNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","WeakSet","nextEffect","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$139","commitActivityHydrationCallbacks","commitSuspenseHydrationCallbacks","_reactRetry","registerSuspenseInstanceRetry","retryDehydratedSuspenseBoundary","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","prevHostParent","prevHostParentIsContainer","releaseSingletonInstance","clearHydrationBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","getRetryCache","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","head","querySelector","maybeNodes","getHydratableHoistableCache","httpEquiv","charSet","mountHoistable","acquireResource","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","wasHidden","prevOffscreenSubtreeIsHidden","recursivelyTraverseDisappearLayoutEffects","hideOrUnhideDehydratedBoundary","hostParentFiber","parent$141","parent$143","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","suspendedState","accumulateSuspenseyCommitOnFiber","matchMedia","matches","getStyleKey","getStylesheetSelectorFromKey","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","Promise","reject","onload","onerror","stylesheets","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","pendingEffectsStatus","pendingEffectsRoot","pendingFinishedWork","pendingEffectsLanes","pendingEffectsRemainingLanes","pendingPassiveTransitions","pendingRecoverableErrors","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrentByScheduler","thrownValue$167","handleThrow","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","imgCount","imgBytes","suspenseyImages","waitingForImages","waitingForViewTransition","unsuspend","timeoutOffset","insertSuspendedStylesheets","commit","stylesheetTimer","estimatedBytesWithinLimit","getEntriesByType","bits","resourceEntries","entry","transferSize","initiatorType","isLikelyStaticResource","responseEnd","overlapEntry","overlapStartTime","overlapTransferSize","overlapInitiatorType","connection","downlink","estimateBandwidth","imgTimer","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$6","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$4","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$165","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","cause","wrapperError","throwException","unwindUnitOfWork","skipSiblings","flushPendingEffects","finishedLanes","remainingLanes","previouslyPendingLanes","index$7","hiddenUpdatesForLane","markRootFinished","callbackNode","callbackPriority","flushPassiveEffects","eventsEnabled","_enabled","selection","rangeCount","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","focusedElem","selectionRange","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","flushMutationEffects","flushLayoutEffects","flushSpawnedWork","rootMutationHasEffect","priorSelectionInformation","curFocusedElem","priorFocusedElem","priorSelectionRange","win","start$jscomp$0","end$jscomp$0","extend","startMarker","endMarker","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","scrollTop","rootHasLayoutEffect","releaseRootPooledCache","onCommitFiberRoot","onRecoverableError","recoverableError","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","scheduleMicrotask","processRootScheduleInImmediateTask","processRootScheduleInMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$170","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$5","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","actionScopeLane","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1577","eventName$jscomp$inline_1578","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","capture","passive","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","tempB","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","endsWith","hasSrc","hasSrcSet","propValue$184","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","hydrationInstance","nextNode","node$jscomp$0","nextNode$jscomp$0","suspenseInstance","_stashedDisplay","_stashedText","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","previousWasRendering","wasRendering","formInst","preconnectAs","globalDocument","preloadSelector","getScriptKey","getScriptSelectorFromKey","adoptPreloadPropsForScript","link","insertStylesheet","limitedEscapedHref","currentProps","preloadProps","styles$243","resource$244","hrefLang","rawProps","styleProps","instance$249","prior","stylesheetProps","scriptProps","keyAttribute","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","onDefaultTransitionIndicator","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","attemptHydrationAtCurrentPriority","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","defaultOnDefaultTransitionIndicator","handleNavigate","canIntercept","intercept","pendingResolve","focusReset","scroll","handleNavigateComplete","isCancelled","startFakeNavigation","navigation","currentEntry","navigate","getState","history","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1840","componentOrElement","parentA","parentB","didFindChild","child$0","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2347","bundleType","rendererPackageName","currentDispatcherRef","reconcilerVersion","hook$jscomp$inline_2348","isDisabled","supportsFiber","inject","createRoot","unstable_strictMode","hydrateRoot","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","amdO","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","ns","getOwnPropertyNames","definition","toStringTag","getOwnPropertySymbols","propertyIsEnumerable","toPropertyKey","toPrimitive","TypeError","_defineProperty","writable","ownKeys","getOwnPropertyDescriptors","PopStateEventType","createBrowserHistory","getUrlBasedHistory","window2","globalHistory","hash","createLocation","usr","invariant","warning","cond","getHistoryState","idx","_objectSpread","parsePath","parsedPath","hashIndex","searchIndex","getLocation","createHref2","validateLocation","v5Compat","getIndex","handlePop","createURL","createBrowserURLImpl","replaceState","listen","createHref","encodeLocation","historyState","pushState","DOMException","go","isAbsolute","base","startsWith","matchRoutes","routes","locationArg","matchRoutesImpl","basename","allowPartial","stripBasename","branches","flattenRoutes","sort","score","siblings","every","compareIndexes","routesMeta","meta","childrenIndex","rankRouteBranches","decoded","decodePath","matchRouteBranch","parentsMeta","parentPath","_hasParentOptionalSegments","flattenRoute","route","hasParentOptionalSegments","relativePath","caseSensitive","joinPaths","computeScore","_route$path","exploded","explodeOptionalSegments","isOptional","required","restExploded","subpath","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","initialScore","some","reduce","branch","matchedParams","matchedPathname","remainingPathname","matchPath","pathnameBase","normalizePathname","pattern","matcher","compiledParams","compilePath","captureGroups","memo2","paramName","splatValue","regexpSource","startIndex","nextChar","ABSOLUTE_URL_REGEX","isAbsoluteUrl","resolvePathname","fromPathname","getInvalidPathError","field","dest","getPathContributingMatches","getResolveToMatches","pathMatches","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","from","isEmptyPath","toPathname","routePathnameIndex","toSegments","oldPathname","normalizeSearch","normalizeHash","resolvePath","hasExplicitTrailingSlash","hasCurrentTrailingSlash","ErrorResponseImpl","statusText","data2","internal","isRouteErrorResponse","getRoutePattern","Boolean","isBrowser","parseToInfo","_to","absoluteURL","isExternal","currentUrl","targetUrl","protocol","validMutationMethodsArr","validRequestMethodsArr","DataRouterContext","DataRouterStateContext","RSCRouterContext","useIsRSCRouterContext","ViewTransitionContext","isTransitioning","FetchersContext","AwaitContext","NavigationContext","LocationContext","RouteContext","outlet","isDataRoute","RouteErrorContext","ERROR_DIGEST_BASE","useInRouterContext","React2","useLocation","navigateEffectWarning","useIsomorphicLayoutEffect","static","useNavigate","router","useDataRouterContext","useCurrentRouteId","activeRef","fromRouteId","useNavigateStable","dataRouterContext","routePathnamesJson","relative","useNavigateUnstable","useParams","routeMatch","useResolvedPath","useRoutesImpl","dataRouterState","future","parentMatches","parentParams","parentPathname","parentPathnameBase","parentRoute","warningOnce","locationFromContext","_parsedLocationArg$pa","parsedLocationArg","parentSegments","renderedMatches","_renderMatches","navigationType","DefaultErrorComponent","useRouteError","lightgrey","preStyles","padding","codeStyles","devInfo","defaultErrorElement","RenderErrorBoundary","super","revalidation","parsed","_unused2","decodeRouteErrorResponseDigest","routeContext","RSCErrorHandler","errorRedirectHandledMap","_ref11","redirect2","reloadDocument","_unused","decodeRedirectErrorDigest","existingRedirect","redirectPromise","__reactRouterDataRouter","RenderedRoute","_ref12","staticContext","errorElement","ErrorBoundary","_deepestRenderedBoundaryId","onErrorHandler","errors","errorIndex","findIndex","renderFallback","fallbackIndex","HydrateFallback","hydrateFallbackElement","loaderData","errors2","needsToRunLoader","loader","_dataRouterState$matc","_dataRouterState$matc2","unstable_pattern","reduceRight","shouldRenderHydrateFallback","matches2","getChildren","getDataRouterConsoleError","hookName","useDataRouterState","useRouteContext","thisRoute","_state$errors","routeId","alreadyWarned","alreadyWarned2","warnOnce","condition","React3","_ref17","Navigate","_ref19","replace2","isStatic","jsonPath","Route","Router","_ref20","basenameProp","locationProp","staticProp","unstable_useTransitions","navigationContext","locationContext","trailingPathname","Routes","_ref21","createRoutesFromChildren","treePath","middleware","hasErrorBoundary","shouldRevalidate","handle","defaultMethod","defaultEncType","isHtmlElement","HTMLElement","createSearchParams","URLSearchParams","_formDataSupportsSubmitter","supportedFormEncTypes","getFormEncType","getFormSubmissionInfo","isButtonElement","isInputElement","isFormDataSubmitterSupported","globalThis","invariant2","singleFetchUrl","reqUrl","trailingSlashAware","extension","loadRouteModule","routeModulesCache","routeModule","import","__reactRouterContext","isSpaMode","reload","isPageLinkDescriptor","page","isHtmlLinkDescriptor","getNewMatchesForLinks","nextMatches","currentMatches","manifest","isNew","matchPathChanged","_currentMatches$index","manifestRoute","hasLoader","_currentMatches$","routeChoice","currentParams","nextUrl","nextParams","defaultShouldRevalidate","getModuleLinkHrefs","includeHydrateFallback","hrefs","clientActionModule","clientLoaderModule","hydrateFallbackModule","imports","flat","dedupeLinkDescriptors","descriptors","preloads","preloadsSet","deduped","sorted","sortKeys","isFogOfWarEnabled","routeDiscovery","ssr","useDataRouterContext2","React8","useDataRouterStateContext","FrameworkContext","useFrameworkContext","composeEventHandlers","theirHandler","ourHandler","getActiveMatches","isHydrated","errorIdx","PrefetchPageLinks","_ref35","linkProps","_excluded2","PrefetchPageLinksImpl","useKeyedPrefetchLinks","routeModules","keyedPrefetchLinks","setKeyedPrefetchLinks","interrupted","all","links","getKeyedPrefetchLinks","_ref36","_excluded3","newMatchesForData","newMatchesForAssets","dataHrefs","routesParams","foundOptOutRoute","_routeModules$m$route","hasClientLoader","unstable_trailingSlashAwareDataRequests","searchParams","moduleHrefs","_ref37","Scripts","serverHandoffString","renderMeta","routerMatches","isRSCRouterContext","enableFogOfWar","didRenderScripts","initialScripts","_manifest$hmr","contextScript","routeModulesScript","hmr","runtime","routeIndex","routeVarName","manifestEntry","clientMiddlewareModule","chunks","varName","chunk","_ref31","sri","routeIds","initialRoutes","acc","getPartialManifest","mergeRefs","_len7","_key7","React9","RemixRootDefaultErrorBoundary","_ref38","isOutsideRemixApp","errorInstance","heyDeveloper","BoundaryShell","errorString","background","_ref39","_routeModules$root","renderScripts","Layout","lang","isBrowser2","__reactRouterVersion","BrowserRouter","_ref40","historyRef","React10","setStateImpl","ABSOLUTE_URL_REGEX2","Link","_ref43","forwardedRef","discover","prefetch","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate","_excluded5","joinedPathname","useHref","shouldPrefetch","prefetchRef","prefetchHandlers","theirElementProps","frameworkContext","maybePrefetch","setMaybePrefetch","setShouldPrefetch","onFocus","onBlur","onMouseEnter","onMouseLeave","onTouchStart","observer","IntersectionObserver","entries","isIntersecting","observe","disconnect","setIntent","cancelIntent","usePrefetchBehavior","internalOnClick","replaceProp","isModifiedEvent","shouldProcessLinkClick","doNavigate","useLinkClickHandler","NavLink","_ref44","ariaCurrentProp","classNameProp","_excluded6","routerState","vtContext","useDataRouterContext3","currentPath","currentLocation","nextPath","nextLocation","useViewTransitionState","nextLocationPathname","endSlashPosition","isActive","isPending","renderProps","ariaCurrent","Form","_ref45","fetcherKey","onSubmit","_excluded7","submit","useSubmit","indexValues","getAll","qs","useFormAction","submitMethod","doSubmit","getDataRouterConsoleError2","useSearchParams","defaultInit","defaultSearchParamsRef","hasSetSearchParamsRef","locationSearch","defaultSearchParams","getSearchParamsForLocation","setSearchParams","nextInit","navigateOptions","newSearchParams","fetcherId","getUniqueFetcherId","currentRouteId","routerFetch","routerNavigate","request","endpoint","API_BASE_URL","credentials","headers","json","ok","api","post","put","upload","authApi","register","login","logout","checkUsername","username","setUsername","verifyEmail","token","resendVerification","forgotPassword","validateResetToken","resetPassword","get2FAStatus","setup2FA","verify2FA","disable2FA","regenerateBackupCodes","validate2FA","userId","draftsApi","publish","worksApi","query","mine","uploadsApi","file","preset","image","queryStr","workId","_response$upload","getUserAudios","_response$upload2","queryParams","limit","unreadOnly","getCount","markAsRead","notificationId","markAllAsRead","clearAll","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","withNativeArrayBuffer","ArrayBuffer","isView","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","FileReader","readAsDataURL","byteOffset","byteLength","TEXT_ENCODER","lookup","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","arraybuffer","bytes","decode","SEPARATOR","createPacketEncoderStream","TransformStream","packet","arrayBuffer","encoded","TextEncoder","encode","encodePacketToBinary","payloadLength","header","DataView","setUint8","setUint16","setBigUint64","BigInt","enqueue","TEXT_DECODER","concatChunks","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","emitReserved","hasListeners","nextTick","setTimeoutFn","globalThisShim","self","Function","pick","_len","_key","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","opts","useNativeTimers","clearTimeoutFn","utf8Length","randomString","TransportError","Transport","socket","forceBase64","doOpen","close","doClose","onClose","packets","write","onOpen","onData","onPacket","details","onPause","createUri","schema","_hostname","_port","_query","hostname","secure","encodedQuery","Polling","_polling","_poll","total","doPoll","decodePayload","encodedPayload","encodedPackets","decodedPacket","encodePayload","doWrite","uri","timestampRequests","timestampParam","b64","hasCORS","empty","BaseXHR","isSSL","xd","req","xhrStatus","pollXhr","Request","createRequest","_opts","_method","_uri","xdomain","_xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","cookieJar","addCookies","withCredentials","requestTimeout","parseCookies","_onLoad","_onError","_index","requestsCount","requests","_cleanup","fromError","unloadHandler","hasXHR2","newRequest","isReactNative","product","BaseWS","protocols","ws","createSocket","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","lastPacket","WebSocketCtor","WebSocket","MozWebSocket","transports","websocket","_packet","webtransport","_transport","WebTransport","transportOptions","ready","createBidirectionalStream","stream","decoderStream","maxPayload","TextDecoder","expectedLength","isBinary","headerArray","getUint16","getUint32","createPacketDecoderStream","MAX_SAFE_INTEGER","reader","readable","pipeThrough","getReader","encoderStream","pipeTo","_writer","getWriter","read","polling","re","parts","exec","host","authority","ipv6uri","pathNames","regx","names","queryKey","$0","$1","$2","withEventListeners","OFFLINE_EVENT_LISTENERS","SocketWithoutUpgrade","writeBuffer","_prevBufferLen","_pingInterval","_pingTimeout","_maxPayload","_pingTimeoutTime","parsedUri","_transportsByName","transportName","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","closeOnBeforeunload","qry","pairs","_beforeunloadEventListener","transport","_offlineEventListener","_onClose","_cookieJar","createCookieJar","_open","createTransport","EIO","priorWebsocketSuccess","setTransport","_onDrain","_onPacket","flush","onHandshake","_sendPacket","_resetPingTimeout","pingInterval","pingTimeout","_pingTimeoutTimer","upgrading","_getWritablePackets","payloadSize","_hasPingExpired","hasExpired","msg","compress","cleanupAndClose","waitForUpgrade","tryAllTransports","SocketWithUpgrade","_upgrades","_probe","failed","onTransportOpen","cleanup","freezeTransport","onTransportClose","onupgrade","_filterUpgrades","upgrades","filteredUpgrades","Socket","DEFAULT_TRANSPORTS","withNativeFile","File","hasBinary","toJSON","deconstructPacket","packetData","pack","_deconstructPacket","attachments","placeholder","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Encoder","replacer","EVENT","ACK","encodeAsString","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","deconstruction","Decoder","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","takeBinaryData","buf","tryParse","isPayloadValid","CONNECT","isObject","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","isInteger","isFinite","isPacketValid","isDataValid","connect","connect_error","disconnecting","newListener","io","connected","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","ids","acks","auth","_autoConnect","disconnected","subEvents","subs","onpacket","_readyState","_len2","_key2","retries","fromQueue","volatile","_addToQueue","ack","_registerAckCallback","isTransportWritable","isConnected","notifyOutgoingListeners","_this","ackTimeout","_len3","_key3","withError","emitWithAck","_len4","_key4","arg1","arg2","_this2","tryCount","_len5","responseArgs","_key5","_drainQueue","force","_sendConnectPacket","_pid","pid","_lastOffset","_clearAcks","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","sent","_len6","_key6","emitBuffered","subDestroy","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","Backoff","factor","jitter","attempts","rand","deviation","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","decoder","autoConnect","_reconnection","skipReconnect","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","Engine","openSubDestroy","errorSub","onping","ondata","ondecoded","_destroy","_close","onreconnect","attempt","loc","sameNamespace","forceNew","multiplex","initSocket","socketUrl","getSocket","onNotification","_socket2","onNotificationsRead","_socket3","joinThread","threadId","leaveThread","startTyping","stopTyping","onTyping","handleStart","typing","handleStop","_socket5","_socket6","onNewMessage","_socket7","onMessageSeen","_socket8","onMessageReaction","_socket9","settingsApi","changePassword","currentPassword","newPassword","changeEmail","newEmail","confirmEmailChange","changeUsername","newUsername","deleteAccount","confirmation","exportData","getPrivacy","updatePrivacy","settings","getMutedWords","addMutedWord","word","removeMutedWord","getNotifications","updateNotifications","getSessions","deleteSession","sessionId","deleteAllOtherSessions","getConnectedAccounts","disconnectAccount","usersApi","getDiscoverable","getProfile","updateProfile","updatePreferences","updateContentFilters","getBlockedUsers","blockUser","unblockUser","trending","period","featured","newest","genres","genre","slug","fandoms","category","fandom","tags","sync","bookmarkWork","unbookmarkWork","bookmarkPost","postId","unbookmarkPost","bookmarkAudio","audioId","authorUsername","unbookmarkAudio","likePost","unlikePost","likeWork","unlikeWork","likeComment","commentId","unlikeComment","getLikedPosts","parentId","imageUrl","replies","like","unlike","importApi","fromUrl","format","fromText","subject","communityApi","getMine","getByHandle","addAnnouncement","pinned","deleteAnnouncement","follow","unfollow","getFollowers","getFollowing","checkFollowing","getUserFollowers","getUserFollowing","getRequests","getSentRequests","acceptRequest","requestId","declineRequest","messagesApi","getUnreadCount","getThreads","createThread","recipientId","getThread","sendMessage","markSeen","deleteThread","addReaction","messageId","emoji","removeReaction","getFiles","searchUsers","getMutuals","updateSettings","getSettings","postsApi","author","appliesTo","skinId","css","isPublic","Navbar","isAuthed","onLogin","onLogout","showBrowseBar","setQuery","isBrowseMenuOpen","setIsBrowseMenuOpen","browseMenuRef","isAuthModalOpen","setIsAuthModalOpen","authMode","setAuthMode","formUsername","setFormUsername","formEmail","setFormEmail","formPassword","setFormPassword","formConfirmPassword","setFormConfirmPassword","form2FACode","setForm2FACode","pending2FAUserId","setPending2FAUserId","authError","setAuthError","authLoading","setAuthLoading","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","isUserMenuOpen","setIsUserMenuOpen","userMenuRef","isMobileMenuOpen","setIsMobileMenuOpen","mobileMenuRef","notificationCount","setNotificationCount","inboxCount","setInboxCount","closeMobileMenu","goToSearch","optionalQuery","openLogin","closeAuthModal","resetAuthFieldsForMode","nextMode","closeUserMenu","openBrowseMenu","closeBrowseMenu","onDocMouseDown","onKeyDown","onOpenAuth","notifResponse","inboxResponse","notificationsApi","fetchCounts","unsubNotification","unsubRead","unsubMessage","inboxPollInterval","browseItems","_jsxs","_jsx","sableLogo","alt","_ref5","role","_ref6","_ref7","_ref8","_ref9","_Fragment","searchNavIcon","draftNavIcon","inboxNavIcon","notificationsNavIcon","onChange","handleBrowseCategoryClick","onMouseDown","loginGraphic","user","textAlign","marginTop","marginBottom","em","requires2FA","Footer","currentYear","getFullYear","ChevronLeftIcon","viewBox","ChevronRightIcon","WorkCarousel","subtitle","onItemClick","titleIcon","autoScroll","autoScrollSpeed","scrollerRef","pauseUntilRef","isHoverPaused","setIsHoverPaused","loopItems","scrollByCards","el","temporarilyPause","card","scrollBy","behavior","rafId","tick","dt","isTemporarilyPaused","half","scrollWidth","cancelAnimationFrame","tabIndex","_w$accent","safeTitle","safeAuthor","accent","hasCover","cover","SableLoader","fullPage","sizeMap","small","medium","large","loadingAnimation","dropCapMap","DropCapA","DropCapB","DropCapC","DropCapD","E","DropCapE","F","DropCapF","G","DropCapG","DropCapH","I","DropCapI","J","K","DropCapK","DropCapL","DropCapM","N","DropCapN","O","DropCapO","P","DropCapP","Q","DropCapQ","R","DropCapR","DropCapS","DropCapT","U","DropCapU","V","DropCapV","W","Y","Z","DropCapTitle","variant","firstChar","restOfTitle","dropCapSrc","BrowseOrnament","browseGraphic","HomeLoggedIn","setTrending","setFeatured","setNewest","setLoading","openWork","trendingData","featuredData","newestData","discoveryApi","works","transformWork","_id","authorName","coverImageUrl","defaultCover","trendingWorks","featuredWorks","newestWorks","trendingIds","featuredIds","dedupedFeatured","usedIds","dedupedNewest","homeIcon","border","borderRadius","HomeLoggedOut","setWorks","Browse","language","wordCount","views","MentionInput","rows","followingList","textareaRef","highlightRef","mentionQuery","setMentionQuery","mentionIndex","setMentionIndex","showSuggestions","setShowSuggestions","cursorPosition","setCursorPosition","suggestions","_u$username","_u$displayName","selectSuggestion","textBeforeCursor","textAfterCursor","mentionStart","newText","newCursor","setSelectionRange","mentionMatch","handleScroll","avatarUrl","PostMenu","onEdit","onDelete","onReport","isOwner","isOpen","setIsOpen","menuRef","handleClickOutside","renderMentions","part","TOPICS","label","initials","Avatar","avatar","openLoginModal","Event","Communities","tab","setTab","currentUser","setCurrentUser","suggestedUsers","setSuggestedUsers","loadingUsers","setLoadingUsers","setFollowingList","editingPost","setEditingPost","editDraft","setEditDraft","editingInProgress","setEditingInProgress","deletingPost","setDeletingPost","deletingInProgress","setDeletingInProgress","formatTimeAgo","dateString","seconds","toLocaleDateString","followsApi","following","users","loadUsers","scrollTo","timer1","timer2","setLoadingPosts","setPostsError","transformedPosts","posts","_p$author","_p$author2","_p$author3","createdAt","caption","commentsCount","likes","likesCount","authorId","editedAt","setPosts","fetchPosts","postType","setPostType","draft","setDraft","postImage","setPostImage","uploadingImage","setUploadingImage","imageInputRef","loadingPosts","postsError","likedPosts","setLikedPosts","bookmarkedPosts","setBookmarkedPosts","likeInProgress","setLikeInProgress","bookmarkInProgress","setBookmarkInProgress","followingInProgress","setFollowingInProgress","replyingTo","setReplyingTo","replyDraft","setReplyDraft","replyImageUrl","setReplyImageUrl","replyInProgress","setReplyInProgress","postComments","setPostComments","editingComment","setEditingComment","editCommentText","setEditCommentText","editCommentImage","setEditCommentImage","likedComments","setLikedComments","replyingToComment","setReplyingToComment","commentReplyText","setCommentReplyText","commentReplyImage","setCommentReplyImage","commentReplies","setCommentReplies","normalizedUsername","handleCommentImageUpload","_e$target$files","files","cancelEditComment","startReplyToComment","commentsApi","loadCommentReplies","requireAuth","communityHrefFor","bookmarksApi","bookmarks","likesApi","postIds","postingInProgress","setPostingInProgress","handleEditPost","handleDeletePost","removeImage","preview","revokeObjectURL","handleReport","alert","filteredPosts","_p$user","_p$user2","accept","_e$target$files2","_imageInputRef$curren","click","userDisplay","userHandle","userAvatar","uploadErr","postData","newPost","_p$meta","_p$meta2","handleLike","handleReply","comments","share","clipboard","writeText","handleShare","handleBookmark","comment","saveEditComment","isLiked","handleLikeComment","startEditComment","handleDeleteComment","reply","replyId","parentCommentId","handleDeleteCommentReply","submitCommentReply","submitReply","_u$stats","stats","followersCount","isFollowing","isCurrentlyFollowing","handleFollow","toISOString","About","Search","_results$works","_results$works$items","_results$users","_results$users$items","_results$fandoms","_results$fandoms$item","_results$tags","_results$tags$items","_results$works2","_results$works2$items","_results$users2","_results$users2$items","_results$fandoms2","_results$fandoms2$ite","_results$tags2","_results$tags2$items","urlQuery","urlType","setInput","searchType","setSearchType","results","setResults","performSearch","hasQuery","hasResults","minLength","_w$stats","textDecoration","viewCount","workCount","usageCount","formatPresenceTime","dateStr","diffMs","diffMins","diffHours","diffDays","getPresenceText","presence","lastSeenAt","lastActiveAt","StatusDot","_trim$","letter","ReactionPicker","onSelect","activeTab","setActiveTab","faces","gestures","hearts","symbols","MessageBubble","isMe","currentUserId","onAddReaction","onRemoveReaction","showReactionPicker","setShowReactionPicker","reactions","myReaction","primaryReaction","hasReaction","onDoubleClick","attachmentUrl","attachmentName","onContextMenu","Inbox","leftTab","setLeftTab","rightMode","setRightMode","threads","setThreads","setRequests","activeThreadId","setActiveThreadId","activeThread","setActiveThread","messages","setMessages","sending","setSending","userQuery","setUserQuery","setSearchUsers","mutuals","setMutuals","composeDraft","setComposeDraft","isChatSearchOpen","setIsChatSearchOpen","chatSearchQuery","setChatSearchQuery","isInfoOpen","setIsInfoOpen","infoMenuRef","setFiles","fileQuery","setFileQuery","activeFileId","setActiveFileId","setSettings","readReceipts","showSeenIndicators","typingUsers","setTypingUsers","typingTimeoutRef","seenInfo","setSeenInfo","fileInputRef","showDeleteModal","setShowDeleteModal","deleteInProgress","setDeleteInProgress","getOtherParticipant","thread","participantDetails","_threadsData$threads","meData","threadsData","requestsData","settingsData","mutualsData","lastActivityPing","sendActivityPing","activityInterval","loadThread","lastMessage","lastMessageAt","unsubSeen","seenAt","unsubReaction","reaction","unsubTyping","otherUser","filteredThreads","filteredFiles","activeFile","visibleMessages","handleDraftChange","handleAddReaction","handleRemoveReaction","handleFileUpload","attachmentType","openCompose","startChatWithUser","openChat","handleLeftTabClick","_data$files","openFiles","updateSetting","newSettings","muteThread","openDeleteModal","goToUserProfile","toggleChatSearch","toggleInfoDropdown","formatTime","days","toLocaleTimeString","hour","minute","_other$presence","isRequest","existingUsernames","suggestedMutuals","_t$unreadCounts","_other$presence2","unread","unreadCounts","_u$presence","renderMiddleColumn","maxWidth","gap","flexWrap","alignItems","usersToShow","listTitle","flexDirection","_u$presence2","typingUserIds","otherPresence","presenceText","senderId","_fileInputRef$current","renderRightColumn","TypeIcon","follow_request","donation","mention","system","TypeChip","AvatarCircle","getDayGroup","today","getMonth","getDate","yesterday","setDate","notifDate","getTime","daysAgo","day","Notifications","silentMode","setSilentMode","notifications","setNotifications","unreadCount","setUnreadCount","setError","processingRequests","setProcessingRequests","fetchNotifications","newNotif","notificationIds","handleMarkAsRead","handleMarkAllAsRead","handleAcceptRequest","notification","followRequestId","newSet","handleDeclineRequest","handleNotificationClick","actorId","_notification$actor","actor","actorUsername","filtered","_n$actor","_n$actor2","actorName","grouped","byDay","requestCount","_n$actor3","_n$actor4","_n$actor5","isProcessing","actorAvatar","Stat","NavItem","ActionCard","icon","desc","Profile","_works$","_drafts$","setActive","setUser","drafts","setDrafts","uploadingAvatar","setUploadingAvatar","avatarInputRef","worksData","draftsData","effectiveUsername","followingCount","worksCount","goToWorksPage","goToDraftsPage","draftsCount","profileImageUrl","_avatarInputRef$curre","_avatarInputRef$curre2","bio","publishedAt","openWorkView","openWorkEditor","updatedAt","openDraftEditor","draftId","Settings","activeNav","setActiveNav","setVisibility","activeModal","setActiveModal","modalValue","setModalValue","modalValue2","setModalValue2","modalValue3","setModalValue3","modalStatus","setModalStatus","modalLoading","setModalLoading","showPassword2","setShowPassword2","showPassword3","setShowPassword3","blockedUsers","setBlockedUsers","mutedWords","setMutedWords","dmSetting","setDmSetting","contentFilters","setContentFilters","mature","explicit","violence","selfHarm","spoilers","privacySettings","setPrivacySettings","showListeningActivity","showCollections","allowDMRequests","personalInfo","setPersonalInfo","dateOfBirth","timezone","country","region","pronouns","sessions","setSessions","connectedAccounts","setConnectedAccounts","hasPassword","setHasPassword","audioPrefs","setAudioPrefs","crossfade","crossfadeSeconds","skinName","setSkinName","skinAppliesTo","setSkinAppliesTo","skinCss","setSkinCss","skinSaving","setSkinSaving","skinError","setSkinError","customSkins","setCustomSkins","skinsLoading","setSkinsLoading","_meData$user","_meData$user$preferen","_meData$user2","_meData$user2$prefere","_meData$user3","_meData$user4","_meData$user4$prefere","_meData$user5","_meData$user6","_meData$user7","_meData$user8","_meData$user9","_meData$user0","blockedData","mutedData","privacyData","sessionsData","accountsData","skinsData","privacy","accounts","skinsApi","skins","preferences","openModal","closeModal","isGoodbyeModal","isSkinModal","isMiniEditModal","handleVisibilityChange","newVisibility","handleDownloadData","download","edit","skin","confirm","handleSkinDelete","profileImg","minHeight","modalTitle","_user$twoFactor","_user$twoFactor2","twoFactor","device","isCurrent","lastActive","toLocaleString","newFilters","newPrefs","newSeconds","renderMiniModalBody","Bookmarks","setBookmarks","setFilter","removeBookmark","bookmark","handleOpenBookmark","loadBookmarks","coverUrl","SKIN_OPTIONS","PRIVACY_OPTIONS","LANGUAGE_OPTIONS","GENRE_SUGGESTIONS","makeId","ActionPill","subLabel","renderBodyWithImages","full","altRaw","urlRaw","boxShadow","NewDraft","setTitle","chapters","setChapters","order","audioUrl","activeChapterId","setActiveChapterId","activeChapter","chapterAudioUrl","setBody","newBody","setChapterAudio","moveChapter","chId","setTags","setSkin","setPrivacy","setLanguage","setGenre","setFandom","setCoverImageUrl","setAudioUrl","imageUrls","setImageUrls","activeTool","setActiveTool","tagInput","setTagInput","genreInput","setGenreInput","fandomInput","setFandomInput","importUrl","setImportUrl","importLoading","setImportLoading","setStatus","previewOn","setPreviewOn","loadingDraft","setLoadingDraft","bodyRef","toggleTool","tool","wrapSelection","after","selectedText","beforeText","afterText","saveDraft","newId","loadDraft","IconImg","objectFit","draggable","chapterIcon","importIcon","tagsIcon","skinsIcon","privacyIcon","langIcon","imageIcon","previewIcon","renameChapter","newTitle","deleteChapter","newCh","cleaned","removeTag","opt","controls","safeAlt","_el$selectionStart","_el$selectionEnd","insertIntoBody","paddingLeft","whiteSpace","lineStart","beforeLine","afterLineStart","formatHeading","formatQuote","formatList","formatLink","savedDraftId","work","ListAvatar","DEFAULT_WIDGETS","announcements","donations","recentWorks","chatroom","YourCommunityPage","initialDisplayName","isEditing","setIsEditing","saving","setSaving","communityPage","setCommunityPage","setDisplayName","setHandle","setBio","setLink","bannerUrl","setBannerUrl","profileUrl","setProfileUrl","draftName","setDraftName","draftBio","setDraftBio","draftLink","setDraftLink","draftVisibility","setDraftVisibility","isSearchOpen","setIsSearchOpen","searchQuery","setSearchQuery","userWorks","setUserWorks","userAudios","setUserAudios","readingList","setReadingList","setAnnouncements","newAnnouncementText","setNewAnnouncementText","newAnnouncementPinned","setNewAnnouncementPinned","uploadingBanner","setUploadingBanner","uploadingProfile","setUploadingProfile","bannerInputRef","profileInputRef","followers","setFollowers","setFollowing","followModalOpen","setFollowModalOpen","followModalTab","setFollowModalTab","loadingFollows","setLoadingFollows","communityData","userData","_userData$user","bannerImageUrl","pageAvatar","widgets","setWidgets","loadCommunityPage","audiosData","uploads","reading","progress","loadUserData","openFollowModal","followersData","followingData","closeFollowModal","loadFollowCounts","chatMessages","setChatMessages","chatInput","setChatInput","chatEndRef","isInitialChatMount","handleSendMessage","newMsg","scrollIntoView","donationHistory","totalReceived","handleWorkClick","toggleWidget","widgetKey","handleAddAnnouncement","hasDisabledWidgets","openEdit","editParam","wantsEditFromQuery","wantsEditFromState","backgroundImage","_bannerInputRef$curre","editBannerIcon","_profileInputRef$curr","_work$wordCount","plays","ann","handleDeleteAnnouncement","_work$wordCount2","newName","newBio","newLink","subtractWidgetIcon","DONATION_PRESETS","PublicCommunityPage","normalizedHandle","profile","setProfile","setUserId","accessDenied","setAccessDenied","setIsFollowing","followLoading","setFollowLoading","_communityData$page$u","banner","errorMsg","donationAmount","setDonationAmount","customDonation","setCustomDonation","donationSuccess","setDonationSuccess","donationNote","setDonationNote","amt","custom","parseFloat","getEffectiveDonation","toFixed","GenreIndex","setGenres","loadGenres","GenreDetail","genreSlug","setSort","setSearch","loadGenre","filteredWorks","_w$title","_w$authorUsername","FandomIndex","setFandoms","loadFandoms","FandomDetail","fandomSlug","loadFandom","TagsIndex","loadTags","localeCompare","nameA","nameB","sensitivity","groupByFirstLetter","openTag","TagDetail","tagSlug","setTag","loadTag","YourWorks","loadWorks","backgroundSize","backgroundPosition","handleEdit","handleDelete","BUILTIN_SKIN_OPTIONS","WorkEditor","customSkinId","setCustomSkinId","handleSave","loadWork","_unused3","loadCustomSkins","cs","VIEW_PREFS_KEY","loadJson","safeParse","localStorage","getItem","parseDurationToSeconds","dur","sec","formatSeconds","secs","padStart","WorkView","_activeChapter$body","normalizedUser","decodedId","panel","setPanel","commentsOpen","setCommentsOpen","commentDraft","setCommentDraft","setComments","commentsLoading","setCommentsLoading","loadComments","prefs","setPrefs","_perUser$fontSize","_perUser$lineHeight","_perUser$width","perUser","theme","bookmarkedAudioIds","setBookmarkedAudioIds","isBookmarked","setIsBookmarked","showReportModal","setShowReportModal","reportReason","setReportReason","reportSubmitting","setReportSubmitting","reportSubmitted","setReportSubmitted","bookmarked","checkBookmarkStatus","_unused4","loadAudioBookmarks","audioRef","nowPlayingId","setNowPlayingId","setIsPlaying","audioBarOpen","setAudioBarOpen","musicBarOpen","setMusicBarOpen","audioCurrentSec","setAudioCurrentSec","audioDurationSec","setAudioDurationSec","audioSeeking","setAudioSeeking","musicProvider","setMusicProvider","musicQuery","setMusicQuery","youtubeVideoId","setYoutubeVideoId","spotifyConnected","setSpotifyConnected","handleMusicQuerySubmit","videoId","patterns","parseYoutubeUrl","setItem","saveJson","setWork","loadingWork","setLoadingWork","workError","setWorkError","library","libraryWorks","customSkinCss","setCustomSkinCss","_data$skin","_unused5","loadCustomSkin","authorHandle","getChaptersFromWork","bodyRaw","blocks","flushPara","imgRe","trimmed","lastIdx","parseBodyToBlocks","audioTracks","tracks","chapterAudioTrack","chapter","getChapterAudioTrack","workAudioTrack","getWorkAudioTrack","currentTrack","currentTrackFav","audioHasDuration","audioProgressPct","onPlay","onEnded","onTimeUpdate","onLoadedMeta","pendingAutoPlay","setPendingAutoPlay","toggleComments","openPanel","toggleAudioFav","trackId","isCurrentlyBookmarked","ensureAudioBarHasDefaultTrack","selectTrack","closeReportModal","themeClass","skinClass","_unused6","stopAndResetAudioElement","paused","onMouseUp","onTouchEnd","_unused7","seekAudioTo","justifyContent","bookmarkOnIcon","bookmarkOffIcon","frameBorder","allow","allowFullScreen","musicIcon","settingsIcon","wasBookmarked","commentsIcon","chapterTrack","workTrack","isImageUrl","_c$authorUsername","htmlFor","fav","borderColor","Drafts","limits","setLimits","maxDrafts","currentCount","loadDrafts","chapterCount","DraftEditor","publishing","setPublishing","PRESET_AMOUNTS","SupportSable","selectedAmount","setSelectedAmount","customAmount","setCustomAmount","setMethod","showSuccess","setShowSuccess","amountError","setAmountError","cardErrors","setCardErrors","cardName","setCardName","cardNumber","setCardNumber","expiry","setExpiry","cvc","setCvc","zip","setZip","effectiveAmount","raw","formatMoney","validateAmount","rawValue","fallbackPreset","onlyDigits","validateCardForm","digits","shouldDouble","luhnIsValid","mmYY","yy","fullYear","expiryIsValid","handleProviderPay","inputMode","readOnly","spaced","normalizeExpiry","amtErr","nextErrors","confirmationImg","OnboardingUsername","checking","setChecking","available","setAvailable","submitting","setSubmitting","maxLength","VerifyEmail","verify","ForgotPassword","setEmail","trimmedEmail","ResetPassword","setPassword","confirmPassword","setConfirmPassword","valid","validateToken","CustomEvent","paddingRight","TwoFactorSetup","setStep","qrCode","setQrCode","secret","setSecret","setToken","backupCodes","setBackupCodes","showSecret","setShowSecret","checkStatus","wordBreak","gridTemplateColumns","codesText","FAQ_SECTIONS","questions","FAQ","openItems","setOpenItems","contactName","setContactName","contactEmail","setContactEmail","contactSubject","setContactSubject","contactMessage","setContactMessage","contactLoading","setContactLoading","contactSuccess","setContactSuccess","contactError","setContactError","block","section","sectionId","toggleItem","contactApi","ErrorPage","errorDetails","errorImg","App","setIsAuthed","handleLogin","handleLogout","checkAuth"],"ignoreList":[],"sourceRoot":""}